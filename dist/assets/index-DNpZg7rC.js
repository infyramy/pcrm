import{d as K,r as p,D as h,H as R,o as M,an as q,c as o,e as z,g as s,w as i,f as a,K as C,b as t,$ as G,h as d,W as $,t as B,T as H,j as Y,_ as F,k as J,ah as O,l as r,a6 as Q}from"./index-DWMcEsZL.js";import{_ as D,a as E}from"./CardContent.vue_vue_type_script_setup_true_lang-OghApYBC.js";import{_ as X,S as Z,L as ee}from"./CardFooter.vue_vue_type_script_setup_true_lang-C7-oCGOM.js";import{_ as U,a as P}from"./CardTitle.vue_vue_type_script_setup_true_lang-CnxpTyPY.js";import{_ as I,a as te}from"./Label.vue_vue_type_script_setup_true_lang-DUwXJ6qU.js";import{_ as se}from"./Textarea.vue_vue_type_script_setup_true_lang-B1BXL8iq.js";import{C as ae}from"./circle-alert-DS8f9FOJ.js";import{C as N}from"./circle-check-big-DgxldTAy.js";import{C as x}from"./check-CRExx-U7.js";const le={class:"space-y-6"},oe={class:"flex items-center gap-3"},ie={class:"p-2 bg-blue-100 dark:bg-blue-900/20 rounded-lg"},re={class:"space-y-2"},ne={class:"min-h-[20px]"},de={key:0,class:"text-sm text-destructive flex items-center gap-1"},ue={key:1,class:"text-sm text-green-600 flex items-center gap-1"},ce={key:2,class:"text-sm text-muted-foreground"},fe={class:"space-y-2"},me={class:"flex items-center justify-between"},ve={class:"text-sm text-muted-foreground"},pe={key:0,class:"text-sm text-green-600 flex items-center gap-1"},ge={class:"flex items-center gap-2 text-sm text-muted-foreground"},he={class:"flex items-center gap-1"},xe={key:0,class:"w-2 h-2 bg-green-500 rounded-full"},_e={key:1,class:"w-2 h-2 bg-orange-500 rounded-full"},be={key:2,class:"w-2 h-2 bg-muted-foreground rounded-full"},ye={key:0},we={key:1},ke={key:2},Te={class:"flex items-center gap-3"},Ce={key:0,class:"flex items-center gap-2"},Se={key:1,class:"flex items-center gap-2"},Ve={class:"flex items-center gap-3"},$e={class:"p-2 bg-amber-100 dark:bg-amber-900/20 rounded-lg"},Be={class:"space-y-2 text-sm text-muted-foreground"},Fe={class:"flex items-start gap-2"},De={class:"flex items-start gap-2"},Ee={class:"flex items-start gap-2"},Ue={class:"flex items-start gap-2"},Pe=K({__name:"index",setup(Ie){const _=J(),b=O(),l=p({title:"",description:""}),g=p({title:"",description:""}),c=p(!1),f=p(!1),u=p("");let m=null;const v=h(()=>l.value.title!==g.value.title||l.value.description!==g.value.description),y=h(()=>l.value.title.length>=5&&l.value.title.length<=100),w=h(()=>l.value.description.length<=500),S=h(()=>y.value&&w.value&&v.value),V=()=>l.value.title.trim()?l.value.title.length<5?(u.value="Title must be at least 5 characters long",!1):l.value.title.length>100?(u.value="Title must be less than 100 characters",!1):(u.value="",!0):(u.value="Form title is required",!1),A=()=>{u.value&&(u.value="")},L=()=>{m&&clearTimeout(m),m=setTimeout(()=>{S.value&&k(!0)},3e3)};R([()=>l.value.title,()=>l.value.description],()=>{f.value=!1,L()});const k=async(n=!1)=>{if(V())try{c.value=!0,await new Promise(e=>setTimeout(e,1e3)),g.value={...l.value},f.value=!0,n||(C.success("Form information saved successfully!"),setTimeout(()=>{_.push(`/studio/forms/${b.params.id}/sessions`)},500))}catch(e){console.error("Error saving form:",e),C.error("Failed to save form. Please try again.")}finally{c.value=!1}},W=()=>{v.value?confirm("You have unsaved changes. Are you sure you want to cancel?")&&_.push(`/studio/forms/${b.params.id}`):_.push(`/studio/forms/${b.params.id}`)},j=async()=>{try{await new Promise(e=>setTimeout(e,500));const n={title:"",description:""};l.value={...n},g.value={...n},f.value=!0}catch(n){console.error("Error loading form data:",n),C.error("Failed to load form data")}};return M(()=>{j(),window.addEventListener("beforeunload",n=>{v.value&&(n.preventDefault(),n.returnValue="")})}),q(()=>{m&&clearTimeout(m),window.removeEventListener("beforeunload",()=>{})}),(n,e)=>(r(),o("div",le,[e[18]||(e[18]=z('<div class="space-y-2" data-v-f97126d9><h1 class="text-2xl font-bold text-foreground" data-v-f97126d9>Form Setup</h1><p class="text-muted-foreground" data-v-f97126d9> Configure the basic information for your form. This will be the first thing your clients see. </p></div><div class="flex items-center gap-2 text-sm text-muted-foreground" data-v-f97126d9><div class="flex items-center gap-1" data-v-f97126d9><div class="w-2 h-2 bg-primary rounded-full" data-v-f97126d9></div><span data-v-f97126d9>Step 1 of 6</span></div><span data-v-f97126d9>â€¢</span><span data-v-f97126d9>Basic Information</span></div>',2)),s(a(D),null,{default:i(()=>[s(a(U),null,{default:i(()=>[t("div",oe,[t("div",ie,[s(a(G),{class:"w-5 h-5 text-blue-600 dark:text-blue-400"})]),t("div",null,[s(a(P),null,{default:i(()=>e[3]||(e[3]=[d("Basic Information")])),_:1}),e[4]||(e[4]=t("p",{class:"text-sm text-muted-foreground mt-1"}," Add the essential details that will help clients understand your form ",-1))])])]),_:1}),s(a(E),{class:"space-y-6"},{default:i(()=>[t("form",{onSubmit:e[2]||(e[2]=Y(()=>k(),["prevent"])),class:"space-y-6"},[t("div",re,[s(a(I),{for:"title",class:"text-sm font-medium"},{default:i(()=>e[5]||(e[5]=[d(" Form Title * ")])),_:1}),s(a(te),{id:"title",modelValue:l.value.title,"onUpdate:modelValue":e[0]||(e[0]=T=>l.value.title=T),placeholder:"e.g., Wedding Photography Booking Form",class:$(["transition-colors",{"border-destructive focus-visible:ring-destructive":u.value,"border-green-500 focus-visible:ring-green-500":y.value&&l.value.title}]),onBlur:V,onInput:A},null,8,["modelValue","class"]),t("div",ne,[u.value?(r(),o("p",de,[s(a(ae),{class:"w-4 h-4"}),d(" "+B(u.value),1)])):y.value&&l.value.title?(r(),o("p",ue,[s(a(N),{class:"w-4 h-4"}),e[6]||(e[6]=d(" Great! This title is clear and descriptive "))])):(r(),o("p",ce," Choose a clear, descriptive title that tells clients what this form is for "))])]),t("div",fe,[s(a(I),{for:"description",class:"text-sm font-medium"},{default:i(()=>e[7]||(e[7]=[d(" Description / Intro Text ")])),_:1}),s(a(se),{id:"description",modelValue:l.value.description,"onUpdate:modelValue":e[1]||(e[1]=T=>l.value.description=T),placeholder:"Welcome! Please fill out this form to help us understand your photography needs and preferences. This will help us provide you with the best possible service for your special day.",class:$(["min-h-[100px] transition-colors",{"border-green-500 focus-visible:ring-green-500":w.value&&l.value.description}]),rows:"4"},null,8,["modelValue","class"]),t("div",me,[t("p",ve,B(l.value.description.length)+"/500 characters ",1),w.value&&l.value.description?(r(),o("p",pe,[s(a(N),{class:"w-4 h-4"}),e[8]||(e[8]=d(" Perfect length "))])):H("",!0)]),e[9]||(e[9]=t("p",{class:"text-xs text-muted-foreground"}," This message will appear at the top of your form. Use it to welcome clients and explain what information you need. ",-1))])],32)]),_:1}),s(a(X),{class:"flex items-center justify-between bg-muted/30"},{default:i(()=>[t("div",ge,[t("div",he,[f.value?(r(),o("div",xe)):v.value?(r(),o("div",_e)):(r(),o("div",be))]),f.value?(r(),o("span",ye,"Saved")):v.value?(r(),o("span",we,"Unsaved changes")):(r(),o("span",ke,"Ready to save"))]),t("div",Te,[s(a(F),{type:"button",variant:"outline",onClick:W,disabled:c.value},{default:i(()=>e[10]||(e[10]=[d(" Cancel ")])),_:1},8,["disabled"]),s(a(F),{onClick:k,disabled:!S.value||c.value,class:"min-w-[100px]"},{default:i(()=>[c.value?(r(),o("div",Ce,e[11]||(e[11]=[t("div",{class:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"},null,-1),d(" Saving... ")]))):(r(),o("div",Se,[s(a(Z),{class:"w-4 h-4"}),e[12]||(e[12]=d(" Save & Continue "))]))]),_:1},8,["disabled"])])]),_:1})]),_:1}),s(a(D),null,{default:i(()=>[s(a(U),null,{default:i(()=>[t("div",Ve,[t("div",$e,[s(a(ee),{class:"w-5 h-5 text-amber-600 dark:text-amber-400"})]),s(a(P),{class:"text-base"},{default:i(()=>e[13]||(e[13]=[d("Tips for Better Forms")])),_:1})])]),_:1}),s(a(E),null,{default:i(()=>[t("ul",Be,[t("li",Fe,[s(a(x),{class:"w-4 h-4 text-green-500 mt-0.5 flex-shrink-0"}),e[14]||(e[14]=t("span",null,"Use clear, specific titles that describe the purpose of your form",-1))]),t("li",De,[s(a(x),{class:"w-4 h-4 text-green-500 mt-0.5 flex-shrink-0"}),e[15]||(e[15]=t("span",null,"Write welcoming descriptions that set expectations for your clients",-1))]),t("li",Ee,[s(a(x),{class:"w-4 h-4 text-green-500 mt-0.5 flex-shrink-0"}),e[16]||(e[16]=t("span",null,"Keep descriptions concise but informative (aim for 100-300 characters)",-1))]),t("li",Ue,[s(a(x),{class:"w-4 h-4 text-green-500 mt-0.5 flex-shrink-0"}),e[17]||(e[17]=t("span",null,"Consider mentioning how long the form takes to complete",-1))])])]),_:1})]),_:1})]))}}),ze=Q(Pe,[["__scopeId","data-v-f97126d9"]]);export{ze as default};
