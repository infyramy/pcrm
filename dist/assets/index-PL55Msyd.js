import{d as H,r as c,c as w,v as L,T as F,g as a,b as t,f as o,w as s,_ as m,h as r,t as d,a5 as I,a6 as W,a7 as Y,a8 as C,k as q,l as x}from"./index-C2UrP5hw.js";import{_ as J}from"./PageHeader.vue_vue_type_script_setup_true_lang-B1Je6Lxx.js";import{_ as O}from"./index-BFTYKSG-.js";import{_ as G}from"./DataTable.vue_vue_type_script_setup_true_lang-BmsiL-Nh.js";import{_ as p,a as v}from"./CardContent.vue_vue_type_script_setup_true_lang-eN_1_cPI.js";import{_ as K}from"./CardDescription.vue_vue_type_script_setup_true_lang-CMmCBcWv.js";import{_ as Q,a as X}from"./CardTitle.vue_vue_type_script_setup_true_lang-Q0gFftlI.js";import{_ as Z,a as ee,b as te,c as se,d as M}from"./SelectValue.vue_vue_type_script_setup_true_lang-BJhQFqbJ.js";import{_ as k}from"./Input.vue_vue_type_script_setup_true_lang-CSZ-Dkyw.js";import{_ as g}from"./Label.vue_vue_type_script_setup_true_lang-DVjpD-L7.js";import{_ as ae,a as oe,b as ie,c as le}from"./DialogTitle.vue_vue_type_script_setup_true_lang-CGEsSMnb.js";import{_ as ne}from"./DialogDescription.vue_vue_type_script_setup_true_lang-CGpZvTRB.js";import{_ as re}from"./DialogFooter.vue_vue_type_script_setup_true_lang-zsfmxkQJ.js";import{L as de}from"./LoadingPage-DgCemYQp.js";import"./check-CMqAtv7z.js";import"./ohash.D__AXeF1-DHF4M4F_.js";import"./useFormControl-BTKw-cda.js";const me={class:"space-y-6"},ue={class:"flex items-center justify-between"},fe={class:"flex items-center gap-2"},ce={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},pe={class:"flex items-center justify-between"},ve={class:"text-2xl font-bold text-gray-900"},ge={class:"flex items-center justify-between"},_e={class:"text-2xl font-bold text-orange-600"},ye={class:"flex items-center justify-between"},xe={class:"text-2xl font-bold text-green-600"},ke={class:"flex items-center justify-between"},we={class:"text-2xl font-bold text-purple-600"},Ce={class:"font-semibold text-gray-900"},he={class:"text-sm text-gray-500"},be={class:"text-xs text-gray-400"},Me={class:"text-sm"},Ae={class:"font-medium"},$e={class:"text-gray-500 capitalize"},Re={class:"text-sm"},je={class:"font-medium text-green-600"},ze={class:"text-gray-500"},Ve={class:"text-sm"},Te={class:"font-medium text-orange-600"},De={class:"text-sm"},Se={key:0,class:"font-medium"},Be={key:1,class:"text-gray-400"},Ee={class:"flex justify-center"},Pe={class:"text-center py-8"},Ne={class:"space-y-4"},Ue={class:"grid grid-cols-2 gap-4"},ot=H({__name:"index",setup(He){const _=q(),A=c(!1),u=c(!1),l=c({name:"",email:"",phone:"",commissionRate:10,commissionType:"percentage",notes:""}),$=[{count:1,label:"Affiliates",href:"/studio/affiliates",action:!1}],f=c({totalAffiliates:8,activeAffiliates:6,totalCommissionsPaid:12500,pendingCommissions:3200,totalReferrals:45,averageCommissionRate:12.5}),R=[{key:"name",title:"Affiliate",sortable:!0,filterable:!0},{key:"commission",title:"Commission Rate",sortable:!0},{key:"earnings",title:"Total Earnings",sortable:!0},{key:"pending",title:"Pending",sortable:!0},{key:"status",title:"Status",sortable:!0,filterable:!0},{key:"lastActivity",title:"Last Activity",sortable:!0},{key:"actions",title:"Actions",headerClass:"text-right",cellClass:"text-right"}],y=c([{id:"1",name:"Sarah Johnson",email:"sarah.johnson@email.com",phone:"+60123456789",joinDate:new Date("2024-01-15"),status:"active",commissionRate:15,commissionType:"percentage",totalReferrals:12,totalCommissionsEarned:4500,unpaidCommissions:850,paidCommissions:3650,referralCode:"SAR001",lastActivity:new Date("2024-02-01")},{id:"2",name:"Ahmad Hassan",email:"ahmad.hassan@email.com",phone:"+60187654321",joinDate:new Date("2024-01-10"),status:"active",commissionRate:50,commissionType:"fixed",totalReferrals:8,totalCommissionsEarned:2800,unpaidCommissions:400,paidCommissions:2400,referralCode:"AHM002",lastActivity:new Date("2024-01-28")},{id:"3",name:"Emily Chen",email:"emily.chen@gmail.com",joinDate:new Date("2023-12-05"),status:"active",commissionRate:12,commissionType:"percentage",totalReferrals:15,totalCommissionsEarned:3200,unpaidCommissions:650,paidCommissions:2550,referralCode:"EMI003",lastActivity:new Date("2024-02-03")},{id:"4",name:"David Wong",email:"david.wong@email.com",phone:"+60112233445",joinDate:new Date("2024-02-01"),status:"pending",commissionRate:10,commissionType:"percentage",totalReferrals:2,totalCommissionsEarned:180,unpaidCommissions:180,paidCommissions:0,referralCode:"DAV004",lastActivity:new Date("2024-02-05")}]),j=n=>{switch(n){case"active":return"default";case"inactive":return"secondary";case"pending":return"secondary";case"suspended":return"destructive";default:return"default"}},z=n=>new Intl.DateTimeFormat("en-MY",{year:"numeric",month:"short",day:"numeric"}).format(n),h=()=>{l.value={name:"",email:"",phone:"",commissionRate:10,commissionType:"percentage",notes:""},u.value=!0},V=async()=>{console.log("Creating affiliate:",l.value);const n=`${y.value.length+1}`,e=`${l.value.name.substring(0,3).toUpperCase()}${String(y.value.length+1).padStart(3,"0")}`;y.value.push({id:n,name:l.value.name,email:l.value.email,phone:l.value.phone,joinDate:new Date,status:"pending",commissionRate:l.value.commissionRate||10,commissionType:l.value.commissionType||"percentage",totalReferrals:0,totalCommissionsEarned:0,unpaidCommissions:0,paidCommissions:0,referralCode:e,notes:l.value.notes}),u.value=!1,f.value.totalAffiliates++},T=n=>{_.push(`/studio/affiliates/${n}`)},D=n=>{_.push(`/studio/affiliates/${n}/edit`)},S=n=>{_.push(`/studio/affiliates/${n}/commissions`)},B=()=>{_.push("/studio/affiliates/settings")},E=n=>{console.log("Page changed to:",n)},P=n=>{console.log("Page size changed to:",n)},N=(n,e)=>{console.log("Sort changed:",{column:n,direction:e})},U=n=>{console.log("Filters changed:",n)};return(n,e)=>(x(),w("div",me,[A.value?(x(),L(o(de),{key:0,title:"Setting up your workspace",description:"We're preparing your affiliate management workspace with all the tools you need. This will just take a moment."})):F("",!0),a(J,{breadcrumb:$}),t("div",ue,[e[9]||(e[9]=t("div",null,[t("h1",{class:"text-2xl font-semibold text-gray-900"},"Affiliate System"),t("p",{class:"text-sm text-gray-600 mt-1"}," Manage affiliate commissions and track referral earnings ")],-1)),t("div",fe,[a(o(m),{onClick:B,variant:"outline",class:"flex items-center gap-2"},{default:s(()=>e[7]||(e[7]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})],-1),r(" Settings ")])),_:1}),a(o(m),{onClick:h,class:"flex items-center gap-2"},{default:s(()=>e[8]||(e[8]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),r(" Add New Affiliate ")])),_:1})])]),t("div",ce,[a(o(p),null,{default:s(()=>[a(o(v),{class:"p-4"},{default:s(()=>[t("div",pe,[t("div",null,[e[10]||(e[10]=t("p",{class:"text-sm font-medium text-gray-600"},"Total Affiliates",-1)),t("p",ve,d(f.value.totalAffiliates),1)]),e[11]||(e[11]=t("div",{class:"h-8 w-8 bg-blue-100 rounded-lg flex items-center justify-center"},[t("svg",{class:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})])],-1))])]),_:1})]),_:1}),a(o(p),null,{default:s(()=>[a(o(v),{class:"p-4"},{default:s(()=>[t("div",ge,[t("div",null,[e[12]||(e[12]=t("p",{class:"text-sm font-medium text-gray-600"}," Pending Commissions ",-1)),t("p",_e," RM "+d(f.value.pendingCommissions.toLocaleString()),1)]),e[13]||(e[13]=t("div",{class:"h-8 w-8 bg-orange-100 rounded-lg flex items-center justify-center"},[t("svg",{class:"w-4 h-4 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})])],-1))])]),_:1})]),_:1}),a(o(p),null,{default:s(()=>[a(o(v),{class:"p-4"},{default:s(()=>[t("div",ye,[t("div",null,[e[14]||(e[14]=t("p",{class:"text-sm font-medium text-gray-600"},"Total Paid",-1)),t("p",xe," RM "+d(f.value.totalCommissionsPaid.toLocaleString()),1)]),e[15]||(e[15]=t("div",{class:"h-8 w-8 bg-green-100 rounded-lg flex items-center justify-center"},[t("svg",{class:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1))])]),_:1})]),_:1}),a(o(p),null,{default:s(()=>[a(o(v),{class:"p-4"},{default:s(()=>[t("div",ke,[t("div",null,[e[16]||(e[16]=t("p",{class:"text-sm font-medium text-gray-600"},"Total Referrals",-1)),t("p",we,d(f.value.totalReferrals),1)]),e[17]||(e[17]=t("div",{class:"h-8 w-8 bg-purple-100 rounded-lg flex items-center justify-center"},[t("svg",{class:"w-4 h-4 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z"})])],-1))])]),_:1})]),_:1})]),a(o(p),null,{default:s(()=>[a(o(Q),null,{default:s(()=>[a(o(X),null,{default:s(()=>e[18]||(e[18]=[r("Affiliates")])),_:1}),a(o(K),null,{default:s(()=>e[19]||(e[19]=[r("Manage your affiliate partners and their commission rates")])),_:1})]),_:1}),a(o(v),null,{default:s(()=>[a(o(G),{data:y.value,columns:R,"show-numbering":!0,"page-size":10,"page-size-options":[5,10,25,50],"row-key":"id","onUpdate:page":E,"onUpdate:pageSize":P,"onUpdate:sort":N,"onUpdate:filters":U},{"cell-name":s(({item:i})=>[t("div",null,[t("div",Ce,d(i.name),1),t("div",he,d(i.email),1),t("div",be," Code: "+d(i.referralCode),1)])]),"cell-commission":s(({item:i})=>[t("div",Me,[t("div",Ae,d(i.commissionType==="percentage"?`${i.commissionRate}%`:`RM ${i.commissionRate}`),1),t("div",$e,d(i.commissionType),1)])]),"cell-earnings":s(({item:i})=>[t("div",Re,[t("div",je," RM "+d(i.totalCommissionsEarned.toLocaleString()),1),t("div",ze,d(i.totalReferrals)+" referrals ",1)])]),"cell-pending":s(({item:i})=>[t("div",Ve,[t("div",Te," RM "+d(i.unpaidCommissions.toLocaleString()),1)])]),"cell-status":s(({item:i})=>[a(o(O),{variant:j(i.status),class:"capitalize"},{default:s(()=>[r(d(i.status),1)]),_:2},1032,["variant"])]),"cell-lastActivity":s(({item:i})=>[t("div",De,[i.lastActivity?(x(),w("div",Se,d(z(i.lastActivity)),1)):(x(),w("div",Be,"Never"))])]),"cell-actions":s(({item:i})=>[t("div",Ee,[a(o(I),null,{default:s(()=>[a(o(W),{"as-child":""},{default:s(()=>[a(o(m),{variant:"ghost",size:"sm",class:"h-8 w-8 p-0"},{default:s(()=>e[20]||(e[20]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zM12 13a1 1 0 110-2 1 1 0 010 2zM12 20a1 1 0 110-2 1 1 0 010 2z"})],-1)])),_:1})]),_:1}),a(o(Y),{align:"end"},{default:s(()=>[a(o(C),{onClick:b=>T(i.id)},{default:s(()=>e[21]||(e[21]=[t("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1),r(" View Details ")])),_:2},1032,["onClick"]),a(o(C),{onClick:b=>D(i.id)},{default:s(()=>e[22]||(e[22]=[t("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),r(" Edit Affiliate ")])),_:2},1032,["onClick"]),a(o(C),{onClick:b=>S(i.id)},{default:s(()=>e[23]||(e[23]=[t("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})],-1),r(" View Commissions ")])),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)])]),"empty-state":s(()=>[t("div",Pe,[e[25]||(e[25]=t("svg",{class:"w-12 h-12 mx-auto text-gray-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})],-1)),e[26]||(e[26]=t("h3",{class:"text-lg font-medium text-gray-900 mb-2"}," No affiliates yet ",-1)),e[27]||(e[27]=t("p",{class:"text-gray-500 mb-4"}," Start building your affiliate network by adding your first affiliate ",-1)),a(o(m),{onClick:h},{default:s(()=>e[24]||(e[24]=[r("Add Your First Affiliate")])),_:1})])]),_:1},8,["data"])]),_:1})]),_:1}),a(o(ae),{open:u.value,"onUpdate:open":e[6]||(e[6]=i=>u.value=i)},{default:s(()=>[a(o(oe),{class:"sm:max-w-md"},{default:s(()=>[a(o(ie),null,{default:s(()=>[a(o(le),null,{default:s(()=>e[28]||(e[28]=[r("Add New Affiliate")])),_:1}),a(o(ne),null,{default:s(()=>e[29]||(e[29]=[r("Add a new affiliate to your referral program")])),_:1})]),_:1}),t("div",Ne,[t("div",null,[a(o(g),{for:"name"},{default:s(()=>e[30]||(e[30]=[r("Full Name")])),_:1}),a(o(k),{modelValue:l.value.name,"onUpdate:modelValue":e[0]||(e[0]=i=>l.value.name=i),placeholder:"Enter full name"},null,8,["modelValue"])]),t("div",null,[a(o(g),{for:"email"},{default:s(()=>e[31]||(e[31]=[r("Email Address")])),_:1}),a(o(k),{modelValue:l.value.email,"onUpdate:modelValue":e[1]||(e[1]=i=>l.value.email=i),type:"email",placeholder:"Enter email address"},null,8,["modelValue"])]),t("div",null,[a(o(g),{for:"phone"},{default:s(()=>e[32]||(e[32]=[r("Phone Number (Optional)")])),_:1}),a(o(k),{modelValue:l.value.phone,"onUpdate:modelValue":e[2]||(e[2]=i=>l.value.phone=i),placeholder:"Enter phone number"},null,8,["modelValue"])]),t("div",Ue,[t("div",null,[a(o(g),{for:"commissionType"},{default:s(()=>e[33]||(e[33]=[r("Commission Type")])),_:1}),a(o(Z),{modelValue:l.value.commissionType,"onUpdate:modelValue":e[3]||(e[3]=i=>l.value.commissionType=i)},{default:s(()=>[a(o(ee),null,{default:s(()=>[a(o(te),{placeholder:"Select type"})]),_:1}),a(o(se),null,{default:s(()=>[a(o(M),{value:"percentage"},{default:s(()=>e[34]||(e[34]=[r("Percentage (%)")])),_:1}),a(o(M),{value:"fixed"},{default:s(()=>e[35]||(e[35]=[r("Fixed Amount (RM)")])),_:1})]),_:1})]),_:1},8,["modelValue"])]),t("div",null,[a(o(g),{for:"commissionRate"},{default:s(()=>e[36]||(e[36]=[r("Commission Rate")])),_:1}),a(o(k),{modelValue:l.value.commissionRate,"onUpdate:modelValue":e[4]||(e[4]=i=>l.value.commissionRate=i),modelModifiers:{number:!0},type:"number",placeholder:l.value.commissionType==="percentage"?"10":"50"},null,8,["modelValue","placeholder"])])])]),a(o(re),null,{default:s(()=>[a(o(m),{variant:"outline",onClick:e[5]||(e[5]=i=>u.value=!1)},{default:s(()=>e[37]||(e[37]=[r("Cancel")])),_:1}),a(o(m),{onClick:V},{default:s(()=>e[38]||(e[38]=[r("Create Affiliate")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"])]))}});export{ot as default};
