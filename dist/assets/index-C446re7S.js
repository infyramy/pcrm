import{n as J,d as Re,D as de,ag as Se,r as g,H as je,o as Ae,c as b,g as a,b as t,w as o,f as l,_ as E,K as q,h as r,W as Be,t as u,aN as Q,ah as De,v as X,T as x,ac as Ne,an as Z,a5 as Ee,a6 as Ve,j as qe,a7 as Fe,a8 as Y,aO as Ue,a9 as ue,l as p}from"./index-C2UrP5hw.js";import{_ as L,a as T}from"./CardContent.vue_vue_type_script_setup_true_lang-eN_1_cPI.js";import{_ as ee}from"./index-BFTYKSG-.js";import{_ as te}from"./Input.vue_vue_type_script_setup_true_lang-CSZ-Dkyw.js";import{_ as Me}from"./Textarea.vue_vue_type_script_setup_true_lang--1zaO6ew.js";import{_ as ze}from"./PageHeader.vue_vue_type_script_setup_true_lang-B1Je6Lxx.js";import{_ as re,a as me,b as ce,c as fe,d as R}from"./SelectValue.vue_vue_type_script_setup_true_lang-BJhQFqbJ.js";import{_ as ve,a as pe,b as ye,c as ge}from"./DialogTitle.vue_vue_type_script_setup_true_lang-CGEsSMnb.js";import{_ as be}from"./DialogDescription.vue_vue_type_script_setup_true_lang-CGpZvTRB.js";import{_ as Oe}from"./DataTable.vue_vue_type_script_setup_true_lang-BmsiL-Nh.js";import{U as se}from"./user-plus-BbvTjVJJ.js";import{P as Ze}from"./phone-BjX2uvOc.js";import{T as We}from"./trash-DxdDRnnN.js";import{D as Ge}from"./dollar-sign-C2vFDgBu.js";import"./check-CMqAtv7z.js";import"./ohash.D__AXeF1-DHF4M4F_.js";import"./useFormControl-BTKw-cda.js";/**
 * @license lucide-vue-next v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=J("DownloadIcon",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-vue-next v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=J("EllipsisVerticalIcon",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-vue-next v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=J("RefreshCwIcon",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-vue-next v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=J("SearchIcon",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),W=[{id:"1",formId:"form-123",submittedAt:new Date("2024-01-15T10:30:00Z"),submittedBy:{id:"user-1",name:"John Smith",email:"john.smith@email.com",ip:"192.168.1.100"},values:[{fieldId:"name",fieldLabel:"Full Name",fieldType:"text",value:"John Smith"},{fieldId:"email",fieldLabel:"Email Address",fieldType:"email",value:"john.smith@email.com"},{fieldId:"event-date",fieldLabel:"Event Date",fieldType:"date",value:"2024-06-15"},{fieldId:"package",fieldLabel:"Photography Package",fieldType:"select",value:"premium",displayValue:"Premium Package"},{fieldId:"message",fieldLabel:"Additional Message",fieldType:"textarea",value:"Looking forward to working with you for our wedding photography!"}],status:"pending",notes:""},{id:"2",formId:"form-123",submittedAt:new Date("2024-01-14T14:20:00Z"),submittedBy:{id:"user-2",name:"Sarah Johnson",email:"sarah.johnson@email.com",ip:"192.168.1.101"},values:[{fieldId:"name",fieldLabel:"Full Name",fieldType:"text",value:"Sarah Johnson"},{fieldId:"email",fieldLabel:"Email Address",fieldType:"email",value:"sarah.johnson@email.com"},{fieldId:"event-date",fieldLabel:"Event Date",fieldType:"date",value:"2024-08-20"},{fieldId:"package",fieldLabel:"Photography Package",fieldType:"select",value:"standard",displayValue:"Standard Package"},{fieldId:"guests",fieldLabel:"Number of Guests",fieldType:"number",value:"150"}],status:"reviewed",reviewedBy:"Admin User",reviewedAt:new Date("2024-01-14T16:00:00Z"),notes:"Confirmed booking for August wedding"},{id:"3",formId:"form-123",submittedAt:new Date("2024-01-13T09:15:00Z"),submittedBy:{id:"user-3",name:"Michael Brown",email:"michael.brown@email.com",ip:"192.168.1.102"},values:[{fieldId:"name",fieldLabel:"Full Name",fieldType:"text",value:"Michael Brown"},{fieldId:"email",fieldLabel:"Email Address",fieldType:"email",value:"michael.brown@email.com"},{fieldId:"event-type",fieldLabel:"Event Type",fieldType:"radio",value:"engagement",displayValue:"Engagement Session"},{fieldId:"location",fieldLabel:"Preferred Location",fieldType:"text",value:"Central Park, NYC"}],status:"archived",notes:"Client decided to go with another photographer"},{id:"4",formId:"form-123",submittedAt:new Date("2024-01-12T16:45:00Z"),submittedBy:{id:"user-4",name:"Emily Davis",email:"emily.davis@email.com",ip:"192.168.1.103"},values:[{fieldId:"name",fieldLabel:"Full Name",fieldType:"text",value:"Emily Davis"},{fieldId:"email",fieldLabel:"Email Address",fieldType:"email",value:"emily.davis@email.com"},{fieldId:"services",fieldLabel:"Additional Services",fieldType:"checkbox",value:["videography","photo-booth"],displayValue:"Videography, Photo Booth"},{fieldId:"budget",fieldLabel:"Budget Range",fieldType:"select",value:"3000-5000",displayValue:"$3,000 - $5,000"}],status:"pending"},{id:"5",formId:"form-123",submittedAt:new Date("2024-01-11T11:30:00Z"),submittedBy:{id:"user-5",name:"David Wilson",email:"david.wilson@email.com",ip:"192.168.1.104"},values:[{fieldId:"name",fieldLabel:"Full Name",fieldType:"text",value:"David Wilson"},{fieldId:"phone",fieldLabel:"Phone Number",fieldType:"phone",value:"+1-555-0123"},{fieldId:"event-date",fieldLabel:"Event Date",fieldType:"date",value:"2024-09-14"},{fieldId:"venue",fieldLabel:"Venue Name",fieldType:"text",value:"Grand Ballroom Hotel"}],status:"reviewed",reviewedBy:"Admin User",reviewedAt:new Date("2024-01-11T14:00:00Z"),notes:"Follow up scheduled for next week"}],Xe={formId:"form-123",formTitle:"Wedding Photography Form",totalResponses:5,pendingResponses:2,reviewedResponses:2,archivedResponses:1,lastResponseAt:new Date("2024-01-15T10:30:00Z"),fieldsUsed:["name","email","event-date","package","message","guests","event-type","location","services","budget","phone","venue"]},H={async getFormResponses(G,S=1,w=10,c,I){await new Promise(y=>setTimeout(y,500));let f=[...W];if(c&&(f=f.filter(y=>y.status===c)),I){const y=I.toLowerCase();f=f.filter(V=>{var j,B,i,D;return((B=(j=V.submittedBy)==null?void 0:j.name)==null?void 0:B.toLowerCase().includes(y))||((D=(i=V.submittedBy)==null?void 0:i.email)==null?void 0:D.toLowerCase().includes(y))||V.values.some(C=>String(C.value).toLowerCase().includes(y)||C.fieldLabel.toLowerCase().includes(y))})}const _=(S-1)*w,h=_+w;return{responses:f.slice(_,h),total:f.length,page:S,limit:w,summary:Xe}},async updateResponse(G,S,w){await new Promise(I=>setTimeout(I,300));const c=W.find(I=>I.id===S);if(!c)throw new Error("Response not found");return Object.assign(c,w),c},async deleteResponse(G,S){await new Promise(c=>setTimeout(c,300));const w=W.findIndex(c=>c.id===S);w!==-1&&W.splice(w,1)},async exportResponses(G,S="csv"){await new Promise(f=>setTimeout(f,1e3));const w=["Name","Email","Status","Submitted At"],c=W.map(f=>{var _,h;return[((_=f.submittedBy)==null?void 0:_.name)||"Anonymous",((h=f.submittedBy)==null?void 0:h.email)||"",f.status,f.submittedAt.toISOString()]}),I=[w,...c].map(f=>f.map(_=>`"${_}"`).join(",")).join(`
`);return new Blob([I],{type:"text/csv"})}},Ye={class:"space-y-6"},et={class:"flex flex-col sm:flex-row sm:items-center justify-between gap-4"},tt={class:"flex items-center gap-3"},st={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},lt={class:"flex items-center justify-between"},at={class:"text-2xl font-bold"},ot={class:"p-2 bg-blue-100 dark:bg-blue-900/20 rounded-lg"},nt={class:"flex items-center justify-between"},it={class:"text-2xl font-bold"},dt={class:"p-2 bg-yellow-100 dark:bg-yellow-900/20 rounded-lg"},ut={class:"flex items-center justify-between"},rt={class:"text-2xl font-bold"},mt={class:"p-2 bg-green-100 dark:bg-green-900/20 rounded-lg"},ct={class:"flex items-center justify-between"},ft={class:"text-sm font-medium"},vt={class:"p-2 bg-purple-100 dark:bg-purple-900/20 rounded-lg"},pt={class:"flex flex-col sm:flex-row gap-4"},yt={class:"flex-1"},gt={class:"relative"},bt={class:"flex gap-2"},xt={class:"text-sm"},_t={class:"font-medium"},wt={class:"text-gray-500"},ht={key:0},kt={class:"font-semibold text-gray-900"},Ct={class:"text-sm text-gray-500"},Lt={key:0,class:"text-xs text-blue-600 font-medium"},Tt={key:1,class:"text-sm text-gray-500"},It={class:"max-w-md"},Pt={class:"space-y-1"},$t={key:0,class:"text-xs"},Rt={class:"text-gray-600 ml-1"},St={key:1,class:"text-xs"},jt={class:"text-gray-600 ml-1"},At={key:2,class:"text-xs"},Bt={class:"text-gray-600 ml-1"},Dt={key:3,class:"text-xs"},Nt={class:"text-gray-600 ml-1"},Et={class:"flex justify-center"},Vt={class:"text-center py-8"},qt={class:"flex items-center justify-between"},Ft={class:"flex items-center gap-4"},Ut={key:0,class:"flex-1 overflow-y-auto"},Mt={class:"space-y-8 mt-6 pr-2"},zt={class:"flex items-center gap-2 mb-4"},Ot={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},Zt={class:"space-y-1"},Wt={class:"text-sm font-medium"},Gt={class:"space-y-1"},Ht={class:"text-sm"},Jt={class:"space-y-1"},Kt={class:"text-sm"},Qt={class:"flex items-center gap-2 mb-4"},Xt={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},Yt={key:0,class:"space-y-1"},es={class:"text-sm font-medium text-blue-600"},ts={key:1,class:"space-y-1"},ss={class:"text-sm"},ls={key:2,class:"space-y-1"},as={class:"text-sm"},os={key:3,class:"space-y-1"},ns={class:"text-sm font-medium text-green-600"},is={class:"flex items-center gap-2 mb-4"},ds={class:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-700 rounded-lg p-4"},us={class:"text-sm leading-relaxed"},rs={class:"flex justify-end pt-6 mt-6 border-t flex-shrink-0"},ms={class:"flex-1 overflow-y-auto"},cs={class:"space-y-6"},fs={class:"space-y-4"},vs={class:"flex items-center gap-2 mb-3"},ps={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ys={class:"space-y-1"},gs={class:"text-sm font-medium text-gray-900 bg-gray-50 dark:bg-gray-800 px-3 py-2 rounded-md"},bs={class:"space-y-1"},xs={class:"text-sm text-gray-700 bg-gray-50 dark:bg-gray-800 px-3 py-2 rounded-md"},_s={class:"space-y-1"},ws={class:"text-sm text-gray-700 bg-gray-50 dark:bg-gray-800 px-3 py-2 rounded-md"},hs={class:"space-y-1"},ks={class:"text-sm text-gray-700 bg-gray-50 dark:bg-gray-800 px-3 py-2 rounded-md"},Cs={class:"flex items-center gap-2 mb-3"},Ls={class:"space-y-4"},Ts={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Is={class:"relative"},Ps={key:0,class:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-700 rounded-lg p-3"},$s={class:"flex items-center gap-2 mb-1"},Rs={class:"text-sm text-blue-700 dark:text-blue-300"},Ss={class:"font-medium"},js={class:"flex justify-end gap-2 mt-6 pt-4 border-t flex-shrink-0"},Ks=Re({__name:"index",setup(G){const S=(n,e)=>{let s;return(...d)=>{clearTimeout(s),s=setTimeout(()=>n.apply(null,d),e)}},w=Se(),c=de(()=>w.params.id),I=de(()=>{var n;return[{count:1,label:"Forms",href:"/studio/forms",action:!0},{count:2,label:((n=h.value)==null?void 0:n.formTitle)||"Photography Inquiry Form",href:`/studio/forms/${c.value}`,action:!0},{count:3,label:"Inquiries",href:`/studio/forms/${c.value}/responses`,action:!1}]}),f=g(!1),_=g([]),h=g(null),K=g(0),y=g(1),V=g(25),j=g(""),B=g(!1),i=g(null),D=g(!1),C=g(""),k=g(""),P=g(""),$=g(""),F=g(""),xe=[{key:"submittedAt",title:"Submitted",sortable:!0,headerClass:"w-36",cellClass:"w-36"},{key:"submittedBy",title:"Client",sortable:!0,filterable:!0,headerClass:"w-48",cellClass:"w-48"},{key:"status",title:"Status",sortable:!0,filterable:!0,headerClass:"w-28",cellClass:"w-28"},{key:"preview",title:"Session Details",headerClass:"w-72",cellClass:"w-72"},{key:"actions",title:"Actions",headerClass:"text-center w-24",cellClass:"text-center w-24"}],A=async()=>{if(c.value){f.value=!0;try{const n=await H.getFormResponses(c.value,y.value,V.value,void 0,j.value||void 0);_.value=n.responses,h.value=n.summary,K.value=n.total}catch(n){console.error("Failed to fetch responses:",n),q.error("Failed to load responses")}finally{f.value=!1}}},_e=()=>{A()},we=S(()=>{y.value=1,A()},300),he=()=>{j.value="",y.value=1,A()},le=n=>{i.value=n,B.value=!0},ke=async n=>{if(confirm("Are you sure you want to delete this response? This action cannot be undone."))try{await H.deleteResponse(c.value,n),_.value=_.value.filter(e=>e.id!==n),K.value-=1,q.success("Response deleted")}catch(e){console.error("Failed to delete response:",e),q.error("Failed to delete response")}},Ce=async()=>{try{const n=await H.exportResponses(c.value,"csv"),e=window.URL.createObjectURL(n),s=document.createElement("a");s.href=e,s.download=`form-${c.value}-responses.csv`,document.body.appendChild(s),s.click(),document.body.removeChild(s),window.URL.revokeObjectURL(e),q.success("Responses exported successfully")}catch(n){console.error("Failed to export responses:",n),q.error("Failed to export responses")}},Le=n=>"secondary",z=n=>new Date(n).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),ae=n=>new Date(n).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),Te=n=>{y.value=n,A()},Ie=n=>{V.value=n,y.value=1,A()},Pe=(n,e)=>{console.log("Sort changed:",{column:n,direction:e}),A()};je([j],()=>{y.value=1,A()}),Ae(()=>{A()});const oe=n=>{var m,v;i.value=n;const e=((m=n.submittedBy)==null?void 0:m.name)||"Client",s=N(n.values)||"Photography";C.value=`${e} - ${s} Session`;const d=((v=N(n.values))==null?void 0:v.toLowerCase())||"";d.includes("wedding")?(k.value="wedding",P.value="2500",$.value="standard"):d.includes("portrait")?(k.value="portrait",P.value="350",$.value="basic"):d.includes("corporate")?(k.value="corporate",P.value="800",$.value="standard"):d.includes("family")?(k.value="family",P.value="450",$.value="basic"):(k.value="other",P.value="500",$.value="basic"),F.value="",D.value=!0},$e=async()=>{if(!(!i.value||!C.value||!k.value))try{const n=P.value?`
Estimated Price: $${P.value}`:"",e=$.value?`
Package: ${$.value}`:"",s=F.value?`
Price Notes: ${F.value}`:"",d=`Converted to project: ${C.value} (${k.value})${n}${e}${s}`;await H.updateResponse(c.value,i.value.id,{notes:d}),i.value&&(i.value.notes=d),q.success(`Successfully converted inquiry to ${k.value} project: "${C.value}"`),D.value=!1,B.value=!1,C.value="",k.value="",P.value="",$.value="",F.value="",A()}catch(n){console.error("Failed to convert inquiry to project:",n),q.error("Failed to convert inquiry to project")}},ne=n=>"Pending",N=n=>{const e=n.find(s=>{var d,m,v;return((d=s.fieldLabel)==null?void 0:d.toLowerCase().includes("event type"))||((m=s.fieldLabel)==null?void 0:m.toLowerCase().includes("session type"))||((v=s.fieldLabel)==null?void 0:v.toLowerCase().includes("photography type"))});return e?e.value:null},U=n=>{const e=n.find(s=>{var d,m,v;return((d=s.fieldLabel)==null?void 0:d.toLowerCase().includes("event date"))||((m=s.fieldLabel)==null?void 0:m.toLowerCase().includes("session date"))||((v=s.fieldLabel)==null?void 0:v.toLowerCase().includes("preferred date"))});return e?z(e.value):null},O=n=>{const e=n.find(s=>{var d,m,v;return((d=s.fieldLabel)==null?void 0:d.toLowerCase().includes("location"))||((m=s.fieldLabel)==null?void 0:m.toLowerCase().includes("venue"))||((v=s.fieldLabel)==null?void 0:v.toLowerCase().includes("address"))});return e?e.value:null},M=n=>{const e=n.find(s=>{var d,m,v;return((d=s.fieldLabel)==null?void 0:d.toLowerCase().includes("budget"))||((m=s.fieldLabel)==null?void 0:m.toLowerCase().includes("price"))||((v=s.fieldLabel)==null?void 0:v.toLowerCase().includes("cost"))});return e?e.value:null},ie=n=>{const e=n.find(s=>{var d,m,v;return((d=s.fieldLabel)==null?void 0:d.toLowerCase().includes("guest"))||((m=s.fieldLabel)==null?void 0:m.toLowerCase().includes("people"))||((v=s.fieldLabel)==null?void 0:v.toLowerCase().includes("attendees"))});return e?e.value:null};return(n,e)=>(p(),b("div",Ye,[a(ze,{breadcrumb:I.value},null,8,["breadcrumb"]),t("div",et,[e[14]||(e[14]=t("div",null,[t("h1",{class:"text-3xl font-bold text-foreground"}," Photography Inquiries "),t("p",{class:"text-muted-foreground mt-1"}," Manage customer leads and photography session requests ")],-1)),t("div",tt,[a(l(E),{variant:"outline",onClick:_e,disabled:f.value},{default:o(()=>[a(l(Ke),{class:Be(["w-4 h-4 mr-2",f.value&&"animate-spin"])},null,8,["class"]),e[12]||(e[12]=r(" Refresh "))]),_:1},8,["disabled"]),a(l(E),{variant:"outline",onClick:Ce,disabled:!_.value.length},{default:o(()=>[a(l(He),{class:"w-4 h-4 mr-2"}),e[13]||(e[13]=r(" Export Leads "))]),_:1},8,["disabled"])])]),t("div",st,[a(l(L),null,{default:o(()=>[a(l(T),{class:"p-6"},{default:o(()=>{var s;return[t("div",lt,[t("div",null,[e[15]||(e[15]=t("p",{class:"text-sm font-medium text-muted-foreground"}," Total Inquiries ",-1)),t("p",at,u(((s=h.value)==null?void 0:s.totalResponses)||0),1)]),t("div",ot,[a(l(Q),{class:"w-5 h-5 text-blue-600 dark:text-blue-400"})])])]}),_:1})]),_:1}),a(l(L),null,{default:o(()=>[a(l(T),{class:"p-6"},{default:o(()=>{var s;return[t("div",nt,[t("div",null,[e[16]||(e[16]=t("p",{class:"text-sm font-medium text-muted-foreground"},"New Leads",-1)),t("p",it,u(((s=h.value)==null?void 0:s.pendingResponses)||0),1)]),t("div",dt,[a(l(se),{class:"w-5 h-5 text-yellow-600 dark:text-yellow-400"})])])]}),_:1})]),_:1}),a(l(L),null,{default:o(()=>[a(l(T),{class:"p-6"},{default:o(()=>{var s;return[t("div",ut,[t("div",null,[e[17]||(e[17]=t("p",{class:"text-sm font-medium text-muted-foreground"},"Contacted",-1)),t("p",rt,u(((s=h.value)==null?void 0:s.reviewedResponses)||0),1)]),t("div",mt,[a(l(Ze),{class:"w-5 h-5 text-green-600 dark:text-green-400"})])])]}),_:1})]),_:1}),a(l(L),null,{default:o(()=>[a(l(T),{class:"p-6"},{default:o(()=>{var s;return[t("div",ct,[t("div",null,[e[18]||(e[18]=t("p",{class:"text-sm font-medium text-muted-foreground"}," Latest Inquiry ",-1)),t("p",ft,u((s=h.value)!=null&&s.lastResponseAt?z(h.value.lastResponseAt):"No inquiries yet"),1)]),t("div",vt,[a(l(De),{class:"w-5 h-5 text-purple-600 dark:text-purple-400"})])])]}),_:1})]),_:1})]),a(l(L),null,{default:o(()=>[a(l(T),{class:"p-6"},{default:o(()=>[t("div",pt,[t("div",yt,[t("div",gt,[a(l(Qe),{class:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),a(l(te),{modelValue:j.value,"onUpdate:modelValue":e[0]||(e[0]=s=>j.value=s),placeholder:"Search inquiries by client name, email, or event type...",class:"pl-10",onInput:l(we)},null,8,["modelValue","onInput"])])]),t("div",bt,[j.value?(p(),X(l(E),{key:0,variant:"outline",onClick:he},{default:o(()=>[a(l(Ne),{class:"w-4 h-4 mr-2"}),e[19]||(e[19]=r(" Clear "))]),_:1})):x("",!0)])])]),_:1})]),_:1}),a(Oe,{data:_.value,columns:xe,loading:f.value,"show-numbering":!0,"page-size":V.value,"page-size-options":[10,25,50,100],"row-key":"id","onUpdate:page":Te,"onUpdate:pageSize":Ie,"onUpdate:sort":Pe,"onRow:click":le},{"cell-status":o(({value:s})=>[a(l(ee),{variant:Le(s),class:"capitalize"},{default:o(()=>[r(u(ne(s)),1)]),_:2},1032,["variant"])]),"cell-submittedAt":o(({value:s})=>[t("div",xt,[t("div",_t,u(z(s)),1),t("div",wt,u(ae(s)),1)])]),"cell-submittedBy":o(({item:s})=>[s.submittedBy?(p(),b("div",ht,[t("div",kt,u(s.submittedBy.name||"Anonymous"),1),t("div",Ct,u(s.submittedBy.email),1),N(s.values)?(p(),b("div",Lt,u(N(s.values)),1)):x("",!0)])):(p(),b("span",Tt,"Anonymous"))]),"cell-preview":o(({item:s})=>[t("div",It,[t("div",Pt,[U(s.values)?(p(),b("div",$t,[e[20]||(e[20]=t("span",{class:"font-medium text-gray-700"},"Event Date:",-1)),t("span",Rt,u(U(s.values)),1)])):x("",!0),O(s.values)?(p(),b("div",St,[e[21]||(e[21]=t("span",{class:"font-medium text-gray-700"},"Location:",-1)),t("span",jt,u(O(s.values)),1)])):x("",!0),M(s.values)?(p(),b("div",At,[e[22]||(e[22]=t("span",{class:"font-medium text-gray-700"},"Budget:",-1)),t("span",Bt,u(M(s.values)),1)])):x("",!0),ie(s.values)?(p(),b("div",Dt,[e[23]||(e[23]=t("span",{class:"font-medium text-gray-700"},"Guests:",-1)),t("span",Nt,u(ie(s.values)),1)])):x("",!0)])])]),"cell-actions":o(({item:s})=>[t("div",Et,[a(l(Ee),null,{default:o(()=>[a(l(Ve),{asChild:""},{default:o(()=>[a(l(E),{variant:"ghost",size:"sm",class:"h-8 w-8 p-0",onClick:e[1]||(e[1]=qe(()=>{},["stop"]))},{default:o(()=>[a(l(Je),{class:"w-4 h-4"})]),_:1})]),_:1}),a(l(Fe),{align:"end"},{default:o(()=>[a(l(Y),{onClick:d=>le(s)},{default:o(()=>[a(l(Ue),{class:"w-4 h-4 mr-2"}),e[24]||(e[24]=r(" View Details "))]),_:2},1032,["onClick"]),a(l(ue)),a(l(Y),{onClick:d=>oe(s),class:"text-green-600"},{default:o(()=>[a(l(Z),{class:"w-4 h-4 mr-2"}),e[25]||(e[25]=r(" Convert to Project "))]),_:2},1032,["onClick"]),a(l(ue)),a(l(Y),{onClick:d=>ke(s.id),class:"text-red-600"},{default:o(()=>[a(l(We),{class:"w-4 h-4 mr-2"}),e[26]||(e[26]=r(" Delete Inquiry "))]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)])]),"empty-state":o(()=>[t("div",Vt,[a(l(Z),{class:"w-12 h-12 mx-auto text-gray-400 mb-4"}),e[27]||(e[27]=t("h3",{class:"text-lg font-medium text-gray-900 mb-2"}," No photography inquiries found ",-1)),e[28]||(e[28]=t("p",{class:"text-gray-500 mb-4"}," There are no photography inquiries to display. New client requests will appear here once someone submits your photography inquiry form. ",-1))])]),_:1},8,["data","loading","page-size"]),a(l(ve),{open:B.value,"onUpdate:open":e[4]||(e[4]=s=>B.value=s)},{default:o(()=>[a(l(pe),{class:"max-w-5xl max-h-[85vh] flex flex-col"},{default:o(()=>[a(l(ye),{class:"space-y-3 flex-shrink-0"},{default:o(()=>[t("div",qt,[t("div",null,[a(l(ge),{class:"text-2xl font-semibold"},{default:o(()=>e[29]||(e[29]=[r("Photography Inquiry")])),_:1}),a(l(be),{class:"text-base mt-2"},{default:o(()=>{var s,d,m;return[t("div",Ft,[t("span",null,"Submitted on "+u((s=i.value)!=null&&s.submittedAt?z(i.value.submittedAt):""),1),e[30]||(e[30]=t("span",{class:"text-muted-foreground"},"•",-1)),t("span",null,u(((m=(d=i.value)==null?void 0:d.submittedBy)==null?void 0:m.name)||"Anonymous Client"),1),a(l(ee),{variant:"secondary",class:"ml-2"},{default:o(()=>[r(u(i.value?ne(i.value.status):"Pending"),1)]),_:1})])]}),_:1})]),a(l(E),{onClick:e[2]||(e[2]=s=>i.value&&oe(i.value)),variant:"default",class:"shrink-0",disabled:!i.value},{default:o(()=>[a(l(Z),{class:"w-4 h-4 mr-2"}),e[31]||(e[31]=r(" Convert to Project "))]),_:1},8,["disabled"])])]),_:1}),i.value?(p(),b("div",Ut,[t("div",Mt,[a(l(L),null,{default:o(()=>[a(l(T),{class:"p-6"},{default:o(()=>{var s,d;return[t("div",zt,[a(l(se),{class:"w-5 h-5 text-blue-600"}),e[32]||(e[32]=t("h3",{class:"text-lg font-semibold"},"Client Information",-1))]),t("div",Ot,[t("div",Zt,[e[33]||(e[33]=t("label",{class:"text-sm font-medium text-muted-foreground"},"Full Name",-1)),t("p",Wt,u(((s=i.value.submittedBy)==null?void 0:s.name)||"Not provided"),1)]),t("div",Gt,[e[34]||(e[34]=t("label",{class:"text-sm font-medium text-muted-foreground"},"Email Address",-1)),t("p",Ht,u(((d=i.value.submittedBy)==null?void 0:d.email)||"Not provided"),1)]),t("div",Jt,[e[35]||(e[35]=t("label",{class:"text-sm font-medium text-muted-foreground"},"Inquiry Date",-1)),t("p",Kt,u(z(i.value.submittedAt))+" at "+u(ae(i.value.submittedAt)),1)])])]}),_:1})]),_:1}),N(i.value.values)||U(i.value.values)||O(i.value.values)?(p(),X(l(L),{key:0},{default:o(()=>[a(l(T),{class:"p-6"},{default:o(()=>[t("div",Qt,[a(l(Z),{class:"w-5 h-5 text-green-600"}),e[36]||(e[36]=t("h3",{class:"text-lg font-semibold"},"Session Overview",-1))]),t("div",Xt,[N(i.value.values)?(p(),b("div",Yt,[e[37]||(e[37]=t("label",{class:"text-sm font-medium text-muted-foreground"},"Event Type",-1)),t("p",es,u(N(i.value.values)),1)])):x("",!0),U(i.value.values)?(p(),b("div",ts,[e[38]||(e[38]=t("label",{class:"text-sm font-medium text-muted-foreground"},"Event Date",-1)),t("p",ss,u(U(i.value.values)),1)])):x("",!0),O(i.value.values)?(p(),b("div",ls,[e[39]||(e[39]=t("label",{class:"text-sm font-medium text-muted-foreground"},"Location",-1)),t("p",as,u(O(i.value.values)),1)])):x("",!0),M(i.value.values)?(p(),b("div",os,[e[40]||(e[40]=t("label",{class:"text-sm font-medium text-muted-foreground"},"Budget",-1)),t("p",ns,u(M(i.value.values)),1)])):x("",!0)])]),_:1})]),_:1})):x("",!0),i.value.notes?(p(),X(l(L),{key:1},{default:o(()=>[a(l(T),{class:"p-6"},{default:o(()=>[t("div",is,[a(l(Q),{class:"w-5 h-5 text-orange-600"}),e[41]||(e[41]=t("h3",{class:"text-lg font-semibold"},"Notes & Communication",-1))]),t("div",ds,[t("p",us,u(i.value.notes),1)])]),_:1})]),_:1})):x("",!0)])])):x("",!0),t("div",rs,[a(l(E),{variant:"outline",onClick:e[3]||(e[3]=s=>B.value=!1)},{default:o(()=>e[42]||(e[42]=[r(" Close ")])),_:1})])]),_:1})]),_:1},8,["open"]),a(l(ve),{open:D.value,"onUpdate:open":e[11]||(e[11]=s=>D.value=s)},{default:o(()=>[a(l(pe),{class:"max-w-2xl max-h-[85vh] flex flex-col"},{default:o(()=>[a(l(ye),null,{default:o(()=>[a(l(ge),null,{default:o(()=>e[43]||(e[43]=[r("Convert Inquiry to Project")])),_:1}),a(l(be),null,{default:o(()=>e[44]||(e[44]=[r(" This will create a new photography project from this client inquiry. ")])),_:1})]),_:1}),t("div",ms,[t("div",cs,[a(l(L),null,{default:o(()=>[a(l(T),{class:"p-4"},{default:o(()=>[e[53]||(e[53]=t("h4",{class:"text-sm font-semibold mb-3 text-gray-900"}," Project Details ",-1)),t("div",fs,[t("div",null,[e[45]||(e[45]=t("label",{class:"text-sm font-medium mb-2 block"},"Project Name",-1)),a(l(te),{modelValue:C.value,"onUpdate:modelValue":e[5]||(e[5]=s=>C.value=s),placeholder:"Enter project name..."},null,8,["modelValue"])]),t("div",null,[e[52]||(e[52]=t("label",{class:"text-sm font-medium mb-2 block"},"Project Type",-1)),a(l(re),{modelValue:k.value,"onUpdate:modelValue":e[6]||(e[6]=s=>k.value=s)},{default:o(()=>[a(l(me),null,{default:o(()=>[a(l(ce),{placeholder:"Select project type"})]),_:1}),a(l(fe),null,{default:o(()=>[a(l(R),{value:"wedding"},{default:o(()=>e[46]||(e[46]=[r("Wedding")])),_:1}),a(l(R),{value:"portrait"},{default:o(()=>e[47]||(e[47]=[r("Portrait Session")])),_:1}),a(l(R),{value:"corporate"},{default:o(()=>e[48]||(e[48]=[r("Corporate Event")])),_:1}),a(l(R),{value:"family"},{default:o(()=>e[49]||(e[49]=[r("Family Photography")])),_:1}),a(l(R),{value:"commercial"},{default:o(()=>e[50]||(e[50]=[r("Commercial")])),_:1}),a(l(R),{value:"other"},{default:o(()=>e[51]||(e[51]=[r("Other")])),_:1})]),_:1})]),_:1},8,["modelValue"])])])]),_:1})]),_:1}),a(l(L),null,{default:o(()=>[a(l(T),{class:"p-4"},{default:o(()=>{var s,d,m,v;return[t("div",vs,[a(l(se),{class:"w-4 h-4 text-blue-600"}),e[55]||(e[55]=t("h4",{class:"text-sm font-semibold text-gray-900"}," Client Information ",-1)),a(l(ee),{variant:"secondary",class:"text-xs"},{default:o(()=>e[54]||(e[54]=[r("Auto-filled")])),_:1})]),t("div",ps,[t("div",ys,[e[56]||(e[56]=t("label",{class:"text-xs font-medium text-muted-foreground"},"Client Name",-1)),t("div",gs,u(((d=(s=i.value)==null?void 0:s.submittedBy)==null?void 0:d.name)||"Anonymous Client"),1)]),t("div",bs,[e[57]||(e[57]=t("label",{class:"text-xs font-medium text-muted-foreground"},"Email Address",-1)),t("div",xs,u(((v=(m=i.value)==null?void 0:m.submittedBy)==null?void 0:v.email)||"Not provided"),1)]),t("div",_s,[e[58]||(e[58]=t("label",{class:"text-xs font-medium text-muted-foreground"},"Event Type",-1)),t("div",ws,u(i.value&&N(i.value.values)||"Not specified"),1)]),t("div",hs,[e[59]||(e[59]=t("label",{class:"text-xs font-medium text-muted-foreground"},"Event Date",-1)),t("div",ks,u(i.value&&U(i.value.values)||"Not specified"),1)])])]}),_:1})]),_:1}),a(l(L),null,{default:o(()=>[a(l(T),{class:"p-4"},{default:o(()=>[t("div",Cs,[a(l(Ge),{class:"w-4 h-4 text-green-600"}),e[60]||(e[60]=t("h4",{class:"text-sm font-semibold text-gray-900"}," Price Estimator ",-1))]),t("div",Ls,[t("div",Ts,[t("div",null,[e[62]||(e[62]=t("label",{class:"text-sm font-medium mb-2 block"},"Estimated Price",-1)),t("div",Is,[e[61]||(e[61]=t("span",{class:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500"},"RM",-1)),a(l(te),{modelValue:P.value,"onUpdate:modelValue":e[7]||(e[7]=s=>P.value=s),type:"number",placeholder:"0.00",class:"pl-10",step:"0.01",min:"0"},null,8,["modelValue"])])]),t("div",null,[e[67]||(e[67]=t("label",{class:"text-sm font-medium mb-2 block"},"Package Type",-1)),a(l(re),{modelValue:$.value,"onUpdate:modelValue":e[8]||(e[8]=s=>$.value=s)},{default:o(()=>[a(l(me),null,{default:o(()=>[a(l(ce),{placeholder:"Select package"})]),_:1}),a(l(fe),null,{default:o(()=>[a(l(R),{value:"basic"},{default:o(()=>e[63]||(e[63]=[r("Basic Package")])),_:1}),a(l(R),{value:"standard"},{default:o(()=>e[64]||(e[64]=[r("Standard Package")])),_:1}),a(l(R),{value:"premium"},{default:o(()=>e[65]||(e[65]=[r("Premium Package")])),_:1}),a(l(R),{value:"custom"},{default:o(()=>e[66]||(e[66]=[r("Custom Package")])),_:1})]),_:1})]),_:1},8,["modelValue"])])]),i.value&&M(i.value.values)?(p(),b("div",Ps,[t("div",$s,[a(l(Q),{class:"w-4 h-4 text-blue-600"}),e[68]||(e[68]=t("span",{class:"text-sm font-medium text-blue-800 dark:text-blue-200"},"Client's Budget",-1))]),t("p",Rs,[e[69]||(e[69]=r(" The client mentioned: ")),t("span",Ss,u(M(i.value.values)),1)])])):x("",!0),t("div",null,[e[70]||(e[70]=t("label",{class:"text-sm font-medium mb-2 block"},"Price Notes (Optional)",-1)),a(l(Me),{modelValue:F.value,"onUpdate:modelValue":e[9]||(e[9]=s=>F.value=s),placeholder:"Add any notes about pricing, packages, or special considerations...",rows:"3",class:"resize-none"},null,8,["modelValue"])])])]),_:1})]),_:1})])]),t("div",js,[a(l(E),{variant:"outline",onClick:e[10]||(e[10]=s=>D.value=!1)},{default:o(()=>e[71]||(e[71]=[r(" Cancel ")])),_:1}),a(l(E),{onClick:$e,disabled:!C.value||!k.value},{default:o(()=>[a(l(Z),{class:"w-4 h-4 mr-2"}),e[72]||(e[72]=r(" Create Project "))]),_:1},8,["disabled"])])]),_:1})]),_:1},8,["open"])]))}});export{Ks as default};
