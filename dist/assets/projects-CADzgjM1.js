import{d as G,r as w,ag as J,D as x,o as W,c as u,v as q,f as a,g as n,b as t,t as r,w as o,_ as y,h as d,a5 as K,a6 as O,a7 as Q,a8 as b,k as X,l as c}from"./index-C2UrP5hw.js";import{_ as Z}from"./PageHeader.vue_vue_type_script_setup_true_lang-B1Je6Lxx.js";import{_ as P}from"./index-BFTYKSG-.js";import{_ as f,a as g}from"./CardContent.vue_vue_type_script_setup_true_lang-eN_1_cPI.js";import{_ as tt}from"./DataTable.vue_vue_type_script_setup_true_lang-BmsiL-Nh.js";import{L as et}from"./LoadingPage-DgCemYQp.js";import"./SelectValue.vue_vue_type_script_setup_true_lang-BJhQFqbJ.js";import"./check-CMqAtv7z.js";import"./ohash.D__AXeF1-DHF4M4F_.js";import"./useFormControl-BTKw-cda.js";const st={class:"space-y-6"},ot={key:1,class:"space-y-6"},at={class:"flex items-center justify-between"},nt={class:"text-2xl font-semibold text-gray-900"},lt={class:"flex gap-3"},rt={class:"flex items-center justify-between"},it={class:"flex items-center space-x-4"},dt={class:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center"},ct={class:"text-blue-600 font-semibold text-lg"},ut={class:"font-semibold text-gray-900"},vt={class:"text-sm text-gray-600"},mt={class:"text-right"},pt={class:"text-xl font-semibold text-gray-900"},ft={class:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6"},gt={class:"flex items-center"},ht={class:"text-2xl font-bold text-gray-900"},xt={class:"flex items-center"},yt={class:"text-2xl font-bold text-gray-900"},_t={class:"flex items-center"},kt={class:"text-2xl font-bold text-gray-900"},wt={class:"flex items-center"},bt={class:"text-2xl font-bold text-gray-900"},jt={class:"font-semibold text-gray-900"},Ct={class:"text-sm text-gray-500"},Dt={class:"text-sm"},Mt={key:0,class:"font-medium"},Pt={key:1,class:"text-gray-400"},$t={class:"text-sm"},zt={key:0,class:"font-medium"},Vt={key:1,class:"text-gray-400"},Bt={class:"flex justify-center"},At={class:"text-center py-8"},Gt=G({__name:"projects",setup(St){const h=J(),v=X(),_=w(!0),m=w(null),$=[{count:1,label:"Contacts",href:"/studio/contacts",action:!1},{count:2,label:"Contact Details",href:`/studio/contacts/${h.params.id}`,action:!1},{count:3,label:"Projects",href:"",action:!1}],z=[{key:"name",title:"Project Name",sortable:!0,filterable:!0},{key:"type",title:"Type",sortable:!0,filterable:!0},{key:"eventDate",title:"Event Date",sortable:!0,format:"date"},{key:"budget",title:"Budget",sortable:!0},{key:"status",title:"Status",sortable:!0,filterable:!0},{key:"actions",title:"Actions",headerClass:"text-right",cellClass:"text-right"}],i=w([{id:"1",name:"Wedding Photography",description:"Complete wedding day coverage",type:"wedding",status:"completed",budget:8500,eventDate:new Date("2024-01-20"),deliveryDate:new Date("2024-02-20"),createdAt:new Date("2024-01-01")},{id:"2",name:"Engagement Session",description:"Pre-wedding couple photoshoot",type:"portrait",status:"delivered",budget:1200,eventDate:new Date("2023-12-15"),deliveryDate:new Date("2023-12-22"),createdAt:new Date("2023-12-01")},{id:"3",name:"Anniversary Photos",description:"10th anniversary celebration shoot",type:"portrait",status:"in-progress",budget:800,eventDate:new Date("2024-03-10"),deliveryDate:new Date("2024-03-24"),createdAt:new Date("2024-02-15")}]),k=x(()=>i.value.reduce((s,e)=>s+(e.budget||0),0)),V=x(()=>i.value.filter(s=>s.status==="completed"||s.status==="delivered").length),B=x(()=>i.value.filter(s=>s.status==="in-progress"||s.status==="planning").length),A=x(()=>i.value.length>0?k.value/i.value.length:0),S=s=>s?new Intl.DateTimeFormat("en-MY",{year:"numeric",month:"short",day:"numeric"}).format(s):"N/A",L=s=>{switch(s){case"completed":case"delivered":return"default";case"in-progress":return"secondary";case"planning":return"outline";case"cancelled":return"destructive";default:return"outline"}},N=async()=>{_.value=!0;try{await new Promise(s=>setTimeout(s,1e3)),m.value={id:h.params.id,name:"Sarah Johnson",email:"sarah.johnson@email.com",phone:"+60123456789",company:"Johnson & Associates",status:"client",source:"website",createdAt:new Date("2024-01-15"),lastContactDate:new Date("2024-02-01"),projectsCount:i.value.length,totalValue:k.value}}catch(s){console.error("Error loading data:",s)}finally{_.value=!1}},T=()=>{v.push(`/studio/contacts/${h.params.id}`)},j=()=>{v.push(`/studio/projects/create?contactId=${h.params.id}`)},H=s=>{v.push(`/studio/projects/${s}`)},E=s=>{v.push(`/studio/projects/${s}/edit`)},R=s=>{v.push(`/studio/projects/${s}/gallery`)},F=s=>{console.log("Page changed to:",s)},U=s=>{console.log("Page size changed to:",s)},I=(s,e)=>{console.log("Sort changed:",{column:s,direction:e})},Y=s=>{console.log("Filters changed:",s)};return W(()=>{N()}),(s,e)=>{var C;return c(),u("div",st,[_.value?(c(),q(a(et),{key:0,title:"Loading contact projects",description:"Retrieving project information for this contact."})):(c(),u("div",ot,[n(Z,{breadcrumb:$}),t("div",at,[t("div",null,[t("h1",nt," Projects for "+r((C=m.value)==null?void 0:C.name),1),e[0]||(e[0]=t("p",{class:"text-sm text-gray-600 mt-1"}," All photography projects for this client ",-1))]),t("div",lt,[n(a(y),{variant:"outline",onClick:T},{default:o(()=>e[1]||(e[1]=[t("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1),d(" Contact Details ")])),_:1}),n(a(y),{onClick:j},{default:o(()=>e[2]||(e[2]=[t("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),d(" Create New Project ")])),_:1})])]),n(a(f),{class:"mb-6"},{default:o(()=>[n(a(g),{class:"py-4"},{default:o(()=>{var l,p,D,M;return[t("div",rt,[t("div",it,[t("div",dt,[t("span",ct,r((p=(l=m.value)==null?void 0:l.name)==null?void 0:p.charAt(0)),1)]),t("div",null,[t("h3",ut,r((D=m.value)==null?void 0:D.name),1),t("p",vt,r((M=m.value)==null?void 0:M.email),1)])]),t("div",mt,[e[3]||(e[3]=t("div",{class:"text-sm text-gray-600"},"Total Projects Value",-1)),t("div",pt," MYR "+r(k.value.toLocaleString()),1)])])]}),_:1})]),_:1}),t("div",ft,[n(a(f),null,{default:o(()=>[n(a(g),{class:"py-4"},{default:o(()=>[t("div",gt,[e[5]||(e[5]=t("div",{class:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center mr-3"},[t("svg",{class:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})])],-1)),t("div",null,[t("div",ht,r(i.value.length),1),e[4]||(e[4]=t("div",{class:"text-xs text-gray-600"},"Total Projects",-1))])])]),_:1})]),_:1}),n(a(f),null,{default:o(()=>[n(a(g),{class:"py-4"},{default:o(()=>[t("div",xt,[e[7]||(e[7]=t("div",{class:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center mr-3"},[t("svg",{class:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})])],-1)),t("div",null,[t("div",yt,r(V.value),1),e[6]||(e[6]=t("div",{class:"text-xs text-gray-600"},"Completed",-1))])])]),_:1})]),_:1}),n(a(f),null,{default:o(()=>[n(a(g),{class:"py-4"},{default:o(()=>[t("div",_t,[e[9]||(e[9]=t("div",{class:"w-8 h-8 bg-yellow-100 rounded-full flex items-center justify-center mr-3"},[t("svg",{class:"w-4 h-4 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),t("div",null,[t("div",kt,r(B.value),1),e[8]||(e[8]=t("div",{class:"text-xs text-gray-600"},"In Progress",-1))])])]),_:1})]),_:1}),n(a(f),null,{default:o(()=>[n(a(g),{class:"py-4"},{default:o(()=>[t("div",wt,[e[11]||(e[11]=t("div",{class:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center mr-3"},[t("svg",{class:"w-4 h-4 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})])],-1)),t("div",null,[t("div",bt,r(A.value.toLocaleString()),1),e[10]||(e[10]=t("div",{class:"text-xs text-gray-600"},"Avg Value",-1))])])]),_:1})]),_:1})]),n(a(tt),{data:i.value,columns:z,"show-numbering":!0,"page-size":10,"page-size-options":[5,10,25,50],"row-key":"id","onUpdate:page":F,"onUpdate:pageSize":U,"onUpdate:sort":I,"onUpdate:filters":Y},{"cell-name":o(({item:l})=>[t("div",null,[t("div",jt,r(l.name),1),t("div",Ct,r(l.description),1)])]),"cell-type":o(({item:l})=>[n(a(P),{variant:"outline",class:"capitalize"},{default:o(()=>[d(r(l.type),1)]),_:2},1024)]),"cell-eventDate":o(({item:l})=>[t("div",Dt,[l.eventDate?(c(),u("div",Mt,r(S(l.eventDate)),1)):(c(),u("div",Pt,"Not scheduled"))])]),"cell-budget":o(({item:l})=>[t("div",$t,[l.budget?(c(),u("div",zt," MYR "+r(l.budget.toLocaleString()),1)):(c(),u("div",Vt,"TBD"))])]),"cell-status":o(({item:l})=>[n(a(P),{variant:L(l.status),class:"capitalize"},{default:o(()=>[d(r(l.status),1)]),_:2},1032,["variant"])]),"cell-actions":o(({item:l})=>[t("div",Bt,[n(a(K),null,{default:o(()=>[n(a(O),{"as-child":""},{default:o(()=>[n(a(y),{variant:"ghost",size:"sm",class:"h-8 w-8 p-0"},{default:o(()=>e[12]||(e[12]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zM12 13a1 1 0 110-2 1 1 0 010 2zM12 20a1 1 0 110-2 1 1 0 010 2z"})],-1)])),_:1})]),_:1}),n(a(Q),{align:"end"},{default:o(()=>[n(a(b),{onClick:p=>H(l.id)},{default:o(()=>e[13]||(e[13]=[t("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1),d(" View Details ")])),_:2},1032,["onClick"]),n(a(b),{onClick:p=>E(l.id)},{default:o(()=>e[14]||(e[14]=[t("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),d(" Edit Project ")])),_:2},1032,["onClick"]),n(a(b),{onClick:p=>R(l.id)},{default:o(()=>e[15]||(e[15]=[t("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1),d(" Gallery ")])),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)])]),"empty-state":o(()=>[t("div",At,[e[17]||(e[17]=t("svg",{class:"w-12 h-12 mx-auto text-gray-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})],-1)),e[18]||(e[18]=t("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"No projects yet",-1)),e[19]||(e[19]=t("p",{class:"text-gray-500 mb-4"},"This contact doesn't have any projects yet.",-1)),n(a(y),{onClick:j},{default:o(()=>e[16]||(e[16]=[d("Create First Project")])),_:1})])]),_:1},8,["data"])]))])}}});export{Gt as default};
