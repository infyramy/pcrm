import{d as z,r as f,ag as H,D as Q,o as G,c,g as a,b as t,v as C,T as y,w as l,f as s,_ as b,h as u,bw as O,bx as Y,by as j,t as i,Q as $,U as J,W as X,k as Z,l as d}from"./index-C2UrP5hw.js";import{_ as ee}from"./Input.vue_vue_type_script_setup_true_lang-CSZ-Dkyw.js";import{_ as te}from"./Textarea.vue_vue_type_script_setup_true_lang--1zaO6ew.js";import{_ as se}from"./Checkbox.vue_vue_type_script_setup_true_lang-CDve3pL6.js";import{_ as P}from"./index-BFTYKSG-.js";import{_ as S,a as U}from"./CardContent.vue_vue_type_script_setup_true_lang-eN_1_cPI.js";import{a as V,_ as A}from"./CardTitle.vue_vue_type_script_setup_true_lang-Q0gFftlI.js";import{_ as ae,a as le,b as oe,c as ne,d as v}from"./SelectValue.vue_vue_type_script_setup_true_lang-BJhQFqbJ.js";import{_ as ie}from"./PageHeader.vue_vue_type_script_setup_true_lang-B1Je6Lxx.js";import"./ohash.D__AXeF1-DHF4M4F_.js";import"./useFormControl-BTKw-cda.js";import"./RovingFocusItem-CwJVmJ5Q.js";import"./VisuallyHiddenInput-CveaDp_Q.js";import"./check-CMqAtv7z.js";const re={class:"space-y-6"},ue={class:"flex items-center justify-between"},de={class:"text-xl font-semibold"},me={class:"text-sm text-gray-500"},ce={class:"flex items-center gap-2 mt-1"},pe={class:"text-sm text-gray-500"},fe={class:"space-y-4"},ge={class:"flex items-center gap-4"},ve={class:"space-y-3"},_e=["onClick"],he={class:"flex items-start justify-between"},ye={class:"flex-1"},be={class:"flex items-center gap-3 mb-2"},xe={class:"font-semibold text-gray-900"},ke={class:"text-sm text-gray-600"},we={class:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm"},Ce={class:"ml-1 font-medium"},$e={class:"ml-1 font-medium"},Je={class:"ml-1 font-medium"},Pe={class:"mt-2"},Se={class:"ml-1 text-sm"},Ve={key:0,class:"mt-2"},Ae={class:"flex flex-wrap gap-1 mt-1"},Le={key:0,class:"text-center py-8"},Be={class:"space-y-3"},De={class:"flex items-center justify-between py-2 px-3 bg-blue-50 rounded-lg"},Te={class:"font-semibold"},Me={class:"space-y-2"},Ne={class:"font-medium"},Ue={class:"text-sm text-gray-500 ml-2"},Fe={class:"pt-4 border-t"},We={class:"flex justify-end gap-3"},st=z({__name:"assign-job",setup(qe){const L=Z(),x=H(),m=f(null),g=f(""),_=f("all"),r=f([]),h=f(""),F=[{id:"1",name:"Sarah Chen",email:"sarah.chen@studio.com",phone:"+60123456789",profileImage:"https://images.unsplash.com/photo-1494790108755-2616b612b577?w=150",roles:["Photographer","Editor"],status:"active",availability:"free",totalJobs:45,completedJobs:42,upcomingJobs:3,cancelledJobs:2,rating:4.8,reviewCount:38,dateJoined:new Date("2023-01-15"),emergencyContact:"John Chen (+60198765432)",identificationNumber:"A12345678",skills:["Wedding","Portrait","Lightroom","Photoshop"]}],k=f([{id:"1",title:"Wedding Photography - Smith & Jones",client:"Alice Smith",type:"wedding",date:new Date("2024-02-15"),duration:"8 hours",budget:3500,location:"Kuala Lumpur Convention Centre",requirements:["Wedding","Portrait","Group Photos"],status:"unassigned"},{id:"2",title:"Corporate Headshots",client:"Tech Solutions Sdn Bhd",type:"corporate",date:new Date("2024-02-10"),duration:"4 hours",budget:1200,location:"Menara TM, KL",requirements:["Portrait","Corporate","Professional Lighting"],status:"unassigned"},{id:"3",title:"Family Portrait Session",client:"The Wong Family",type:"portrait",date:new Date("2024-02-12"),duration:"2 hours",budget:800,location:"KLCC Park",requirements:["Portrait","Natural Light","Family"],status:"unassigned"}]),W=f([{count:1,href:"/studio/photographers",label:"Photographers",action:!0},{count:2,label:"Assign Job",href:`/studio/photographers/${x.params.id}/assign-job`,action:!1}]),B=Q(()=>{let n=k.value.filter(e=>e.status==="unassigned");return g.value&&(n=n.filter(e=>e.title.toLowerCase().includes(g.value.toLowerCase())||e.client.toLowerCase().includes(g.value.toLowerCase()))),_.value!=="all"&&(n=n.filter(e=>e.type===_.value)),n});function q(n){return n.split(" ").map(e=>e.charAt(0)).join("").toUpperCase().slice(0,2)}function R(n){switch(n){case"free":return"default";case"busy":return"destructive";case"on-leave":return"secondary";default:return"outline"}}function D(n){return n?new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric"}).format(n):""}function w(n){const e=r.value.indexOf(n);e>-1?r.value.splice(e,1):r.value.push(n)}function T(n){return k.value.find(e=>e.id===n)}function M(){r.value=[],h.value=""}function E(){r.value.length!==0&&(console.log("Assigning jobs:",{photographerId:x.params.id,jobIds:r.value,notes:h.value}),r.value.forEach(n=>{const e=k.value.find(o=>o.id===n);e&&(e.status="assigned")}),M(),L.push("/studio/photographers"))}function I(){const n=x.params.id;m.value=F.find(e=>e.id===n)||null}function K(){L.push("/studio/photographers")}return G(()=>{I()}),(n,e)=>(d(),c("div",re,[a(ie,{breadcrumb:W.value},null,8,["breadcrumb"]),t("div",ue,[e[4]||(e[4]=t("div",null,[t("h1",{class:"text-2xl font-semibold text-gray-900"},"Assign Job"),t("p",{class:"text-sm text-gray-600 mt-1"}," Assign photography sessions to team members ")],-1)),a(s(b),{variant:"outline",onClick:K,class:"flex items-center gap-2"},{default:l(()=>e[3]||(e[3]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),u(" Back to Photographers ")])),_:1})]),m.value?(d(),C(s(S),{key:0},{default:l(()=>[a(s(A),null,{default:l(()=>[a(s(V),{class:"flex items-center gap-3"},{default:l(()=>[a(s(O),{class:"h-12 w-12"},{default:l(()=>[a(s(Y),{src:m.value.profileImage},null,8,["src"]),a(s(j),null,{default:l(()=>[u(i(q(m.value.name)),1)]),_:1})]),_:1}),t("div",null,[t("div",de,i(m.value.name),1),t("div",me,i(m.value.email),1),t("div",ce,[a(s(P),{variant:R(m.value.availability)},{default:l(()=>[u(i(m.value.availability),1)]),_:1},8,["variant"]),t("span",pe,i(m.value.totalJobs||0)+" total jobs ",1)])])]),_:1})]),_:1})]),_:1})):y("",!0),a(s(S),null,{default:l(()=>[a(s(A),null,{default:l(()=>[a(s(V),null,{default:l(()=>e[5]||(e[5]=[u("Available Jobs")])),_:1}),e[6]||(e[6]=t("p",{class:"text-sm text-gray-600"}," Select from unassigned photography sessions that match this photographer's skills ",-1))]),_:1}),a(s(U),null,{default:l(()=>[t("div",fe,[t("div",ge,[a(s(ee),{modelValue:g.value,"onUpdate:modelValue":e[0]||(e[0]=o=>g.value=o),placeholder:"Search jobs...",class:"max-w-md"},null,8,["modelValue"]),a(s(ae),{modelValue:_.value,"onUpdate:modelValue":e[1]||(e[1]=o=>_.value=o)},{default:l(()=>[a(s(le),{class:"w-48"},{default:l(()=>[a(s(oe),{placeholder:"Filter by type"})]),_:1}),a(s(ne),null,{default:l(()=>[a(s(v),{value:"all"},{default:l(()=>e[7]||(e[7]=[u("All Types")])),_:1}),a(s(v),{value:"wedding"},{default:l(()=>e[8]||(e[8]=[u("Wedding")])),_:1}),a(s(v),{value:"portrait"},{default:l(()=>e[9]||(e[9]=[u("Portrait")])),_:1}),a(s(v),{value:"event"},{default:l(()=>e[10]||(e[10]=[u("Event")])),_:1}),a(s(v),{value:"corporate"},{default:l(()=>e[11]||(e[11]=[u("Corporate")])),_:1})]),_:1})]),_:1},8,["modelValue"])]),t("div",ve,[(d(!0),c($,null,J(B.value,o=>(d(),c("div",{key:o.id,class:X(["p-4 border rounded-lg hover:border-blue-500 transition-colors cursor-pointer",{"border-blue-500 bg-blue-50":r.value.includes(o.id)}]),onClick:p=>w(o.id)},[t("div",he,[t("div",ye,[t("div",be,[a(s(se),{checked:r.value.includes(o.id),"onUpdate:checked":p=>w(o.id)},null,8,["checked","onUpdate:checked"]),t("div",null,[t("h3",xe,i(o.title),1),t("p",ke,i(o.client),1)])]),t("div",we,[t("div",null,[e[12]||(e[12]=t("span",{class:"text-gray-500"},"Type:",-1)),a(s(P),{variant:"outline",class:"ml-1"},{default:l(()=>[u(i(o.type),1)]),_:2},1024)]),t("div",null,[e[13]||(e[13]=t("span",{class:"text-gray-500"},"Date:",-1)),t("span",Ce,i(D(o.date)),1)]),t("div",null,[e[14]||(e[14]=t("span",{class:"text-gray-500"},"Duration:",-1)),t("span",$e,i(o.duration),1)]),t("div",null,[e[15]||(e[15]=t("span",{class:"text-gray-500"},"Budget:",-1)),t("span",Je,"MYR "+i(o.budget.toLocaleString()),1)])]),t("div",Pe,[e[16]||(e[16]=t("span",{class:"text-gray-500 text-sm"},"Location:",-1)),t("span",Se,i(o.location),1)]),o.requirements.length>0?(d(),c("div",Ve,[e[17]||(e[17]=t("span",{class:"text-gray-500 text-sm"},"Requirements:",-1)),t("div",Ae,[(d(!0),c($,null,J(o.requirements,p=>(d(),C(s(P),{key:p,variant:"secondary",class:"text-xs"},{default:l(()=>[u(i(p),1)]),_:2},1024))),128))])])):y("",!0)])])],10,_e))),128)),B.value.length===0?(d(),c("div",Le,e[18]||(e[18]=[t("svg",{class:"w-12 h-12 mx-auto text-gray-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})],-1),t("h3",{class:"text-lg font-medium text-gray-900 mb-2"}," No available jobs ",-1),t("p",{class:"text-gray-500"}," There are currently no unassigned jobs matching your criteria. ",-1)]))):y("",!0)])])]),_:1})]),_:1}),r.value.length>0?(d(),C(s(S),{key:1},{default:l(()=>[a(s(A),null,{default:l(()=>[a(s(V),null,{default:l(()=>e[19]||(e[19]=[u("Assignment Summary")])),_:1})]),_:1}),a(s(U),null,{default:l(()=>[t("div",Be,[t("div",De,[e[20]||(e[20]=t("span",{class:"font-medium"},"Selected Jobs:",-1)),t("span",Te,i(r.value.length),1)]),t("div",Me,[(d(!0),c($,null,J(r.value,o=>{var p,N;return d(),c("div",{key:o,class:"flex items-center justify-between py-2 px-3 border rounded"},[t("div",null,[t("span",Ne,i((p=T(o))==null?void 0:p.title),1),t("span",Ue,i(D((N=T(o))==null?void 0:N.date)),1)]),a(s(b),{variant:"ghost",size:"sm",onClick:Re=>w(o)},{default:l(()=>e[21]||(e[21]=[u(" Remove ")])),_:2},1032,["onClick"])])}),128))]),t("div",Fe,[a(s(te),{modelValue:h.value,"onUpdate:modelValue":e[2]||(e[2]=o=>h.value=o),placeholder:"Add notes for this assignment (optional)...",class:"mb-4"},null,8,["modelValue"]),t("div",We,[a(s(b),{variant:"outline",onClick:M},{default:l(()=>e[22]||(e[22]=[u(" Clear Selection ")])),_:1}),a(s(b),{onClick:E,disabled:r.value.length===0},{default:l(()=>[u(" Assign "+i(r.value.length)+" Job"+i(r.value.length>1?"s":""),1)]),_:1},8,["disabled"])])])])]),_:1})]),_:1})):y("",!0)]))}});export{st as default};
