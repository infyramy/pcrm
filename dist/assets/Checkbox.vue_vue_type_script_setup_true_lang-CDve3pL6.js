import{aZ as $,d as k,q as R,aW as j,D as h,v as p,w as u,x as w,T as A,f as e,y as g,a4 as M,j as I,a3 as K,P as S,l as v,g as y,bb as N,bp as D,ba as O,X as T}from"./index-C2UrP5hw.js";import{i as C}from"./SelectValue.vue_vue_type_script_setup_true_lang-BJhQFqbJ.js";import{i as V}from"./ohash.D__AXeF1-DHF4M4F_.js";import{u as L}from"./useFormControl-BTKw-cda.js";import{_ as W}from"./RovingFocusItem-CwJVmJ5Q.js";import{_ as X}from"./VisuallyHiddenInput-CveaDp_Q.js";import{C as Z}from"./check-CMqAtv7z.js";function q(l,r){return C(l)?!1:Array.isArray(l)?l.some(t=>V(t,r)):V(l,r)}const[z,se]=$("CheckboxGroupRoot");function b(l){return l==="indeterminate"}function E(l){return b(l)?"indeterminate":l?"checked":"unchecked"}const[H,J]=$("CheckboxRoot"),Q=k({inheritAttrs:!1,__name:"CheckboxRoot",props:{defaultValue:{type:[Boolean,String]},modelValue:{type:[Boolean,String,null],default:void 0},disabled:{type:Boolean},value:{default:"on"},id:{},asChild:{type:Boolean},as:{default:"button"},name:{},required:{type:Boolean}},emits:["update:modelValue"],setup(l,{emit:r}){const t=l,s=r,{forwardRef:c,currentElement:m}=R(),o=z(null),i=j(t,"modelValue",s,{defaultValue:t.defaultValue,passive:t.modelValue===void 0}),n=h(()=>(o==null?void 0:o.disabled.value)||t.disabled),d=h(()=>C(o==null?void 0:o.modelValue.value)?i.value==="indeterminate"?"indeterminate":i.value:q(o.modelValue.value,t.value));function F(){if(C(o==null?void 0:o.modelValue.value))i.value=b(i.value)?!0:!i.value;else{const a=[...o.modelValue.value||[]];if(q(a,t.value)){const B=a.findIndex(f=>V(f,t.value));a.splice(B,1)}else a.push(t.value);o.modelValue.value=a}}const P=L(m),x=h(()=>{var a;return t.id&&m.value?(a=document.querySelector(`[for="${t.id}"]`))==null?void 0:a.innerText:void 0});return J({disabled:n,state:d}),(a,B)=>{var f,_;return v(),p(K((f=e(o))!=null&&f.rovingFocus.value?e(W):e(S)),g(a.$attrs,{id:a.id,ref:e(c),role:"checkbox","as-child":a.asChild,as:a.as,type:a.as==="button"?"button":void 0,"aria-checked":e(b)(d.value)?"mixed":d.value,"aria-required":a.required,"aria-label":a.$attrs["aria-label"]||x.value,"data-state":e(E)(d.value),"data-disabled":n.value?"":void 0,disabled:n.value,focusable:(_=e(o))!=null&&_.rovingFocus.value?!n.value:void 0,onKeydown:M(I(()=>{},["prevent"]),["enter"]),onClick:F}),{default:u(()=>[w(a.$slots,"default",{modelValue:e(i),state:d.value}),e(P)&&a.name&&!e(o)?(v(),p(e(X),{key:0,type:"checkbox",checked:!!d.value,name:a.name,value:a.value,disabled:n.value,required:a.required},null,8,["checked","name","value","disabled","required"])):A("",!0)]),_:3},16,["id","as-child","as","type","aria-checked","aria-required","aria-label","data-state","data-disabled","disabled","focusable","onKeydown"])}}}),U=k({__name:"CheckboxIndicator",props:{forceMount:{type:Boolean},asChild:{type:Boolean},as:{default:"span"}},setup(l){const{forwardRef:r}=R(),t=H();return(s,c)=>(v(),p(e(N),{present:s.forceMount||e(b)(e(t).state.value)||e(t).state.value===!0},{default:u(()=>[y(e(S),g({ref:e(r),"data-state":e(E)(e(t).state.value),"data-disabled":e(t).disabled.value?"":void 0,style:{pointerEvents:"none"},"as-child":s.asChild,as:s.as},s.$attrs),{default:u(()=>[w(s.$slots,"default")]),_:3},16,["data-state","data-disabled","as-child","as"])]),_:3},8,["present"]))}}),re=k({__name:"Checkbox",props:{defaultValue:{type:[Boolean,String]},modelValue:{type:[Boolean,String,null]},disabled:{type:Boolean},value:{},id:{},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},class:{}},emits:["update:modelValue"],setup(l,{emit:r}){const t=l,s=r,c=D(t,"class"),m=O(c,s);return(o,i)=>(v(),p(e(Q),g(e(m),{class:e(T)("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t.class)}),{default:u(()=>[y(e(U),{class:"flex h-full w-full items-center justify-center text-current"},{default:u(()=>[w(o.$slots,"default",{},()=>[y(e(Z),{class:"h-4 w-4"})])]),_:3})]),_:3},16,["class"]))}});export{re as _};
