import{d as nt,B as $t,aG as Nt,e as ht,c as mt,ay as Bt,v as ft,a5 as Mt,r as Lt,o as at,aH as rt,aI as st,a4 as Wt,s as K,H as Gt,L as It,m as St,u as N,aJ as bt,a7 as Pt,g as ut,w as jt,a8 as Ut,n as Yt,a as Vt}from"./index-1M69Q-Yy.js";import{F as Xt,G as qt,af as ct,s as lt,w as Jt,Q as yt,T as Y,R as B,c as S,ag as At,q as k,P as it,N as Q,ah as dt,ai as xt,aj as L,ak as _t,al as Kt,am as Qt,L as Zt,f as Ct,D as te,a as Z,i as ee,M as ne,S as ae,g as Rt,b as oe,y as ie,an as le,m as Tt,o as kt,aa as re,ab as se,n as ue,ac as ce,ad as de,ae as wt,p as fe}from"./index-B7AGZY5W.js";import{a as ge}from"./array-BKyUJesY.js";import"./CardTitle.vue_vue_type_script_setup_true_lang-Dn20qXRk.js";const he=Object.assign(Object.assign({},Xt),{tooltip:void 0,annotations:void 0});class me extends qt{constructor(t,n,o){var i;super(t),this._defaultConfig=he,this.config=this._defaultConfig,n&&(this.updateContainer(n,!0),this.component=n.component),o&&this.setData(o,!0),!((i=this.component)===null||i===void 0)&&i.datamodel.data&&this.render()}setData(t,n){var o;const{config:i}=this;this.component&&this.component.setData(t),n||this.render(),(o=i.tooltip)===null||o===void 0||o.hide()}updateContainer(t,n){super.updateContainer(t),this._removeAllChildren(),this.component=t.component,t.sizing&&(this.component.sizing=t.sizing),this.element.appendChild(this.component.element);const o=t.tooltip;o&&(o.hasContainer()||o.setContainer(this._container),o.setComponents([this.component]));const i=t.annotations;i&&this.element.appendChild(i.element),this.element.appendChild(this._svgDefs.node()),this.element.appendChild(this._svgDefsExternal.node()),n||this.render()}updateComponent(t,n){this.component.setConfig(t),n||this.render()}update(t,n,o){t&&this.updateContainer(t,!0),n&&this.updateComponent(n,!0),o&&this.setData(o,!0),this.render()}getFitWidthScale(){const{config:t,component:n}=this,o=n;if(!o.getWidth)return 1;const i=o.getWidth()+t.margin.left+t.margin.right;return this.width/i}_preRender(){var t;super._preRender(),this.component.setSize(this.width,this.height,this.containerWidth,this.containerHeight),(t=this.config.annotations)===null||t===void 0||t.setSize(this.width,this.height,this.containerWidth,this.containerHeight)}_render(t){var n;const{config:o,component:i}=this;super._render(t),i.g.attr("transform",`translate(${o.margin.left},${o.margin.top})`),i.render(t),(n=o.annotations)===null||n===void 0||n.render(t),o.tooltip&&o.tooltip.update()}render(t=this.config.duration){const{config:n,component:o}=this;if(n.sizing===ct.Extend||n.sizing===ct.FitWidth){const i=n.sizing===ct.FitWidth,f=o,l=f.getWidth()+n.margin.left+n.margin.right,e=f.getHeight()+n.margin.top+n.margin.bottom,g=i?this.getFitWidthScale():1,r=this.svg.attr("width"),a=this.svg.attr("height"),p=l*g,s=e*g,m=r||a;lt(this.svg,m?t:0).attr("width",p).attr("height",s).attr("viewBox",`0 0 ${l} ${i?s:e}`).attr("preserveAspectRatio","xMinYMin")}else this.svg.attr("width",this.config.width||this.containerWidth).attr("height",this.config.height||this.containerHeight);this._resizeObserver||this._setUpResizeObserver(),cancelAnimationFrame(this._renderAnimationFrameId),this._renderAnimationFrameId=requestAnimationFrame(()=>{this._preRender(),this._render(t)})}_onResize(){var t;const{config:n}=this;super._onResize(),(t=n.tooltip)===null||t===void 0||t.hide()}destroy(){var t,n;const{component:o,config:i}=this;super.destroy(),o==null||o.destroy(),(t=i.tooltip)===null||t===void 0||t.destroy(),(n=i.annotations)===null||n===void 0||n.destroy()}}function pe(u){return u.innerRadius}function ve(u){return u.outerRadius}function be(u){return u.startAngle}function ye(u){return u.endAngle}function Ae(u){return u&&u.padAngle}function xe(u,t,n,o,i,f,l,e){var g=n-u,r=o-t,a=l-i,p=e-f,s=p*g-a*r;if(!(s*s<k))return s=(a*(t-f)-p*(u-i))/s,[u+s*g,t+s*r]}function ot(u,t,n,o,i,f,l){var e=u-n,g=t-o,r=(l?f:-f)/Q(e*e+g*g),a=r*g,p=-r*e,s=u+a,m=t+p,b=n+a,A=o+p,c=(s+b)/2,y=(m+A)/2,x=b-s,R=A-m,_=x*x+R*R,w=i-f,M=s*A-b*m,E=(R<0?-1:1)*Q(Kt(0,w*w*_-M*M)),F=(M*R-x*E)/_,H=(-M*x-R*E)/_,O=(M*R+x*E)/_,C=(-M*x+R*E)/_,T=F-c,d=H-y,v=O-c,$=C-y;return T*T+d*d>v*v+$*$&&(F=O,H=C),{cx:F,cy:H,x01:-a,y01:-p,x11:F*(i/w-1),y11:H*(i/w-1)}}function _e(){var u=pe,t=ve,n=S(0),o=null,i=be,f=ye,l=Ae,e=null,g=Jt(r);function r(){var a,p,s=+u.apply(this,arguments),m=+t.apply(this,arguments),b=i.apply(this,arguments)-At,A=f.apply(this,arguments)-At,c=xt(A-b),y=A>b;if(e||(e=a=g()),m<s&&(p=m,m=s,s=p),!(m>k))e.moveTo(0,0);else if(c>it-k)e.moveTo(m*Y(b),m*B(b)),e.arc(0,0,m,b,A,!y),s>k&&(e.moveTo(s*Y(A),s*B(A)),e.arc(0,0,s,A,b,y));else{var x=b,R=A,_=b,w=A,M=c,E=c,F=l.apply(this,arguments)/2,H=F>k&&(o?+o.apply(this,arguments):Q(s*s+m*m)),O=dt(xt(m-s)/2,+n.apply(this,arguments)),C=O,T=O,d,v;if(H>k){var $=_t(H/s*B(F)),I=_t(H/m*B(F));(M-=$*2)>k?($*=y?1:-1,_+=$,w-=$):(M=0,_=w=(b+A)/2),(E-=I*2)>k?(I*=y?1:-1,x+=I,R-=I):(E=0,x=R=(b+A)/2)}var W=m*Y(x),P=m*B(x),V=s*Y(w),G=s*B(w);if(O>k){var X=m*Y(R),j=m*B(R),q=s*Y(_),tt=s*B(_),z;if(c<yt)if(z=xe(W,P,q,tt,X,j,V,G)){var J=W-z[0],h=P-z[1],D=X-z[0],U=j-z[1],pt=1/B(Qt((J*D+h*U)/(Q(J*J+h*h)*Q(D*D+U*U)))/2),vt=Q(z[0]*z[0]+z[1]*z[1]);C=dt(O,(s-vt)/(pt-1)),T=dt(O,(m-vt)/(pt+1))}else C=T=0}E>k?T>k?(d=ot(q,tt,W,P,m,T,y),v=ot(X,j,V,G,m,T,y),e.moveTo(d.cx+d.x01,d.cy+d.y01),T<O?e.arc(d.cx,d.cy,T,L(d.y01,d.x01),L(v.y01,v.x01),!y):(e.arc(d.cx,d.cy,T,L(d.y01,d.x01),L(d.y11,d.x11),!y),e.arc(0,0,m,L(d.cy+d.y11,d.cx+d.x11),L(v.cy+v.y11,v.cx+v.x11),!y),e.arc(v.cx,v.cy,T,L(v.y11,v.x11),L(v.y01,v.x01),!y))):(e.moveTo(W,P),e.arc(0,0,m,x,R,!y)):e.moveTo(W,P),!(s>k)||!(M>k)?e.lineTo(V,G):C>k?(d=ot(V,G,X,j,s,-C,y),v=ot(W,P,q,tt,s,-C,y),e.lineTo(d.cx+d.x01,d.cy+d.y01),C<O?e.arc(d.cx,d.cy,C,L(d.y01,d.x01),L(v.y01,v.x01),!y):(e.arc(d.cx,d.cy,C,L(d.y01,d.x01),L(d.y11,d.x11),!y),e.arc(0,0,s,L(d.cy+d.y11,d.cx+d.x11),L(v.cy+v.y11,v.cx+v.x11),y),e.arc(v.cx,v.cy,C,L(v.y11,v.x11),L(v.y01,v.x01),!y))):e.arc(0,0,s,w,_,y)}if(e.closePath(),a)return e=null,a+""||null}return r.centroid=function(){var a=(+u.apply(this,arguments)+ +t.apply(this,arguments))/2,p=(+i.apply(this,arguments)+ +f.apply(this,arguments))/2-yt/2;return[Y(p)*a,B(p)*a]},r.innerRadius=function(a){return arguments.length?(u=typeof a=="function"?a:S(+a),r):u},r.outerRadius=function(a){return arguments.length?(t=typeof a=="function"?a:S(+a),r):t},r.cornerRadius=function(a){return arguments.length?(n=typeof a=="function"?a:S(+a),r):n},r.padRadius=function(a){return arguments.length?(o=a==null?null:typeof a=="function"?a:S(+a),r):o},r.startAngle=function(a){return arguments.length?(i=typeof a=="function"?a:S(+a),r):i},r.endAngle=function(a){return arguments.length?(f=typeof a=="function"?a:S(+a),r):f},r.padAngle=function(a){return arguments.length?(l=typeof a=="function"?a:S(+a),r):l},r.context=function(a){return arguments.length?(e=a??null,r):e},r}function Re(u,t){return t<u?-1:t>u?1:t>=u?0:NaN}function we(u){return u}function Me(){var u=we,t=Re,n=null,o=S(0),i=S(it),f=S(0);function l(e){var g,r=(e=ge(e)).length,a,p,s=0,m=new Array(r),b=new Array(r),A=+o.apply(this,arguments),c=Math.min(it,Math.max(-it,i.apply(this,arguments)-A)),y,x=Math.min(Math.abs(c)/r,f.apply(this,arguments)),R=x*(c<0?-1:1),_;for(g=0;g<r;++g)(_=b[m[g]=g]=+u(e[g],g,e))>0&&(s+=_);for(t!=null?m.sort(function(w,M){return t(b[w],b[M])}):n!=null&&m.sort(function(w,M){return n(e[w],e[M])}),g=0,p=s?(c-r*R)/s:0;g<r;++g,A=y)a=m[g],_=b[a],y=A+(_>0?_*p:0)+R,b[a]={data:e[a],index:g,value:_,startAngle:A,endAngle:y,padAngle:x};return b}return l.value=function(e){return arguments.length?(u=typeof e=="function"?e:S(+e),l):u},l.sortValues=function(e){return arguments.length?(t=e,n=null,l):t},l.sort=function(e){return arguments.length?(n=e,t=null,l):n},l.startAngle=function(e){return arguments.length?(o=typeof e=="function"?e:S(+e),l):o},l.endAngle=function(e){return arguments.length?(i=typeof e=="function"?e:S(+e),l):i},l.padAngle=function(e){return arguments.length?(f=typeof e=="function"?e:S(+e),l):f},l}const Le=Object.assign(Object.assign({},Zt),{id:(u,t)=>{var n;return(n=u.id)!==null&&n!==void 0?n:t},value:void 0,angleRange:[0,2*Math.PI],padAngle:0,sortFunction:void 0,cornerRadius:0,color:void 0,radius:void 0,arcWidth:20,centralLabel:void 0,centralSubLabel:void 0,centralSubLabelWrap:!0,showEmptySegments:!1,emptySegmentAngle:.5*Math.PI/180,showBackground:!0,backgroundAngleRange:void 0,centralLabelOffsetX:void 0,centralLabelOffsetY:void 0});function Se(u,t){u.style("fill",n=>Ct(n.data,t.color,n.index)).style("opacity",0).each((n,o,i)=>{const f=i[o],l=(n.startAngle+n.endAngle)/2,e=(n.endAngle-n.startAngle)/2;f._animState={startAngle:l-e,endAngle:l+e,innerRadius:n.innerRadius,outerRadius:n.outerRadius,padAngle:n.padAngle}})}function Ce(u,t,n,o){u.style("transition",`fill ${o}ms`).style("fill",f=>Ct(f.data,t.color,f.index));const i=f=>t.showEmptySegments||f.value?1:0;o?lt(u,o).style("opacity",i).attrTween("d",(l,e,g)=>{const r=g[e],a={startAngle:l.startAngle,endAngle:l.endAngle,innerRadius:l.innerRadius,outerRadius:l.outerRadius,padAngle:l.padAngle},p=te(r._animState,a);return s=>(r._animState=p(s),n(r._animState))}):u.attr("d",n).style("opacity",i)}function Te(u,t){lt(u,t).style("opacity",0).remove()}const Dt=Array.from({length:4},(u,t)=>{const n=-Math.PI/2+t*Math.PI/2;return[n,n+Math.PI]}),[Ge,Ie,Pe,je]=Dt,Et=Z`
  label: donut-component;
`,ke=ee`
  :root {
    --vis-donut-central-label-font-size: 16px;
    --vis-donut-central-label-text-color: #5b5f6d;
    // Undefined by default to allow proper fallback to var(--vis-font-family)
    /* --vis-donut-central-label-font-family: */
    --vis-donut-central-label-font-weight: 600;

    --vis-donut-central-sub-label-font-size: 12px;
    --vis-donut-central-sub-label-text-color: #5b5f6d;
    // Undefined by default to allow proper fallback to var(--vis-font-family)
    /* --vis-donut-central-sub-label-font-family: */
    --vis-donut-central-sub-label-font-weight: 500;

    --vis-donut-background-color: #E7E9F3;
    --vis-donut-segment-stroke-width: 0;
    // The line segment color variable is not defined by default
    // to allow it to fallback to the donut background color
    /* --vis-donut-segment-stroke-color: none; */

    --vis-dark-donut-central-label-text-color: #C2BECE;
    --vis-dark-donut-central-sub-label-text-color: #C2BECE;
    --vis-dark-donut-background-color: #18160C;
  }

  body.theme-dark ${`.${Et}`} {
    --vis-donut-central-label-text-color: var(--vis-dark-donut-central-label-text-color);
    --vis-donut-central-sub-label-text-color: var(--vis-dark-donut-central-sub-label-text-color);
    --vis-donut-background-color: var(--vis-dark-donut-background-color);
  }
`,Ft=Z`
  label: background;
  fill: var(--vis-donut-background-color);
`,gt=Z`
  label: segment;
  stroke-width: var(--vis-donut-segment-stroke-width);
  stroke: var(--vis-donut-segment-stroke-color, var(--vis-donut-background-color));
`,Ot=Z`
  label: segment-exit;
`,zt=Z`
  label: central-label;
  text-anchor: middle;
  dominant-baseline: middle;
  font-size: var(--vis-donut-central-label-font-size);
  font-family: var(--vis-donut-central-label-font-family, var(--vis-font-family));
  font-weight: var(--vis-donut-central-label-font-weight);
  fill: var(--vis-donut-central-label-text-color);
`,Ht=Z`
  label: central-label;
  text-anchor: middle;
  dominant-baseline: middle;
  font-size: var(--vis-donut-central-sub-label-font-size);
  font-family: var(--vis-donut-central-sub-label-font-family, var(--vis-font-family));
  font-weight: var(--vis-donut-central-sub-label-font-weight);
  fill: var(--vis-donut-central-sub-label-text-color);
`,De=Object.freeze(Object.defineProperty({__proto__:null,background:Ft,centralLabel:zt,centralSubLabel:Ht,root:Et,segment:gt,segmentExit:Ot,variables:ke},Symbol.toStringTag,{value:"Module"}));class et extends ne{constructor(t){super(),this._defaultConfig=Le,this.config=this._defaultConfig,this.datamodel=new ae,this.arcGen=_e(),this.events={},t&&this.setConfig(t),this.arcBackground=this.g.append("path"),this.arcGroup=this.g.append("g"),this.centralLabel=this.g.append("text").attr("class",zt),this.centralSubLabel=this.g.append("text").attr("class",Ht)}get bleed(){return{top:0,bottom:0,left:0,right:0}}_render(t){var n,o,i,f,l,e,g,r,a,p,s,m,b,A;const{config:c,datamodel:y,bleed:x}=this,R=y.data.map((h,D)=>({index:D,datum:h})).filter(h=>c.showEmptySegments||Rt(h.datum,c.value,h.index)),_=oe(t)?t:c.duration,[w,M,E,F]=Dt.map(h=>c.angleRange&&c.angleRange[0]===h[0]&&c.angleRange[1]===h[1]),H=w||E,O=M||F,C=this._width*(O?2:1),T=this._height*(H?2:1),d=c.radius||Math.min(C-x.left-x.right,T-x.top-x.bottom)/2,v=c.arcWidth===0?0:ie(d-c.arcWidth,0,d-1),$=this._height/2+(w?d/2:E?-d/2:0),I=this._width/2+(F?d/2:M?-d/2:0),W=`translate(${I},${$})`;this.arcGroup.attr("transform",W),this.arcGen.startAngle(h=>h.startAngle).endAngle(h=>h.endAngle).innerRadius(h=>h.innerRadius).outerRadius(h=>h.outerRadius).padAngle(h=>h.padAngle).cornerRadius(c.cornerRadius);const V=Me().startAngle((o=(n=c.angleRange)===null||n===void 0?void 0:n[0])!==null&&o!==void 0?o:0).endAngle((f=(i=c.angleRange)===null||i===void 0?void 0:i[1])!==null&&f!==void 0?f:2*Math.PI).padAngle(c.padAngle).value(h=>Rt(h.datum,c.value,h.index)||0).sort((h,D)=>{var U;return(U=c.sortFunction)===null||U===void 0?void 0:U.call(c,h.datum,D.datum)})(R).map(h=>{const D=Object.assign(Object.assign({},h),{data:h.data.datum,index:h.data.index,innerRadius:v,outerRadius:d});return c.showEmptySegments&&h.endAngle-h.startAngle-h.padAngle<=Number.EPSILON&&(D.endAngle=h.startAngle+Math.max(c.emptySegmentAngle,c.padAngle),D.padAngle=h.padAngle/2),D}),G=this.arcGroup.selectAll(`.${gt}`).data(V,h=>c.id(h.data,h.index)),X=G.enter().append("path").attr("class",gt).call(Se,c),j=G.merge(X);j.call(Ce,c,this.arcGen,_),j.sort((h,D)=>D.value-h.value),G.exit().attr("class",Ot).call(Te,_);const q=M?"start":F?"end":"middle";this.centralLabel.attr("dy",c.centralSubLabel?"-0.55em":null).style("text-anchor",q).text((l=c.centralLabel)!==null&&l!==void 0?l:null),this.centralSubLabel.attr("dy",c.centralLabel?"0.55em":null).style("text-anchor",q).text((e=c.centralSubLabel)!==null&&e!==void 0?e:null),c.centralSubLabelWrap&&le(this.centralSubLabel,v*1.9);const tt=(c.centralLabelOffsetX||0)+I;let z=(c.centralLabelOffsetY||0)+$;H&&c.centralLabelOffsetX===void 0&&c.centralLabelOffsetY===void 0&&(z=(w?-this.centralSubLabel.node().getBoundingClientRect().height:E?this.centralLabel.node().getBoundingClientRect().height:0)+$);const J=`translate(${tt},${z})`;this.centralLabel.attr("transform",J),this.centralSubLabel.attr("transform",J),this.arcBackground.attr("class",Ft).attr("visibility",c.showBackground?null:"hidden").attr("transform",W),lt(this.arcBackground,_).attr("d",this.arcGen({startAngle:(p=(r=(g=c.backgroundAngleRange)===null||g===void 0?void 0:g[0])!==null&&r!==void 0?r:(a=c.angleRange)===null||a===void 0?void 0:a[0])!==null&&p!==void 0?p:0,endAngle:(A=(m=(s=c.backgroundAngleRange)===null||s===void 0?void 0:s[1])!==null&&m!==void 0?m:(b=c.angleRange)===null||b===void 0?void 0:b[1])!==null&&A!==void 0?A:2*Math.PI,innerRadius:v,outerRadius:d}))}}et.selectors=De;const Ee=nt({__name:"index",props:{component:{},tooltip:{},annotations:{},duration:{},margin:{},padding:{},sizing:{},width:{},height:{},svgDefs:{},ariaLabel:{},data:{}},setup(u,{expose:t}){const n=u,{data:o}=$t(n),i=Tt(n);let f;const l=Nt({component:void 0,tooltip:void 0,annotations:void 0}),e=ht(),g=()=>{f||e.value&&l.component&&(f=new me(e.value,{...rt(l)},o.value))};return Bt(()=>{var r;g(),(r=l.component)==null||r.config,f==null||f.updateContainer({...rt(i.value),...rt(l)})}),ft(o,()=>{f?f.setData(o.value,!0):g()}),Mt(()=>f==null?void 0:f.destroy()),st(kt,{data:o,update:r=>l.component=r,destroy:()=>l.component=void 0}),st(re,{data:o,update:r=>l.tooltip=r,destroy:()=>{l.tooltip=void 0}}),st(se,{data:o,update:r=>l.annotations=r,destroy:()=>{l.annotations=void 0}}),t({component:f}),(r,a)=>(at(),mt("div",{"data-vis-single-container":"",ref_key:"elRef",ref:e,class:"unovis-single-container"},[Lt(r.$slots,"default")],512))}}),Fe={"data-vis-component":""};et.selectors;const Oe=nt({__name:"index",props:{id:{type:Function},value:{},angleRange:{},padAngle:{},sortFunction:{type:Function},cornerRadius:{},color:{},radius:{},arcWidth:{},centralLabel:{},centralSubLabel:{},centralSubLabelWrap:{type:Boolean},showEmptySegments:{type:Boolean},emptySegmentAngle:{},showBackground:{type:Boolean},backgroundAngleRange:{},centralLabelOffsetX:{},centralLabelOffsetY:{},duration:{},events:{},attributes:{},data:{}},setup(u,{expose:t}){const n=Wt(kt),o=u,i=K(()=>n.data.value??o.data),f=Tt(o),l=ht();return Gt(()=>{It(()=>{var e;l.value=new et(f.value),(e=l.value)==null||e.setData(i.value),n.update(l.value)})}),Mt(()=>{var e;(e=l.value)==null||e.destroy(),n.destroy()}),ft(f,(e,g)=>{var r;ue(e,g)||(r=l.value)==null||r.setConfig(f.value)}),ft(i,()=>{var e;(e=l.value)==null||e.setData(i.value)}),t({component:l}),(e,g)=>(at(),mt("div",Fe))}}),ze=nt({__name:"ChartSingleTooltip",props:{selector:{},index:{},items:{},valueFormatter:{type:Function},customTooltip:{}},setup(u){const t=u,n=new WeakMap;function o(i,f,l){const e=t.valueFormatter??(g=>`${g}`);if(t.index in i){if(n.has(i))return n.get(i);{const g=document.createElement("div"),r=Object.entries(de(i,[t.index])).map(([p,s])=>{var b;return{...(b=t.items)==null?void 0:b.find(A=>A.name===p),value:e(s)}}),a=t.customTooltip??wt;return bt(a,{title:i[t.index],data:r}).mount(g),n.set(i,g.innerHTML),g.innerHTML}}else{const g=i.data;if(n.has(g))return n.get(g);{const r=getComputedStyle(l[f]),a=[{name:g.name,value:e(g[t.index]),color:r.fill}],p=document.createElement("div"),s=t.customTooltip??wt;return bt(s,{title:i[t.index],data:a}).mount(p),n.set(i,p.innerHTML),p.innerHTML}}}return(i,f)=>(at(),St(N(ce),{"horizontal-shift":20,"vertical-shift":20,triggers:{[i.selector]:o}},null,8,["triggers"]))}}),He=nt({__name:"DonutChart",props:{data:{},colors:{},index:{},margin:{default:()=>({top:0,bottom:0,left:0,right:0})},showLegend:{type:Boolean,default:!0},showTooltip:{type:Boolean,default:!0},filterOpacity:{default:.2},category:{},type:{default:"donut"},sortFunction:{type:Function,default:()=>{}},valueFormatter:{},customTooltip:{}},setup(u){const t=u,n=t.valueFormatter??(a=>`${a}`),o=K(()=>t.category),i=K(()=>t.index),f=Pt(),l=ht(),e=K(()=>{var a;return(a=t.colors)!=null&&a.length?t.colors:fe(t.data.filter(p=>p[t.category]).filter(Boolean).length)}),g=K(()=>t.data.map((a,p)=>({name:a[t.index],color:e.value[p],inactive:!1}))),r=K(()=>t.data.reduce((a,p)=>a+p[t.category],0));return(a,p)=>(at(),mt("div",{class:Yt(N(Vt)("w-full h-48 flex flex-col items-end",a.$attrs.class??""))},[ut(N(Ee),{style:Ut({height:N(f)?"100%":"auto"}),margin:{left:20,right:20},data:a.data},{default:jt(()=>[ut(N(ze),{selector:N(et).selectors.segment,index:o.value,items:g.value,"value-formatter":N(n),"custom-tooltip":a.customTooltip},null,8,["selector","index","items","value-formatter","custom-tooltip"]),ut(N(Oe),{value:s=>s[o.value],"sort-function":a.sortFunction,color:e.value,"arc-width":a.type==="donut"?20:0,"show-background":!1,"central-label":a.type==="donut"?N(n)(r.value):"",events:{[N(et).selectors.segment]:{click:(s,m,b,A)=>{var c,y;((c=s==null?void 0:s.data)==null?void 0:c[i.value])===l.value?(l.value=void 0,A.forEach(x=>x.style.opacity="1")):(l.value=(y=s==null?void 0:s.data)==null?void 0:y[i.value],A.forEach(x=>x.style.opacity=`${a.filterOpacity}`),A[b].style.opacity="1")}}}},null,8,["value","sort-function","color","arc-width","central-label","events"]),Lt(a.$slots,"default")]),_:3},8,["style","data"])],2))}}),Ue=nt({__name:"donut",setup(u){const t=[{name:"Jan",total:Math.floor(Math.random()*2e3)+500,predicted:Math.floor(Math.random()*2e3)+500},{name:"Feb",total:Math.floor(Math.random()*2e3)+500,predicted:Math.floor(Math.random()*2e3)+500},{name:"Mar",total:Math.floor(Math.random()*2e3)+500,predicted:Math.floor(Math.random()*2e3)+500},{name:"Apr",total:Math.floor(Math.random()*2e3)+500,predicted:Math.floor(Math.random()*2e3)+500},{name:"May",total:Math.floor(Math.random()*2e3)+500,predicted:Math.floor(Math.random()*2e3)+500},{name:"Jun",total:Math.floor(Math.random()*2e3)+500,predicted:Math.floor(Math.random()*2e3)+500}];function n(o){return typeof o=="number"?`$ ${new Intl.NumberFormat("us").format(o).toString()}`:""}return(o,i)=>(at(),St(N(He),{index:"name",category:"total",data:t,"value-formatter":n}))}});export{Ue as default};
