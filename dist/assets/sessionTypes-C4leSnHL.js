import{n as u,ao as y,u as l,K as m}from"./index-C2UrP5hw.js";/**
 * @license lucide-vue-next v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=u("PencilIcon",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]),c=()=>window.API_URL,g=()=>{const e=localStorage.getItem("access_token");return{"Content-Type":"application/json",...e?{Authorization:`Bearer ${e}`}:{}}};async function a(e){var t,o,r;try{console.log("Making API request to:",`${c()}${e.endpoint}`);const s=await y(`${c()}${e.endpoint}`,{method:e.method||"GET",body:e.body,headers:{...g(),...e.headers},params:e.params,credentials:"include"});console.log("API response:",s);const n=(t=s.headers)==null?void 0:t.get("X-New-Access-Token");return n&&localStorage.setItem("access_token",n),{data:s,status:200}}catch(s){if(s.response){const n=s.response.status,d=((o=s.response._data)==null?void 0:o.message)||"An error occurred";if(n===401){const p=l(),i=(r=s.response.headers)==null?void 0:r.get("X-New-Access-Token");if(i)return localStorage.setItem("access_token",i),a(e);m.error("Your session has expired. Please log in again."),await p.logout()}return{data:s.response._data,status:n,message:d}}else return s.request?{data:{},status:500,message:"No response received from server"}:{data:{},status:500,message:s.message||"An error occurred"}}}const w={async getSessionTypes(e=1,t=50){const o=[{id:"1",name:"Nikah",price:1500,description:"Traditional Islamic wedding ceremony photography",isActive:!0,createdAt:new Date("2024-01-01")},{id:"2",name:"Sanding",price:2e3,description:"Malay traditional wedding ceremony photography",isActive:!0,createdAt:new Date("2024-01-02")},{id:"3",name:"Outdoor",price:1200,description:"Outdoor photography session",isActive:!0,createdAt:new Date("2024-01-03")},{id:"4",name:"Engagement",price:800,description:"Pre-wedding engagement photography",isActive:!0,createdAt:new Date("2024-01-04")}];return{sessionTypes:o,total:o.length,page:e,limit:t}},async getSessionType(e){return(await a({endpoint:`/session-types/${e}`,method:"GET"})).data},async createSessionType(e){return(await a({endpoint:"/session-types",method:"POST",body:e})).data},async updateSessionType(e,t){return(await a({endpoint:`/session-types/${e}`,method:"PUT",body:t})).data},async deleteSessionType(e){await a({endpoint:`/session-types/${e}`,method:"DELETE"})}};export{A as P,w as s};
