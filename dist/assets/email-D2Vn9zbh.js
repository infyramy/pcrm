import{d as te,r as v,ag as oe,D as se,o as ae,c as p,v as le,f as s,g as a,b as e,t as i,w as l,_ as f,h as c,ad as C,aQ as ne,aP as re,T as S,Q as z,U as F,ae as A,k as ie,l as m}from"./index-C2UrP5hw.js";import{_ as ue}from"./PageHeader.vue_vue_type_script_setup_true_lang-B1Je6Lxx.js";import{_ as D,a as M}from"./CardContent.vue_vue_type_script_setup_true_lang-eN_1_cPI.js";import{_ as B,a as N}from"./CardTitle.vue_vue_type_script_setup_true_lang-Q0gFftlI.js";import{_ as de}from"./Input.vue_vue_type_script_setup_true_lang-CSZ-Dkyw.js";import{L as ce}from"./LoadingPage-DgCemYQp.js";const me={class:"space-y-6"},pe={key:1},ve={class:"flex items-center justify-between"},fe={class:"text-2xl font-semibold text-gray-900"},he={class:"flex gap-3"},ye={class:"grid grid-cols-1 lg:grid-cols-4 gap-6"},ge={class:"lg:col-span-3"},we={class:"bg-gray-50 p-4 rounded-lg"},ke={class:"flex items-center space-x-3"},xe={class:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center"},be={class:"text-blue-600 font-semibold"},_e={class:"font-medium text-gray-900"},je={class:"text-sm text-gray-600"},Ce={class:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center"},Se={key:0,class:"mt-4 space-y-2"},De={class:"flex items-center space-x-3"},Me={class:"text-sm font-medium"},Be={class:"text-xs text-gray-500"},Ne={class:"space-y-3"},Pe={class:"flex items-center space-x-2"},Ie={class:"flex items-center space-x-2"},Te={class:"space-y-6"},Ee={class:"text-gray-900"},Ve={class:"text-gray-900"},qe={key:0},ze={class:"text-gray-900"},Fe={key:1},Ae={class:"text-gray-900"},Re={class:"space-y-3"},$e={class:"text-sm font-medium truncate"},Ye={class:"text-xs text-gray-500 mt-1"},Le={class:"text-xs text-gray-600 mt-1"},Ue={key:0,class:"text-sm text-gray-500 text-center py-4"},Ze=te({__name:"email",setup(We){const k=oe(),I=ie(),P=v(!0),x=v(!1),b=v(!1),r=v(null),T=v(null),_=v(""),R=[{count:1,label:"Contacts",href:"/studio/contacts",action:!1},{count:2,label:"Contact Details",href:`/studio/contacts/${k.params.id}`,action:!1},{count:3,label:"Send Email",href:"",action:!1}],n=v({subject:"",content:"",requestReceipt:!1,highPriority:!1}),h=v([]),$={welcome:{subject:"Welcome to [Studio Name] - We're excited to work with you!",content:`Dear {{name}},

Thank you for choosing [Studio Name] for your photography needs! We're thrilled to have the opportunity to work with you.

We'll be in touch soon to discuss the details of your project and answer any questions you may have.

In the meantime, please don't hesitate to reach out if you need anything.

Best regards,
[Your Name]
[Studio Name]`},proposal:{subject:"Photography Project Proposal for {{name}}",content:`Dear {{name}},

I hope this email finds you well. I'm excited to present you with a detailed proposal for your upcoming photography project.

[Attach your proposal document here]

Please review the proposal at your convenience and let me know if you have any questions or would like to discuss any aspects in more detail.

I look forward to the opportunity to work with you and capture these special moments.

Best regards,
[Your Name]
[Studio Name]`},followup:{subject:"Following up on your photography project",content:`Dear {{name}},

I hope you're doing well. I wanted to follow up on our recent conversation about your photography project.

Please let me know if you have any questions or if there's anything additional you'd like to discuss.

I'm here to help and look forward to hearing from you soon.

Best regards,
[Your Name]
[Studio Name]`},delivery:{subject:"Your photos are ready! ðŸ“¸",content:`Dear {{name}},

Great news! Your photos are now ready for download.

[Include download link or delivery instructions here]

I hope you love the photos as much as I enjoyed capturing them. Please don't hesitate to reach out if you have any questions.

Thank you for choosing [Studio Name]!

Best regards,
[Your Name]
[Studio Name]`},invoice:{subject:"Invoice Reminder - Photography Services",content:`Dear {{name}},

I hope this email finds you well. This is a friendly reminder that your invoice for photography services is due.

Invoice Details:
- Invoice Number: [Invoice Number]
- Amount Due: [Amount]
- Due Date: [Due Date]

Please let me know if you have any questions or if you need any additional information.

Thank you for your prompt attention to this matter.

Best regards,
[Your Name]
[Studio Name]`},thank_you:{subject:"Thank you for choosing [Studio Name]!",content:`Dear {{name}},

Thank you so much for choosing [Studio Name] for your photography needs. It was an absolute pleasure working with you.

I hope you're thrilled with your photos and that they bring you joy for years to come.

Please don't hesitate to reach out if you need anything in the future. I'd also be grateful if you could leave a review of your experience.

Best regards,
[Your Name]
[Studio Name]`}},E=v([{id:"1",subject:"Project proposal for wedding photography",date:new Date("2024-01-28"),status:"delivered"},{id:"2",subject:"Follow-up on engagement session",date:new Date("2024-01-25"),status:"opened"}]),V=se(()=>n.value.subject.trim()!==""&&n.value.content.trim()!==""),Y=o=>new Intl.DateTimeFormat("en-MY",{year:"numeric",month:"short",day:"numeric"}).format(o),L=o=>{if(o===0)return"0 Bytes";const t=1024,j=["Bytes","KB","MB","GB"],u=Math.floor(Math.log(o)/Math.log(t));return parseFloat((o/Math.pow(t,u)).toFixed(2))+" "+j[u]},U=async()=>{P.value=!0;try{await new Promise(o=>setTimeout(o,1e3)),r.value={id:k.params.id,name:"Sarah Johnson",email:"sarah.johnson@email.com",phone:"+60123456789",company:"Johnson & Associates",status:"client",source:"website",createdAt:new Date("2024-01-15"),lastContactDate:new Date("2024-02-01")}}catch(o){console.error("Error loading contact:",o)}finally{P.value=!1}},W=()=>{if(!_.value||!r.value)return;const o=$[_.value];o&&(n.value.subject=o.subject.replace("{{name}}",r.value.name),n.value.content=o.content.replace(/{{name}}/g,r.value.name))},Q=()=>{var o;(o=T.value)==null||o.click()},G=o=>{const t=o.target;t.files&&h.value.push(...Array.from(t.files))},H=o=>{h.value.splice(o,1)},J=()=>{I.push(`/studio/contacts/${k.params.id}`)},K=async()=>{b.value=!0;try{await new Promise(o=>setTimeout(o,1e3)),console.log("Draft saved")}catch(o){console.error("Error saving draft:",o)}finally{b.value=!1}},O=async()=>{var o;if(V.value){x.value=!0;try{await new Promise(t=>setTimeout(t,2e3)),console.log("Email sent",{to:(o=r.value)==null?void 0:o.email,subject:n.value.subject,content:n.value.content,attachments:h.value,options:{requestReceipt:n.value.requestReceipt,highPriority:n.value.highPriority}}),I.push(`/studio/contacts/${k.params.id}`)}catch(t){console.error("Error sending email:",t)}finally{x.value=!1}}},X=()=>{console.log("Schedule email")},Z=()=>{console.log("View templates")},ee=()=>{console.log("Preview email")};return ae(()=>{U()}),(o,t)=>{var j;return m(),p("div",me,[P.value?(m(),le(s(ce),{key:0,title:"Loading email composer",description:"Setting up email interface for this contact."})):(m(),p("div",pe,[a(ue,{breadcrumb:R}),e("div",ve,[e("div",null,[e("h1",fe," Send Email to "+i((j=r.value)==null?void 0:j.name),1),t[5]||(t[5]=e("p",{class:"text-sm text-gray-600 mt-1"}," Compose and send professional emails to your client ",-1))]),e("div",he,[a(s(f),{variant:"outline",onClick:J},{default:l(()=>t[6]||(t[6]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),c(" Back to Contact ")])),_:1}),a(s(f),{variant:"outline",onClick:K,disabled:b.value},{default:l(()=>[t[7]||(t[7]=e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3-3m0 0l-3 3m3-3v12"})],-1)),c(" "+i(b.value?"Saving...":"Save Draft"),1)]),_:1},8,["disabled"]),a(s(f),{onClick:O,disabled:x.value||!V.value},{default:l(()=>[t[8]||(t[8]=e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})],-1)),c(" "+i(x.value?"Sending...":"Send Email"),1)]),_:1},8,["disabled"])])]),e("div",ye,[e("div",ge,[a(s(D),null,{default:l(()=>[a(s(B),null,{default:l(()=>[a(s(N),null,{default:l(()=>t[9]||(t[9]=[c("Compose Email")])),_:1})]),_:1}),a(s(M),{class:"space-y-6"},{default:l(()=>{var u,y,g,w;return[e("div",we,[e("div",ke,[e("div",xe,[e("span",be,i((y=(u=r.value)==null?void 0:u.name)==null?void 0:y.charAt(0)),1)]),e("div",null,[e("div",_e,i((g=r.value)==null?void 0:g.name),1),e("div",je,i((w=r.value)==null?void 0:w.email),1)])])]),e("div",null,[t[11]||(t[11]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Email Template (Optional) ",-1)),C(e("select",{"onUpdate:modelValue":t[0]||(t[0]=d=>_.value=d),onChange:W,class:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500"},t[10]||(t[10]=[e("option",{value:""},"Start with blank email",-1),e("option",{value:"welcome"},"Welcome New Client",-1),e("option",{value:"proposal"},"Project Proposal",-1),e("option",{value:"followup"},"Follow-up",-1),e("option",{value:"delivery"},"Project Delivery",-1),e("option",{value:"invoice"},"Invoice Reminder",-1),e("option",{value:"thank_you"},"Thank You",-1)]),544),[[ne,_.value]])]),e("div",null,[t[12]||(t[12]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Subject Line * ",-1)),a(s(de),{modelValue:n.value.subject,"onUpdate:modelValue":t[1]||(t[1]=d=>n.value.subject=d),placeholder:"Enter email subject...",required:""},null,8,["modelValue"])]),e("div",null,[t[13]||(t[13]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Message * ",-1)),C(e("textarea",{"onUpdate:modelValue":t[2]||(t[2]=d=>n.value.content=d),rows:"12",class:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"Type your message here...",required:""},null,512),[[re,n.value.content]])]),e("div",null,[t[19]||(t[19]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Attachments ",-1)),e("div",Ce,[t[15]||(t[15]=e("svg",{class:"w-8 h-8 mx-auto text-gray-400 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})],-1)),t[16]||(t[16]=e("p",{class:"text-sm text-gray-600 mb-2"},"Drop files here or click to upload",-1)),a(s(f),{variant:"outline",size:"sm",onClick:Q},{default:l(()=>t[14]||(t[14]=[c(" Choose Files ")])),_:1}),e("input",{ref_key:"fileInput",ref:T,type:"file",multiple:"",class:"hidden",onChange:G},null,544)]),h.value.length>0?(m(),p("div",Se,[(m(!0),p(z,null,F(h.value,(d,q)=>(m(),p("div",{key:q,class:"flex items-center justify-between p-3 bg-gray-50 rounded-lg"},[e("div",De,[t[17]||(t[17]=e("svg",{class:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),e("div",null,[e("div",Me,i(d.name),1),e("div",Be,i(L(d.size)),1)])]),a(s(f),{variant:"ghost",size:"sm",onClick:Qe=>H(q)},{default:l(()=>t[18]||(t[18]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])),_:2},1032,["onClick"])]))),128))])):S("",!0)]),e("div",Ne,[e("div",Pe,[C(e("input",{id:"request-receipt","onUpdate:modelValue":t[3]||(t[3]=d=>n.value.requestReceipt=d),type:"checkbox",class:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"},null,512),[[A,n.value.requestReceipt]]),t[20]||(t[20]=e("label",{for:"request-receipt",class:"text-sm text-gray-700"}," Request read receipt ",-1))]),e("div",Ie,[C(e("input",{id:"high-priority","onUpdate:modelValue":t[4]||(t[4]=d=>n.value.highPriority=d),type:"checkbox",class:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"},null,512),[[A,n.value.highPriority]]),t[21]||(t[21]=e("label",{for:"high-priority",class:"text-sm text-gray-700"}," Mark as high priority ",-1))])])]}),_:1})]),_:1})]),e("div",Te,[a(s(D),null,{default:l(()=>[a(s(B),null,{default:l(()=>[a(s(N),null,{default:l(()=>t[22]||(t[22]=[c("Contact Info")])),_:1})]),_:1}),a(s(M),{class:"space-y-3"},{default:l(()=>{var u,y,g,w;return[e("div",null,[t[23]||(t[23]=e("div",{class:"text-sm font-medium text-gray-700"},"Name",-1)),e("div",Ee,i((u=r.value)==null?void 0:u.name),1)]),e("div",null,[t[24]||(t[24]=e("div",{class:"text-sm font-medium text-gray-700"},"Email",-1)),e("div",Ve,i((y=r.value)==null?void 0:y.email),1)]),(g=r.value)!=null&&g.phone?(m(),p("div",qe,[t[25]||(t[25]=e("div",{class:"text-sm font-medium text-gray-700"},"Phone",-1)),e("div",ze,i(r.value.phone),1)])):S("",!0),(w=r.value)!=null&&w.company?(m(),p("div",Fe,[t[26]||(t[26]=e("div",{class:"text-sm font-medium text-gray-700"},"Company",-1)),e("div",Ae,i(r.value.company),1)])):S("",!0)]}),_:1})]),_:1}),a(s(D),null,{default:l(()=>[a(s(B),null,{default:l(()=>[a(s(N),null,{default:l(()=>t[27]||(t[27]=[c("Recent Emails")])),_:1})]),_:1}),a(s(M),null,{default:l(()=>[e("div",Re,[(m(!0),p(z,null,F(E.value,u=>(m(),p("div",{key:u.id,class:"p-3 bg-gray-50 rounded-lg"},[e("div",$e,i(u.subject),1),e("div",Ye,i(Y(u.date)),1),e("div",Le,i(u.status),1)]))),128)),E.value.length===0?(m(),p("div",Ue," No previous emails ")):S("",!0)])]),_:1})]),_:1}),a(s(D),null,{default:l(()=>[a(s(B),null,{default:l(()=>[a(s(N),null,{default:l(()=>t[28]||(t[28]=[c("Quick Actions")])),_:1})]),_:1}),a(s(M),{class:"space-y-2"},{default:l(()=>[a(s(f),{variant:"outline",size:"sm",class:"w-full justify-start",onClick:X},{default:l(()=>t[29]||(t[29]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),c(" Schedule Send ")])),_:1}),a(s(f),{variant:"outline",size:"sm",class:"w-full justify-start",onClick:Z},{default:l(()=>t[30]||(t[30]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 10h16M4 14h16M4 18h16"})],-1),c(" Email Templates ")])),_:1}),a(s(f),{variant:"outline",size:"sm",class:"w-full justify-start",onClick:ee},{default:l(()=>t[31]||(t[31]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1),c(" Preview Email ")])),_:1})]),_:1})]),_:1})])])]))])}}});export{Ze as default};
