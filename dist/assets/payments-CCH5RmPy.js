import{d as tt,r as p,ag as et,D as x,o as at,c as k,g as a,b as l,v as T,T as M,w as s,f as e,_ as c,h as i,bw as st,bx as lt,by as ot,t as u,Q as nt,U as it,a5 as rt,a6 as ut,a7 as dt,a8 as $,j as mt,k as ft,l as v}from"./index-C2UrP5hw.js";import{_ as R}from"./Input.vue_vue_type_script_setup_true_lang-CSZ-Dkyw.js";import{_ as b}from"./Label.vue_vue_type_script_setup_true_lang-DVjpD-L7.js";import{_ as pt}from"./Textarea.vue_vue_type_script_setup_true_lang--1zaO6ew.js";import{_ as F}from"./index-BFTYKSG-.js";import{_,a as h}from"./CardContent.vue_vue_type_script_setup_true_lang-eN_1_cPI.js";import{a as B,_ as Y}from"./CardTitle.vue_vue_type_script_setup_true_lang-Q0gFftlI.js";import{_ as ct,a as vt,b as _t,c as gt}from"./DialogTitle.vue_vue_type_script_setup_true_lang-CGEsSMnb.js";import{_ as yt}from"./DialogFooter.vue_vue_type_script_setup_true_lang-zsfmxkQJ.js";import{_ as C,a as D,b as P,c as V,d}from"./SelectValue.vue_vue_type_script_setup_true_lang-BJhQFqbJ.js";import{_ as xt}from"./PageHeader.vue_vue_type_script_setup_true_lang-B1Je6Lxx.js";import"./check-CMqAtv7z.js";import"./ohash.D__AXeF1-DHF4M4F_.js";import"./useFormControl-BTKw-cda.js";const bt={class:"space-y-6"},ht={class:"flex items-center justify-between"},wt={class:"text-xl font-semibold"},kt={class:"text-sm text-gray-500"},Mt={class:"grid grid-cols-1 md:grid-cols-4 gap-6"},$t={class:"flex items-center"},Ct={class:"text-2xl font-bold text-green-600"},Dt={class:"flex items-center"},Pt={class:"text-2xl font-bold text-blue-600"},Vt={class:"flex items-center"},jt={class:"text-2xl font-bold text-orange-600"},St={class:"flex items-center"},Tt={class:"text-2xl font-bold text-purple-600"},Rt={class:"flex items-center gap-4"},Ft={class:"space-y-4"},Bt={class:"overflow-x-auto"},Yt={class:"w-full"},Nt={class:"py-3 px-2 text-sm"},Ut={class:"py-3 px-2 text-sm font-medium"},At={class:"py-3 px-2 text-sm"},It={class:"py-3 px-2 text-sm font-medium"},Jt={class:"py-3 px-2 text-sm"},zt={class:"py-3 px-2 text-sm"},Lt={class:"py-3 px-2 text-sm"},qt={key:0,class:"text-center py-8"},Et={class:"space-y-2"},Ht={class:"space-y-2"},Wt={class:"space-y-2"},Ot={class:"space-y-2"},Qt={class:"space-y-2"},me=tt({__name:"payments",setup(Gt){const N=ft(),U=et(),f=p(null),g=p("all"),y=p(!1),m=p([{id:"1",jobTitle:"Wedding Photography - Smith & Jones",client:"Alice Smith",amount:2500,type:"session-fee",status:"paid",date:new Date("2024-01-15"),notes:"Main photographer fee"},{id:"2",jobTitle:"Corporate Headshots",client:"Tech Solutions Sdn Bhd",amount:800,type:"session-fee",status:"paid",date:new Date("2024-01-10")},{id:"3",jobTitle:"Family Portrait Session",client:"The Wong Family",amount:500,type:"session-fee",status:"pending",date:new Date("2024-01-20")},{id:"4",jobTitle:"Overtime - Wedding Setup",client:"Alice Smith",amount:200,type:"overtime",status:"paid",date:new Date("2024-01-15")}]),r=p({jobId:"",amount:0,type:"",date:"",notes:""}),A=p([{count:1,href:"/studio/photographers",label:"Photographers",action:!0},{count:2,label:"Payments",href:`/studio/photographers/${U.params.id}/payments`,action:!1}]),I=x(()=>m.value.filter(n=>n.status==="paid").reduce((n,t)=>n+t.amount,0)),J=x(()=>{const n=new Date().getMonth(),t=new Date().getFullYear();return m.value.filter(o=>o.status==="paid"&&o.date.getMonth()===n&&o.date.getFullYear()===t).reduce((o,w)=>o+w.amount,0)}),z=x(()=>m.value.filter(n=>n.status==="pending").reduce((n,t)=>n+t.amount,0)),L=x(()=>m.value.filter(n=>n.type==="session-fee").length),j=x(()=>{if(g.value==="all")return m.value;const n=new Date;let t;switch(g.value){case"current-month":t=new Date(n.getFullYear(),n.getMonth(),1);break;case"last-month":t=new Date(n.getFullYear(),n.getMonth()-1,1);break;case"last-3-months":t=new Date(n.getFullYear(),n.getMonth()-3,1);break;case"current-year":t=new Date(n.getFullYear(),0,1);break;default:return m.value}return m.value.filter(o=>o.date>=t)});function q(n){return n.split(" ").map(t=>t.charAt(0)).join("").toUpperCase().slice(0,2)}function E(n){return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric"}).format(n)}function H(n){switch(n){case"paid":return"default";case"pending":return"secondary";case"cancelled":return"destructive";default:return"outline"}}function W(){y.value=!0}function S(){if(!r.value.jobId||!r.value.amount||!r.value.type||!r.value.date)return;const n={id:Date.now().toString(),jobTitle:"New Job Payment",client:"Client Name",amount:r.value.amount,type:r.value.type,status:"paid",date:new Date(r.value.date),notes:r.value.notes};m.value.unshift(n),r.value={jobId:"",amount:0,type:"",date:"",notes:""},y.value=!1}function O(n){console.log("Viewing payment details:",n)}function Q(n){const t=m.value.find(o=>o.id===n);t&&(t.status="paid")}function G(n){console.log("Downloading receipt for payment:",n)}function K(){console.log("Downloading payment report for period:",g.value)}function X(){f.value={id:"1",name:"Sarah Chen",email:"sarah.chen@studio.com",phone:"+60123456789",profileImage:"https://images.unsplash.com/photo-1494790108755-2616b612b577?w=150",roles:["Photographer","Editor"],status:"active",availability:"free",totalJobs:45,dateJoined:new Date("2023-01-15")}}function Z(){N.push("/studio/photographers")}return at(()=>{X()}),(n,t)=>(v(),k("div",bt,[a(xt,{breadcrumb:A.value},null,8,["breadcrumb"]),l("div",ht,[t[9]||(t[9]=l("div",null,[l("h1",{class:"text-2xl font-semibold text-gray-900"},"Payment History"),l("p",{class:"text-sm text-gray-600 mt-1"}," View earnings and payment records for this photographer ")],-1)),a(e(c),{variant:"outline",onClick:Z,class:"flex items-center gap-2"},{default:s(()=>t[8]||(t[8]=[l("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),i(" Back to Photographers ")])),_:1})]),f.value?(v(),T(e(_),{key:0},{default:s(()=>[a(e(Y),null,{default:s(()=>[a(e(B),{class:"flex items-center gap-3"},{default:s(()=>[a(e(st),{class:"h-12 w-12"},{default:s(()=>[a(e(lt),{src:f.value.profileImage},null,8,["src"]),a(e(ot),null,{default:s(()=>[i(u(q(f.value.name)),1)]),_:1})]),_:1}),l("div",null,[l("div",wt,u(f.value.name),1),l("div",kt,u(f.value.email),1)])]),_:1})]),_:1})]),_:1})):M("",!0),l("div",Mt,[a(e(_),null,{default:s(()=>[a(e(h),{class:"p-6"},{default:s(()=>[l("div",$t,[l("div",Ct," MYR "+u(I.value.toLocaleString()),1)]),t[10]||(t[10]=l("p",{class:"text-sm text-gray-600 mt-1"},"Total Earnings",-1))]),_:1})]),_:1}),a(e(_),null,{default:s(()=>[a(e(h),{class:"p-6"},{default:s(()=>[l("div",Dt,[l("div",Pt," MYR "+u(J.value.toLocaleString()),1)]),t[11]||(t[11]=l("p",{class:"text-sm text-gray-600 mt-1"},"This Month",-1))]),_:1})]),_:1}),a(e(_),null,{default:s(()=>[a(e(h),{class:"p-6"},{default:s(()=>[l("div",Vt,[l("div",jt," MYR "+u(z.value.toLocaleString()),1)]),t[12]||(t[12]=l("p",{class:"text-sm text-gray-600 mt-1"},"Pending Payments",-1))]),_:1})]),_:1}),a(e(_),null,{default:s(()=>[a(e(h),{class:"p-6"},{default:s(()=>[l("div",St,[l("div",Tt,u(L.value),1)]),t[13]||(t[13]=l("p",{class:"text-sm text-gray-600 mt-1"},"Completed Jobs",-1))]),_:1})]),_:1})]),l("div",Rt,[a(e(c),{onClick:W,class:"flex items-center gap-2"},{default:s(()=>t[14]||(t[14]=[l("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),i(" Record Payment ")])),_:1}),a(e(c),{variant:"outline",onClick:K,class:"flex items-center gap-2"},{default:s(()=>t[15]||(t[15]=[l("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3M3 17V7a2 2 0 012-2h6l2 2h6a2 2 0 012 2v10a2 2 0 01-2 2H5a2 2 0 01-2-2z"})],-1),i(" Download Report ")])),_:1}),a(e(C),{modelValue:g.value,"onUpdate:modelValue":t[0]||(t[0]=o=>g.value=o)},{default:s(()=>[a(e(D),{class:"w-48"},{default:s(()=>[a(e(P),{placeholder:"Select period"})]),_:1}),a(e(V),null,{default:s(()=>[a(e(d),{value:"all"},{default:s(()=>t[16]||(t[16]=[i("All Time")])),_:1}),a(e(d),{value:"current-month"},{default:s(()=>t[17]||(t[17]=[i("Current Month")])),_:1}),a(e(d),{value:"last-month"},{default:s(()=>t[18]||(t[18]=[i("Last Month")])),_:1}),a(e(d),{value:"last-3-months"},{default:s(()=>t[19]||(t[19]=[i("Last 3 Months")])),_:1}),a(e(d),{value:"current-year"},{default:s(()=>t[20]||(t[20]=[i("Current Year")])),_:1})]),_:1})]),_:1},8,["modelValue"])]),a(e(_),null,{default:s(()=>[a(e(Y),null,{default:s(()=>[a(e(B),null,{default:s(()=>t[21]||(t[21]=[i("Payment Records")])),_:1})]),_:1}),a(e(h),null,{default:s(()=>[l("div",Ft,[l("div",Bt,[l("table",Yt,[t[26]||(t[26]=l("thead",null,[l("tr",{class:"border-b"},[l("th",{class:"text-left py-3 px-2 font-medium text-gray-500"}," Date "),l("th",{class:"text-left py-3 px-2 font-medium text-gray-500"}," Job "),l("th",{class:"text-left py-3 px-2 font-medium text-gray-500"}," Client "),l("th",{class:"text-left py-3 px-2 font-medium text-gray-500"}," Amount "),l("th",{class:"text-left py-3 px-2 font-medium text-gray-500"}," Type "),l("th",{class:"text-left py-3 px-2 font-medium text-gray-500"}," Status "),l("th",{class:"text-left py-3 px-2 font-medium text-gray-500"}," Actions ")])],-1)),l("tbody",null,[(v(!0),k(nt,null,it(j.value,o=>(v(),k("tr",{key:o.id,class:"border-b hover:bg-gray-50"},[l("td",Nt,u(E(o.date)),1),l("td",Ut,u(o.jobTitle),1),l("td",At,u(o.client),1),l("td",It," MYR "+u(o.amount.toLocaleString()),1),l("td",Jt,[a(e(F),{variant:"outline",class:"capitalize"},{default:s(()=>[i(u(o.type),1)]),_:2},1024)]),l("td",zt,[a(e(F),{variant:H(o.status),class:"capitalize"},{default:s(()=>[i(u(o.status),1)]),_:2},1032,["variant"])]),l("td",Lt,[a(e(rt),null,{default:s(()=>[a(e(ut),{"as-child":""},{default:s(()=>[a(e(c),{variant:"ghost",size:"sm",class:"h-8 w-8 p-0"},{default:s(()=>t[22]||(t[22]=[l("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zM12 13a1 1 0 110-2 1 1 0 010 2zM12 20a1 1 0 110-2 1 1 0 010 2z"})],-1)])),_:1})]),_:1}),a(e(dt),{align:"end"},{default:s(()=>[a(e($),{onClick:w=>O(o.id)},{default:s(()=>t[23]||(t[23]=[i(" View Details ")])),_:2},1032,["onClick"]),o.status==="pending"?(v(),T(e($),{key:0,onClick:w=>Q(o.id)},{default:s(()=>t[24]||(t[24]=[i(" Mark as Paid ")])),_:2},1032,["onClick"])):M("",!0),a(e($),{onClick:w=>G(o.id)},{default:s(()=>t[25]||(t[25]=[i(" Download Receipt ")])),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)])]))),128))])])]),j.value.length===0?(v(),k("div",qt,t[27]||(t[27]=[l("svg",{class:"w-12 h-12 mx-auto text-gray-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})],-1),l("h3",{class:"text-lg font-medium text-gray-900 mb-2"}," No payment records ",-1),l("p",{class:"text-gray-500"}," No payments found for the selected period. ",-1)]))):M("",!0)])]),_:1})]),_:1}),a(e(ct),{open:y.value,"onUpdate:open":t[7]||(t[7]=o=>y.value=o)},{default:s(()=>[a(e(vt),null,{default:s(()=>[a(e(_t),null,{default:s(()=>[a(e(gt),null,{default:s(()=>t[28]||(t[28]=[i("Record New Payment")])),_:1})]),_:1}),l("form",{onSubmit:mt(S,["prevent"]),class:"space-y-4"},[l("div",Et,[a(e(b),{for:"jobSelect"},{default:s(()=>t[29]||(t[29]=[i("Job")])),_:1}),a(e(C),{modelValue:r.value.jobId,"onUpdate:modelValue":t[1]||(t[1]=o=>r.value.jobId=o),required:""},{default:s(()=>[a(e(D),null,{default:s(()=>[a(e(P),{placeholder:"Select job"})]),_:1}),a(e(V),null,{default:s(()=>[a(e(d),{value:"job-1"},{default:s(()=>t[30]||(t[30]=[i("Wedding Photography - Smith & Jones")])),_:1}),a(e(d),{value:"job-2"},{default:s(()=>t[31]||(t[31]=[i("Corporate Headshots - Tech Corp")])),_:1}),a(e(d),{value:"job-3"},{default:s(()=>t[32]||(t[32]=[i("Family Portrait - Wong Family")])),_:1})]),_:1})]),_:1},8,["modelValue"])]),l("div",Ht,[a(e(b),{for:"amount"},{default:s(()=>t[33]||(t[33]=[i("Amount (MYR)")])),_:1}),a(e(R),{id:"amount",modelValue:r.value.amount,"onUpdate:modelValue":t[2]||(t[2]=o=>r.value.amount=o),modelModifiers:{number:!0},type:"number",placeholder:"0.00",step:"0.01",required:""},null,8,["modelValue"])]),l("div",Wt,[a(e(b),{for:"paymentType"},{default:s(()=>t[34]||(t[34]=[i("Type")])),_:1}),a(e(C),{modelValue:r.value.type,"onUpdate:modelValue":t[3]||(t[3]=o=>r.value.type=o),required:""},{default:s(()=>[a(e(D),null,{default:s(()=>[a(e(P),{placeholder:"Select type"})]),_:1}),a(e(V),null,{default:s(()=>[a(e(d),{value:"session-fee"},{default:s(()=>t[35]||(t[35]=[i("Session Fee")])),_:1}),a(e(d),{value:"bonus"},{default:s(()=>t[36]||(t[36]=[i("Bonus")])),_:1}),a(e(d),{value:"commission"},{default:s(()=>t[37]||(t[37]=[i("Commission")])),_:1}),a(e(d),{value:"overtime"},{default:s(()=>t[38]||(t[38]=[i("Overtime")])),_:1})]),_:1})]),_:1},8,["modelValue"])]),l("div",Ot,[a(e(b),{for:"paymentDate"},{default:s(()=>t[39]||(t[39]=[i("Payment Date")])),_:1}),a(e(R),{id:"paymentDate",modelValue:r.value.date,"onUpdate:modelValue":t[4]||(t[4]=o=>r.value.date=o),type:"date",required:""},null,8,["modelValue"])]),l("div",Qt,[a(e(b),{for:"notes"},{default:s(()=>t[40]||(t[40]=[i("Notes (optional)")])),_:1}),a(e(pt),{id:"notes",modelValue:r.value.notes,"onUpdate:modelValue":t[5]||(t[5]=o=>r.value.notes=o),placeholder:"Additional notes...",rows:"3"},null,8,["modelValue"])])],32),a(e(yt),null,{default:s(()=>[a(e(c),{type:"button",variant:"outline",onClick:t[6]||(t[6]=o=>y.value=!1)},{default:s(()=>t[41]||(t[41]=[i(" Cancel ")])),_:1}),a(e(c),{onClick:S},{default:s(()=>t[42]||(t[42]=[i(" Record Payment ")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"])]))}});export{me as default};
