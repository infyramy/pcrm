import{d as P,a4 as V,s as D,e as I,c as k,H as J,L as U,a5 as q,v as F,o as h,a6 as K,a7 as Q,n as W,u as m,a as Z,m as w,p as A,g as j,a8 as ee,w as Y,r as te,f as $,F as _,l as B,j as ae,h as oe}from"./index-1M69Q-Yy.js";import{w as ne,c as g,a as z,i as re,b as se,d as L,g as O,e as le,f as X,s as N,h as ie,j as ce,k as ue,l as de,m as fe,o as pe,n as he,p as me}from"./index-B7AGZY5W.js";import{c as ye,x as ve,y as ge,l as ke,C as H,a as xe,i as Me,S as be,L as we}from"./index-CCSCfskj.js";import{X as Ce,a as Se,_ as Te,$ as Ae,b as _e,O as E,A as $e}from"./ChartLegend.vue_vue_type_script_setup_true_lang-4-x-cmrj.js";import{a as Be}from"./array-BKyUJesY.js";import"./CardTitle.vue_vue_type_script_setup_true_lang-Dn20qXRk.js";function De(p,l,t){var i=null,d=g(!0),f=null,u=ye,r=null,x=ne(s);p=typeof p=="function"?p:p===void 0?ve:g(+p),l=typeof l=="function"?l:l===void 0?g(0):g(+l),t=typeof t=="function"?t:t===void 0?ge:g(+t);function s(e){var o,y,v,a=(e=Be(e)).length,c,M=!1,b,S=new Array(a),T=new Array(a);for(f==null&&(r=u(b=x())),o=0;o<=a;++o){if(!(o<a&&d(c=e[o],o,e))===M)if(M=!M)y=o,r.areaStart(),r.lineStart();else{for(r.lineEnd(),r.lineStart(),v=o-1;v>=y;--v)r.point(S[v],T[v]);r.lineEnd(),r.areaEnd()}M&&(S[o]=+p(c,o,e),T[o]=+l(c,o,e),r.point(i?+i(c,o,e):S[o],t?+t(c,o,e):T[o]))}if(b)return r=null,b+""||null}function n(){return ke().defined(d).curve(u).context(f)}return s.x=function(e){return arguments.length?(p=typeof e=="function"?e:g(+e),i=null,s):p},s.x0=function(e){return arguments.length?(p=typeof e=="function"?e:g(+e),s):p},s.x1=function(e){return arguments.length?(i=e==null?null:typeof e=="function"?e:g(+e),s):i},s.y=function(e){return arguments.length?(l=typeof e=="function"?e:g(+e),t=null,s):l},s.y0=function(e){return arguments.length?(l=typeof e=="function"?e:g(+e),s):l},s.y1=function(e){return arguments.length?(t=e==null?null:typeof e=="function"?e:g(+e),s):t},s.lineX0=s.lineY0=function(){return n().x(p).y(l)},s.lineY1=function(){return n().x(p).y(t)},s.lineX1=function(){return n().x(i).y(l)},s.defined=function(e){return arguments.length?(d=typeof e=="function"?e:g(!!e),s):d},s.curve=function(e){return arguments.length?(u=e,f!=null&&(r=u(f)),s):u},s.context=function(e){return arguments.length?(e==null?f=r=null:r=u(f=e),s):f},s}const je=Object.assign(Object.assign({},Ce),{color:void 0,curveType:H.MonotoneX,baseline:()=>0,opacity:1,cursor:null,minHeight1Px:!1}),R=z`
  label: area-component;
`,Ge=re`
  :root {
    --vis-area-cursor: default;
    --vis-area-fill-opacity: 1;
    --vis-area-stroke-color: none;
    --vis-area-stroke-width: 0px;
    --vis-area-stroke-dasharray: none;
    --vis-area-stroke-opacity: 1;
    --vis-area-hover-fill-opacity: none;
    --vis-area-hover-stroke-width: none;

    /* Dark Theme */
    --vis-dark-area-stroke-color: none;
  }

  body.theme-dark ${`.${R}`} {
    --vis-area-stroke-color: var(--vis-dark-area-stroke-color);
  }

`,G=z`
  label: area;
  cursor: var(--vis-area-cursor);
  fill-opacity: var(--vis-area-fill-opacity);
  stroke-width: var(--vis-area-stroke-width);
  stroke-dasharray: var(--vis-area-stroke-dasharray);
  stroke: var(--vis-area-stroke-color);
  stroke-opacity: var(--vis-area-stroke-opacity);

  &:hover {
    fill-opacity: var(--vis-area-hover-fill-opacity);
    stroke-width: var(--vis-area-hover-stroke-width);
  }
`,Pe=Object.freeze(Object.defineProperty({__proto__:null,area:G,globalStyles:Ge,root:R},Symbol.toStringTag,{value:"Module"}));class C extends Se{constructor(l){super(),this._defaultConfig=je,this.config=this._defaultConfig,this.stacked=!0,this.events={[C.selectors.area]:{}},l&&this.setConfig(l),this.stacked=Array.isArray(this.config.y)}_render(l){super._render(l);const{config:t,datamodel:{data:i}}=this,d=se(l)?l:t.duration,f=xe[t.curveType];this._areaGen=De().x(a=>a.x).y0(a=>a.y0).y1(a=>{const c=Math.abs(a.y1-a.y0)<1;return a.y1-(c&&t.minHeight1Px?1:0)}).curve(f);const u=L(t.y)?t.y:[t.y],r=i.map((a,c)=>this.xScale(O(a,t.x,c))),x=le(i,t.baseline,u,this._prevNegative);this._prevNegative=x.map(a=>!!a.isMostlyNegative);const s=x.map(a=>a.map((c,M)=>({y0:this.yScale(c[0]),y1:this.yScale(c[1]),x:r[M]}))),n=s.length-1,e=s.reverse(),o=this.g.selectAll(`.${G}`).data(e),y=o.enter().append("path").attr("class",G).attr("d",a=>this._areaGen(a)||this._emptyPath()).style("opacity",0).style("fill",(a,c)=>X(i,t.color,n-c)),v=N(y.merge(o),d).style("opacity",(a,c)=>a.some(b=>b.y0-b.y1!==0)?O(i,t.opacity,n-c):0).style("fill",(a,c)=>X(i,t.color,n-c)).style("cursor",(a,c)=>ie(i,t.cursor,n-c));d?v.attrTween("d",(c,M,b)=>{const S=ce(b[M]).attr("d"),T=this._areaGen(c)||this._emptyPath();return Me(S,T)}):v.attr("d",a=>this._areaGen(a)||this._emptyPath()),N(o.exit(),d).style("opacity",0).remove()}getYDataExtent(l){const{config:t,datamodel:i}=this,d=L(t.y)?t.y:[t.y],f=l?ue(i.data,this.xScale.domain(),t.x):i.data;return de(f,t.baseline,...d)}_emptyPath(){const l=this.xScale.range(),t=this.yScale.domain(),i=this.yScale((t[0]+t[1])/2),d=i;return this._areaGen([{y0:i,y1:d,x:l[0]},{y0:i,y1:d,x:l[1]}])}}C.selectors=Pe;const Fe={"data-vis-component":""};C.selectors;const Le=P({__name:"index",props:{color:{},curveType:{},baseline:{},opacity:{},cursor:{},minHeight1Px:{type:Boolean},x:{},y:{},id:{type:Function},xScale:{type:[Object,Function]},yScale:{type:[Object,Function]},excludeFromDomainCalculation:{type:Boolean},duration:{},events:{},attributes:{},data:{}},setup(p,{expose:l}){const t=V(pe),i=p,d=D(()=>t.data.value??i.data),f=fe(i),u=I();return J(()=>{U(()=>{var r;u.value=new C(f.value),(r=u.value)==null||r.setData(d.value),t.update(u.value)})}),q(()=>{var r;(r=u.value)==null||r.destroy(),t.destroy()}),F(f,(r,x)=>{var s;he(r,x)||(s=u.value)==null||s.setConfig(f.value)}),F(d,()=>{var r;(r=u.value)==null||r.setData(d.value)}),l({component:u}),(r,x)=>(h(),k("div",Fe))}}),Oe={width:"0",height:"0"},Xe=["id"],Ne=["stop-color"],Ee=["stop-color"],Ie=["stop-color"],Ye=P({__name:"AreaChart",props:{data:{},categories:{},index:{},colors:{},margin:{default:()=>({top:0,bottom:0,left:0,right:0})},filterOpacity:{default:.2},xFormatter:{},yFormatter:{},showXAxis:{type:Boolean,default:!0},showYAxis:{type:Boolean,default:!0},showTooltip:{type:Boolean,default:!0},showLegend:{type:Boolean,default:!0},showGridLine:{type:Boolean,default:!0},customTooltip:{},curveType:{default:H.MonotoneX},showGradiant:{type:Boolean,default:!0}},emits:["legendItemClick"],setup(p,{emit:l}){const t=p,i=l,d=K(),f=D(()=>t.index),u=D(()=>{var n;return(n=t.colors)!=null&&n.length?t.colors:me(t.categories.length)}),r=I(t.categories.map((n,e)=>({name:n,color:u.value[e],inactive:!1}))),x=Q();function s(n,e){i("legendItemClick",n,e)}return(n,e)=>(h(),k("div",{class:W(m(Z)("w-full h-[400px] flex flex-col items-end",n.$attrs.class??""))},[n.showLegend?(h(),w(m(Te),{key:0,items:r.value,"onUpdate:items":e[0]||(e[0]=o=>r.value=o),onLegendItemClick:s},null,8,["items"])):A("",!0),j(m(Ae),{style:ee({height:m(x)?"100%":"auto"}),margin:{left:20,right:20},data:n.data},{default:Y(()=>[(h(),k("svg",Oe,[$("defs",null,[(h(!0),k(_,null,B(u.value,(o,y)=>(h(),k("linearGradient",{id:`${m(d)}-color-${y}`,key:y,x1:"0",y1:"0",x2:"0",y2:"1"},[n.showGradiant?(h(),k(_,{key:0},[$("stop",{offset:"5%","stop-color":o,"stop-opacity":"0.4"},null,8,Ne),$("stop",{offset:"95%","stop-color":o,"stop-opacity":"0"},null,8,Ee)],64)):(h(),k("stop",{key:1,offset:"0%","stop-color":o},null,8,Ie))],8,Xe))),128))])])),n.showTooltip?(h(),w(m(_e),{key:0,colors:u.value,items:r.value,index:f.value,"custom-tooltip":n.customTooltip},null,8,["colors","items","index","custom-tooltip"])):A("",!0),(h(!0),k(_,null,B(n.categories,(o,y)=>{var v;return h(),w(m(Le),{key:o,x:(a,c)=>c,y:a=>a[o],color:"auto","curve-type":n.curveType,attributes:{[m(C).selectors.area]:{fill:`url(#${m(d)}-color-${y})`}},opacity:(v=r.value.find(a=>a.name===o))!=null&&v.inactive?n.filterOpacity:1},null,8,["x","y","curve-type","attributes","opacity"])}),128)),(h(!0),k(_,null,B(n.categories,(o,y)=>{var v;return h(),w(m(be),{key:o,x:(a,c)=>c,y:a=>a[o],color:u.value[y],"curve-type":n.curveType,attributes:{[m(we).selectors.line]:{opacity:(v=r.value.find(a=>a.name===o))!=null&&v.inactive?n.filterOpacity:1}}},null,8,["x","y","color","curve-type","attributes"])}),128)),n.showXAxis?(h(),w(m(E),{key:1,type:"x","tick-format":n.xFormatter??(o=>{var y;return(y=n.data[o])==null?void 0:y[f.value]}),"grid-line":!1,"tick-line":!1,"tick-text-color":"hsl(var(--vis-text-color))"},null,8,["tick-format"])):A("",!0),n.showYAxis?(h(),w(m(E),{key:2,type:"y","tick-line":!1,"tick-format":n.yFormatter,"domain-line":!1,"grid-line":n.showGridLine,attributes:{[m($e).selectors.grid]:{class:"text-muted"}},"tick-text-color":"hsl(var(--vis-text-color))"},null,8,["tick-format","grid-line","attributes"])):A("",!0),te(n.$slots,"default")]),_:3},8,["style","data"])],2))}}),ze={class:"my-8"},Ke=P({__name:"area",setup(p){const l=[{name:"Jan",total:Math.floor(Math.random()*2e3)+500,predicted:Math.floor(Math.random()*2e3)+500},{name:"Feb",total:Math.floor(Math.random()*2e3)+500,predicted:Math.floor(Math.random()*2e3)+500},{name:"Mar",total:Math.floor(Math.random()*2e3)+500,predicted:Math.floor(Math.random()*2e3)+500},{name:"Apr",total:Math.floor(Math.random()*2e3)+500,predicted:Math.floor(Math.random()*2e3)+500},{name:"May",total:Math.floor(Math.random()*2e3)+500,predicted:Math.floor(Math.random()*2e3)+500},{name:"Jun",total:Math.floor(Math.random()*2e3)+500,predicted:Math.floor(Math.random()*2e3)+500},{name:"Jul",total:Math.floor(Math.random()*2e3)+500,predicted:Math.floor(Math.random()*2e3)+500}];return(t,i)=>(h(),k("div",null,[j(m(ae),null,{default:Y(()=>i[0]||(i[0]=[oe("Click me")])),_:1}),$("section",ze,[j(m(Ye),{data:l,index:"name",categories:["total","predicted"]})])]))}});export{Ke as default};
