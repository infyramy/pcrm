import{d as J,r as H,D as W,ag as Y,o as K,c as L,v as k,T as g,g as o,b as t,f as s,w as a,_ as v,t as d,k as Q,h as n,l as p}from"./index-C2UrP5hw.js";import{_ as q}from"./PageHeader.vue_vue_type_script_setup_true_lang-B1Je6Lxx.js";import{_ as G}from"./index-BFTYKSG-.js";import{_ as m,a as f}from"./CardContent.vue_vue_type_script_setup_true_lang-eN_1_cPI.js";import{_ as y,a as w}from"./CardTitle.vue_vue_type_script_setup_true_lang-Q0gFftlI.js";import{_ as c}from"./Label.vue_vue_type_script_setup_true_lang-DVjpD-L7.js";import{L as O}from"./LoadingPage-DgCemYQp.js";const U={class:"space-y-6"},X={class:"flex items-center justify-between"},Z={class:"flex items-center gap-4"},tt={class:"text-2xl font-semibold text-gray-900"},et={class:"text-sm text-gray-600 mt-1"},st={class:"flex items-center gap-2"},at={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},ot={class:"flex items-center justify-between"},lt={class:"text-2xl font-bold text-blue-600"},it={class:"flex items-center justify-between"},nt={class:"text-2xl font-bold text-green-600"},rt={class:"flex items-center justify-between"},dt={class:"text-2xl font-bold text-orange-600"},ut={class:"flex items-center justify-between"},mt={class:"text-2xl font-bold text-purple-600"},ft={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},ct={class:"lg:col-span-2 space-y-6"},vt={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},pt={class:"text-gray-900"},gt={class:"text-gray-900"},xt={class:"text-gray-900"},_t={class:"text-gray-900"},kt={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},yt={class:"text-gray-900"},wt={class:"text-gray-900"},ht={class:"text-gray-900 font-mono"},Ct={key:0},bt={class:"text-gray-900 font-mono"},jt={class:"text-gray-700 whitespace-pre-wrap"},Mt={class:"space-y-6"},Dt={class:"flex justify-between items-center"},Bt={class:"font-medium"},Rt={class:"flex justify-between items-center"},At={class:"font-medium"},Nt={class:"flex justify-between items-center"},Ht={class:"font-medium text-green-600"},It=J({__name:"index",setup(Lt){const x=Q(),h=Y(),C=H(!0),l=H(null),S=W(()=>{var i;return[{count:1,label:"Affiliates",href:"/studio/affiliates",action:!1},{count:2,label:((i=l.value)==null?void 0:i.name)||"Loading...",href:h.fullPath,action:!1}]}),E={1:{id:"1",name:"Sarah Johnson",email:"sarah.johnson@email.com",phone:"+60123456789",joinDate:new Date("2024-01-15"),status:"active",commissionRate:15,commissionType:"percentage",totalReferrals:12,totalCommissionsEarned:4500,unpaidCommissions:850,paidCommissions:3650,referralCode:"SAR001",lastActivity:new Date("2024-02-01"),bankDetails:{bankName:"Maybank",accountNumber:"1234567890",accountHolder:"Sarah Johnson",swiftCode:"MBBEMYKL"},notes:"High-performing affiliate with excellent conversion rates. Specializes in corporate events and weddings."},2:{id:"2",name:"Ahmad Hassan",email:"ahmad.hassan@email.com",phone:"+60187654321",joinDate:new Date("2024-01-10"),status:"active",commissionRate:50,commissionType:"fixed",totalReferrals:8,totalCommissionsEarned:2800,unpaidCommissions:400,paidCommissions:2400,referralCode:"AHM002",lastActivity:new Date("2024-01-28"),bankDetails:{bankName:"CIMB Bank",accountNumber:"9876543210",accountHolder:"Ahmad Hassan"}}},V=i=>{switch(i){case"active":return"default";case"inactive":return"secondary";case"pending":return"secondary";case"suspended":return"destructive";default:return"default"}},b=i=>new Intl.DateTimeFormat("en-MY",{year:"numeric",month:"short",day:"numeric"}).format(i),$=i=>(i.totalReferrals/100*100).toFixed(1),z=i=>i.totalReferrals===0?"0":(i.totalCommissionsEarned/i.totalReferrals).toLocaleString(),P=()=>{x.push("/studio/affiliates")},j=()=>{x.push(`/studio/affiliates/${h.params.id}/edit`)},M=()=>{x.push(`/studio/affiliates/${h.params.id}/commissions`)},T=()=>{var i;console.log("Mark for payout:",(i=l.value)==null?void 0:i.id)},I=()=>{var i;console.log("Send email to:",(i=l.value)==null?void 0:i.email)},F=async()=>{try{C.value=!0,await new Promise(e=>setTimeout(e,1e3));const i=h.params.id;l.value=E[i]||null,l.value||x.push("/studio/affiliates")}catch(i){console.error("Error fetching affiliate:",i),x.push("/studio/affiliates")}finally{C.value=!1}};return K(()=>{F()}),(i,e)=>{var D,B,R,A;return p(),L("div",U,[C.value?(p(),k(s(O),{key:0,title:"Loading affiliate details",description:"We're fetching the affiliate information for you."})):g("",!0),o(q,{breadcrumb:S.value},null,8,["breadcrumb"]),t("div",X,[t("div",Z,[o(s(v),{onClick:P,variant:"ghost",size:"sm",class:"flex items-center gap-2"},{default:a(()=>e[0]||(e[0]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1),n(" Back ")])),_:1}),t("div",null,[t("h1",tt,d((D=l.value)==null?void 0:D.name),1),t("p",et," Affiliate ID: "+d((B=l.value)==null?void 0:B.referralCode),1)]),l.value?(p(),k(s(G),{key:0,variant:V(l.value.status),class:"capitalize"},{default:a(()=>[n(d(l.value.status),1)]),_:1},8,["variant"])):g("",!0)]),t("div",st,[o(s(v),{onClick:M,variant:"outline",class:"flex items-center gap-2"},{default:a(()=>e[1]||(e[1]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})],-1),n(" View Commissions ")])),_:1}),o(s(v),{onClick:j,class:"flex items-center gap-2"},{default:a(()=>e[2]||(e[2]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),n(" Edit Affiliate ")])),_:1})])]),t("div",at,[o(s(m),null,{default:a(()=>[o(s(f),{class:"p-4"},{default:a(()=>{var r;return[t("div",ot,[t("div",null,[e[3]||(e[3]=t("p",{class:"text-sm font-medium text-gray-600"},"Total Referrals",-1)),t("p",lt,d(((r=l.value)==null?void 0:r.totalReferrals)||0),1)]),e[4]||(e[4]=t("div",{class:"h-8 w-8 bg-blue-100 rounded-lg flex items-center justify-center"},[t("svg",{class:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z"})])],-1))])]}),_:1})]),_:1}),o(s(m),null,{default:a(()=>[o(s(f),{class:"p-4"},{default:a(()=>{var r,u;return[t("div",it,[t("div",null,[e[5]||(e[5]=t("p",{class:"text-sm font-medium text-gray-600"},"Total Earnings",-1)),t("p",nt," RM "+d(((u=(r=l.value)==null?void 0:r.totalCommissionsEarned)==null?void 0:u.toLocaleString())||0),1)]),e[6]||(e[6]=t("div",{class:"h-8 w-8 bg-green-100 rounded-lg flex items-center justify-center"},[t("svg",{class:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1))])]}),_:1})]),_:1}),o(s(m),null,{default:a(()=>[o(s(f),{class:"p-4"},{default:a(()=>{var r,u;return[t("div",rt,[t("div",null,[e[7]||(e[7]=t("p",{class:"text-sm font-medium text-gray-600"},"Pending Payout",-1)),t("p",dt," RM "+d(((u=(r=l.value)==null?void 0:r.unpaidCommissions)==null?void 0:u.toLocaleString())||0),1)]),e[8]||(e[8]=t("div",{class:"h-8 w-8 bg-orange-100 rounded-lg flex items-center justify-center"},[t("svg",{class:"w-4 h-4 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})])],-1))])]}),_:1})]),_:1}),o(s(m),null,{default:a(()=>[o(s(f),{class:"p-4"},{default:a(()=>{var r,u,_;return[t("div",ut,[t("div",null,[e[9]||(e[9]=t("p",{class:"text-sm font-medium text-gray-600"},"Commission Rate",-1)),t("p",mt,d(((r=l.value)==null?void 0:r.commissionType)==="percentage"?`${(u=l.value)==null?void 0:u.commissionRate}%`:`RM ${(_=l.value)==null?void 0:_.commissionRate}`),1)]),e[10]||(e[10]=t("div",{class:"h-8 w-8 bg-purple-100 rounded-lg flex items-center justify-center"},[t("svg",{class:"w-4 h-4 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z"})])],-1))])]}),_:1})]),_:1})]),t("div",ft,[t("div",ct,[o(s(m),null,{default:a(()=>[o(s(y),null,{default:a(()=>[o(s(w),null,{default:a(()=>e[11]||(e[11]=[n("Contact Information")])),_:1})]),_:1}),o(s(f),{class:"space-y-4"},{default:a(()=>{var r,u,_,N;return[t("div",vt,[t("div",null,[o(s(c),{class:"text-sm font-medium text-gray-600"},{default:a(()=>e[12]||(e[12]=[n("Email")])),_:1}),t("p",pt,d(((r=l.value)==null?void 0:r.email)||"Not provided"),1)]),t("div",null,[o(s(c),{class:"text-sm font-medium text-gray-600"},{default:a(()=>e[13]||(e[13]=[n("Phone")])),_:1}),t("p",gt,d(((u=l.value)==null?void 0:u.phone)||"Not provided"),1)]),t("div",null,[o(s(c),{class:"text-sm font-medium text-gray-600"},{default:a(()=>e[14]||(e[14]=[n("Join Date")])),_:1}),t("p",xt,d((_=l.value)!=null&&_.joinDate?b(l.value.joinDate):"Not available"),1)]),t("div",null,[o(s(c),{class:"text-sm font-medium text-gray-600"},{default:a(()=>e[15]||(e[15]=[n("Last Activity")])),_:1}),t("p",_t,d((N=l.value)!=null&&N.lastActivity?b(l.value.lastActivity):"Never"),1)])])]}),_:1})]),_:1}),(R=l.value)!=null&&R.bankDetails?(p(),k(s(m),{key:0},{default:a(()=>[o(s(y),null,{default:a(()=>[o(s(w),null,{default:a(()=>e[16]||(e[16]=[n("Bank Details")])),_:1})]),_:1}),o(s(f),{class:"space-y-4"},{default:a(()=>[t("div",kt,[t("div",null,[o(s(c),{class:"text-sm font-medium text-gray-600"},{default:a(()=>e[17]||(e[17]=[n("Bank Name")])),_:1}),t("p",yt,d(l.value.bankDetails.bankName),1)]),t("div",null,[o(s(c),{class:"text-sm font-medium text-gray-600"},{default:a(()=>e[18]||(e[18]=[n("Account Holder")])),_:1}),t("p",wt,d(l.value.bankDetails.accountHolder),1)]),t("div",null,[o(s(c),{class:"text-sm font-medium text-gray-600"},{default:a(()=>e[19]||(e[19]=[n("Account Number")])),_:1}),t("p",ht,d(l.value.bankDetails.accountNumber),1)]),l.value.bankDetails.swiftCode?(p(),L("div",Ct,[o(s(c),{class:"text-sm font-medium text-gray-600"},{default:a(()=>e[20]||(e[20]=[n("SWIFT Code")])),_:1}),t("p",bt,d(l.value.bankDetails.swiftCode),1)])):g("",!0)])]),_:1})]),_:1})):g("",!0),(A=l.value)!=null&&A.notes?(p(),k(s(m),{key:1},{default:a(()=>[o(s(y),null,{default:a(()=>[o(s(w),null,{default:a(()=>e[21]||(e[21]=[n("Notes")])),_:1})]),_:1}),o(s(f),null,{default:a(()=>[t("p",jt,d(l.value.notes),1)]),_:1})]),_:1})):g("",!0)]),t("div",Mt,[o(s(m),null,{default:a(()=>[o(s(y),null,{default:a(()=>[o(s(w),null,{default:a(()=>e[22]||(e[22]=[n("Quick Actions")])),_:1})]),_:1}),o(s(f),{class:"space-y-3"},{default:a(()=>{var r;return[o(s(v),{onClick:M,variant:"outline",class:"w-full justify-start"},{default:a(()=>e[23]||(e[23]=[t("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})],-1),n(" View Commissions ")])),_:1}),o(s(v),{onClick:j,variant:"outline",class:"w-full justify-start"},{default:a(()=>e[24]||(e[24]=[t("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),n(" Edit Details ")])),_:1}),(r=l.value)!=null&&r.unpaidCommissions&&l.value.unpaidCommissions>0?(p(),k(s(v),{key:0,onClick:T,variant:"outline",class:"w-full justify-start"},{default:a(()=>e[25]||(e[25]=[t("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),n(" Process Payout ")])),_:1})):g("",!0),o(s(v),{onClick:I,variant:"outline",class:"w-full justify-start"},{default:a(()=>e[26]||(e[26]=[t("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})],-1),n(" Send Email ")])),_:1})]}),_:1})]),_:1}),o(s(m),null,{default:a(()=>[o(s(y),null,{default:a(()=>[o(s(w),null,{default:a(()=>e[27]||(e[27]=[n("Performance Summary")])),_:1})]),_:1}),o(s(f),{class:"space-y-4"},{default:a(()=>{var r;return[t("div",Dt,[e[28]||(e[28]=t("span",{class:"text-sm text-gray-600"},"Conversion Rate",-1)),t("span",Bt,d(l.value?$(l.value):"0")+"% ",1)]),t("div",Rt,[e[29]||(e[29]=t("span",{class:"text-sm text-gray-600"},"Avg. Commission",-1)),t("span",At," RM "+d(l.value?z(l.value):"0"),1)]),t("div",Nt,[e[30]||(e[30]=t("span",{class:"text-sm text-gray-600"},"Total Paid",-1)),t("span",Ht," RM "+d(((r=l.value)==null?void 0:r.paidCommissions.toLocaleString())||"0"),1)])]}),_:1})]),_:1})])])])}}});export{It as default};
