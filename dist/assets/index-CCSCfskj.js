import{w as Tt,c as S,q as K,a as T,i as Ot,b as F,d as Nt,g as tt,f as I,h as Pt,j as Ct,r as Mt,s as H,m as At,o as jt,n as Et}from"./index-B7AGZY5W.js";import{X as Rt,a as Bt,D as V}from"./ChartLegend.vue_vue_type_script_setup_true_lang-4-x-cmrj.js";import{a as Dt}from"./array-BKyUJesY.js";import{d as Lt,a4 as Ft,s as It,e as Ht,c as Vt,H as Xt,L as Zt,a5 as zt,v as it,o as Yt}from"./index-1M69Q-Yy.js";function ct(t){this._context=t}ct.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,i){switch(t=+t,i=+i,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,i):this._context.moveTo(t,i);break;case 1:this._point=2;default:this._context.lineTo(t,i);break}}};function ut(t){return new ct(t)}function Gt(t){return t[0]}function Wt(t){return t[1]}function qt(t,i){var e=S(!0),n=null,s=ut,o=null,h=Tt(r);t=typeof t=="function"?t:t===void 0?Gt:S(t),i=typeof i=="function"?i:i===void 0?Wt:S(i);function r(a){var c,u=(a=Dt(a)).length,_,l=!1,y;for(n==null&&(o=s(y=h())),c=0;c<=u;++c)!(c<u&&e(_=a[c],c,a))===l&&((l=!l)?o.lineStart():o.lineEnd()),l&&o.point(+t(_,c,a),+i(_,c,a));if(y)return o=null,y+""||null}return r.x=function(a){return arguments.length?(t=typeof a=="function"?a:S(+a),r):t},r.y=function(a){return arguments.length?(i=typeof a=="function"?a:S(+a),r):i},r.defined=function(a){return arguments.length?(e=typeof a=="function"?a:S(!!a),r):e},r.curve=function(a){return arguments.length?(s=a,n!=null&&(o=s(n)),r):s},r.context=function(a){return arguments.length?(a==null?n=o=null:o=s(n=a),r):n},r}function k(){}function M(t,i,e){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+i)/6,(t._y0+4*t._y1+e)/6)}function R(t){this._context=t}R.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:M(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,i){switch(t=+t,i=+i,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,i):this._context.moveTo(t,i);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:M(this,t,i);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=i}};function Qt(t){return new R(t)}function ft(t){this._context=t}ft.prototype={areaStart:k,areaEnd:k,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,i){switch(t=+t,i=+i,this._point){case 0:this._point=1,this._x2=t,this._y2=i;break;case 1:this._point=2,this._x3=t,this._y3=i;break;case 2:this._point=3,this._x4=t,this._y4=i,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+i)/6);break;default:M(this,t,i);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=i}};function Ut(t){return new ft(t)}function pt(t){this._context=t}pt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,i){switch(t=+t,i=+i,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var e=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+i)/6;this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break;case 3:this._point=4;default:M(this,t,i);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=i}};function $t(t){return new pt(t)}function yt(t,i){this._basis=new R(t),this._beta=i}yt.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,i=this._y,e=t.length-1;if(e>0)for(var n=t[0],s=i[0],o=t[e]-n,h=i[e]-s,r=-1,a;++r<=e;)a=r/e,this._basis.point(this._beta*t[r]+(1-this._beta)*(n+a*o),this._beta*i[r]+(1-this._beta)*(s+a*h));this._x=this._y=null,this._basis.lineEnd()},point:function(t,i){this._x.push(+t),this._y.push(+i)}};const Jt=function t(i){function e(n){return i===1?new R(n):new yt(n,i)}return e.beta=function(n){return t(+n)},e}(.85);function A(t,i,e){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-i),t._y2+t._k*(t._y1-e),t._x2,t._y2)}function q(t,i){this._context=t,this._k=(1-i)/6}q.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:A(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,i){switch(t=+t,i=+i,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,i):this._context.moveTo(t,i);break;case 1:this._point=2,this._x1=t,this._y1=i;break;case 2:this._point=3;default:A(this,t,i);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=i}};const Kt=function t(i){function e(n){return new q(n,i)}return e.tension=function(n){return t(+n)},e}(0);function Q(t,i){this._context=t,this._k=(1-i)/6}Q.prototype={areaStart:k,areaEnd:k,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,i){switch(t=+t,i=+i,this._point){case 0:this._point=1,this._x3=t,this._y3=i;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=i);break;case 2:this._point=3,this._x5=t,this._y5=i;break;default:A(this,t,i);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=i}};const ti=function t(i){function e(n){return new Q(n,i)}return e.tension=function(n){return t(+n)},e}(0);function U(t,i){this._context=t,this._k=(1-i)/6}U.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,i){switch(t=+t,i=+i,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:A(this,t,i);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=i}};const ii=function t(i){function e(n){return new U(n,i)}return e.tension=function(n){return t(+n)},e}(0);function $(t,i,e){var n=t._x1,s=t._y1,o=t._x2,h=t._y2;if(t._l01_a>K){var r=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,a=3*t._l01_a*(t._l01_a+t._l12_a);n=(n*r-t._x0*t._l12_2a+t._x2*t._l01_2a)/a,s=(s*r-t._y0*t._l12_2a+t._y2*t._l01_2a)/a}if(t._l23_a>K){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,u=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*c+t._x1*t._l23_2a-i*t._l12_2a)/u,h=(h*c+t._y1*t._l23_2a-e*t._l12_2a)/u}t._context.bezierCurveTo(n,s,o,h,t._x2,t._y2)}function xt(t,i){this._context=t,this._alpha=i}xt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,i){if(t=+t,i=+i,this._point){var e=this._x2-t,n=this._y2-i;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,i):this._context.moveTo(t,i);break;case 1:this._point=2;break;case 2:this._point=3;default:$(this,t,i);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=i}};const ei=function t(i){function e(n){return i?new xt(n,i):new q(n,0)}return e.alpha=function(n){return t(+n)},e}(.5);function dt(t,i){this._context=t,this._alpha=i}dt.prototype={areaStart:k,areaEnd:k,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,i){if(t=+t,i=+i,this._point){var e=this._x2-t,n=this._y2-i;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=i;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=i);break;case 2:this._point=3,this._x5=t,this._y5=i;break;default:$(this,t,i);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=i}};const ni=function t(i){function e(n){return i?new dt(n,i):new Q(n,0)}return e.alpha=function(n){return t(+n)},e}(.5);function vt(t,i){this._context=t,this._alpha=i}vt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,i){if(t=+t,i=+i,this._point){var e=this._x2-t,n=this._y2-i;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+n*n,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:$(this,t,i);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=i}};const si=function t(i){function e(n){return i?new vt(n,i):new U(n,0)}return e.alpha=function(n){return t(+n)},e}(.5);function gt(t){this._context=t}gt.prototype={areaStart:k,areaEnd:k,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,i){t=+t,i=+i,this._point?this._context.lineTo(t,i):(this._point=1,this._context.moveTo(t,i))}};function oi(t){return new gt(t)}function et(t){return t<0?-1:1}function nt(t,i,e){var n=t._x1-t._x0,s=i-t._x1,o=(t._y1-t._y0)/(n||s<0&&-0),h=(e-t._y1)/(s||n<0&&-0),r=(o*s+h*n)/(n+s);return(et(o)+et(h))*Math.min(Math.abs(o),Math.abs(h),.5*Math.abs(r))||0}function st(t,i){var e=t._x1-t._x0;return e?(3*(t._y1-t._y0)/e-i)/2:i}function X(t,i,e){var n=t._x0,s=t._y0,o=t._x1,h=t._y1,r=(o-n)/3;t._context.bezierCurveTo(n+r,s+r*i,o-r,h-r*e,o,h)}function j(t){this._context=t}j.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:X(this,this._t0,st(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,i){var e=NaN;if(t=+t,i=+i,!(t===this._x1&&i===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,i):this._context.moveTo(t,i);break;case 1:this._point=2;break;case 2:this._point=3,X(this,st(this,e=nt(this,t,i)),e);break;default:X(this,this._t0,e=nt(this,t,i));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=i,this._t0=e}}};function bt(t){this._context=new mt(t)}(bt.prototype=Object.create(j.prototype)).point=function(t,i){j.prototype.point.call(this,i,t)};function mt(t){this._context=t}mt.prototype={moveTo:function(t,i){this._context.moveTo(i,t)},closePath:function(){this._context.closePath()},lineTo:function(t,i){this._context.lineTo(i,t)},bezierCurveTo:function(t,i,e,n,s,o){this._context.bezierCurveTo(i,t,n,e,o,s)}};function ri(t){return new j(t)}function ai(t){return new bt(t)}function kt(t){this._context=t}kt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,i=this._y,e=t.length;if(e)if(this._line?this._context.lineTo(t[0],i[0]):this._context.moveTo(t[0],i[0]),e===2)this._context.lineTo(t[1],i[1]);else for(var n=ot(t),s=ot(i),o=0,h=1;h<e;++o,++h)this._context.bezierCurveTo(n[0][o],s[0][o],n[1][o],s[1][o],t[h],i[h]);(this._line||this._line!==0&&e===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,i){this._x.push(+t),this._y.push(+i)}};function ot(t){var i,e=t.length-1,n,s=new Array(e),o=new Array(e),h=new Array(e);for(s[0]=0,o[0]=2,h[0]=t[0]+2*t[1],i=1;i<e-1;++i)s[i]=1,o[i]=4,h[i]=4*t[i]+2*t[i+1];for(s[e-1]=2,o[e-1]=7,h[e-1]=8*t[e-1]+t[e],i=1;i<e;++i)n=s[i]/o[i-1],o[i]-=n,h[i]-=n*h[i-1];for(s[e-1]=h[e-1]/o[e-1],i=e-2;i>=0;--i)s[i]=(h[i]-s[i+1])/o[i];for(o[e-1]=(t[e]+s[e-1])/2,i=0;i<e-1;++i)o[i]=2*t[i+1]-s[i+1];return[s,o]}function hi(t){return new kt(t)}function B(t,i){this._context=t,this._t=i}B.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,i){switch(t=+t,i=+i,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,i):this._context.moveTo(t,i);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,i),this._context.lineTo(t,i);else{var e=this._x*(1-this._t)+t*this._t;this._context.lineTo(e,this._y),this._context.lineTo(e,i)}break}}this._x=t,this._y=i}};function _i(t){return new B(t,.5)}function li(t){return new B(t,0)}function ci(t){return new B(t,1)}function rt(t,i){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);i&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),e.push.apply(e,n)}return e}function ui(t){for(var i=1;i<arguments.length;i++){var e=arguments[i]!=null?arguments[i]:{};i%2?rt(Object(e),!0).forEach(function(n){fi(t,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):rt(Object(e)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})}return t}function N(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?N=function(i){return typeof i}:N=function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},N(t)}function fi(t,i,e){return i in t?Object.defineProperty(t,i,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[i]=e,t}function E(){return E=Object.assign||function(t){for(var i=1;i<arguments.length;i++){var e=arguments[i];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}return t},E.apply(this,arguments)}function pi(t,i){if(t){if(typeof t=="string")return at(t,i);var e=Object.prototype.toString.call(t).slice(8,-1);if(e==="Object"&&t.constructor&&(e=t.constructor.name),e==="Map"||e==="Set")return Array.from(t);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return at(t,i)}}function at(t,i){(i==null||i>t.length)&&(i=t.length);for(var e=0,n=new Array(i);e<i;e++)n[e]=t[e];return n}function St(t,i){var e=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=pi(t))||i){e&&(t=e);var n=0,s=function(){};return{s,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(a){throw a},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,h=!1,r;return{s:function(){e=e.call(t)},n:function(){var a=e.next();return o=a.done,a},e:function(a){h=!0,r=a},f:function(){try{!o&&e.return!=null&&e.return()}finally{if(h)throw r}}}}function yi(t,i){var e=[],n=[];function s(o,h){if(o.length===1)e.push(o[0]),n.push(o[0]);else{for(var r=Array(o.length-1),a=0;a<r.length;a++)a===0&&e.push(o[0]),a===r.length-1&&n.push(o[a+1]),r[a]=[(1-h)*o[a][0]+h*o[a+1][0],(1-h)*o[a][1]+h*o[a+1][1]];s(r,h)}}return t.length&&s(t,i),{left:e,right:n.reverse()}}function xi(t){var i={};return t.length===4&&(i.x2=t[2][0],i.y2=t[2][1]),t.length>=3&&(i.x1=t[1][0],i.y1=t[1][1]),i.x=t[t.length-1][0],i.y=t[t.length-1][1],t.length===4?i.type="C":t.length===3?i.type="Q":i.type="L",i}function di(t,i){i=i||2;for(var e=[],n=t,s=1/i,o=0;o<i-1;o++){var h=s/(1-s*o),r=yi(n,h);e.push(r.left),n=r.right}return e.push(n),e}function vi(t,i,e){var n=[[t.x,t.y]];return i.x1!=null&&n.push([i.x1,i.y1]),i.x2!=null&&n.push([i.x2,i.y2]),n.push([i.x,i.y]),di(n,e).map(xi)}var gi=/[MLCSTQAHVZmlcstqahv]|-?[\d.e+-]+/g,w={M:["x","y"],L:["x","y"],H:["x"],V:["y"],C:["x1","y1","x2","y2","x","y"],S:["x2","y2","x","y"],Q:["x1","y1","x","y"],T:["x","y"],A:["rx","ry","xAxisRotation","largeArcFlag","sweepFlag","x","y"],Z:[]};Object.keys(w).forEach(function(t){w[t.toLowerCase()]=w[t]});function Z(t,i){for(var e=Array(t),n=0;n<t;n++)e[n]=i;return e}function bi(t){return"".concat(t.type).concat(w[t.type].map(function(i){return t[i]}).join(","))}function mi(t,i){var e={x1:"x",y1:"y",x2:"x",y2:"y"},n=["xAxisRotation","largeArcFlag","sweepFlag"];if(t.type!==i.type&&i.type.toUpperCase()!=="M"){var s={};Object.keys(i).forEach(function(o){var h=i[o],r=t[o];r===void 0&&(n.includes(o)?r=h:(r===void 0&&e[o]&&(r=t[e[o]]),r===void 0&&(r=0))),s[o]=r}),s.type=i.type,t=s}return t}function ki(t,i,e){var n=[];if(i.type==="L"||i.type==="Q"||i.type==="C")n=n.concat(vi(t,i,e));else{var s=E({},t);s.type==="M"&&(s.type="L"),n=n.concat(Z(e-1).map(function(){return s})),n.push(i)}return n}function ht(t,i,e){var n=t.length-1,s=i.length-1,o=n/s,h=Z(s).reduce(function(a,c,u){var _=Math.floor(o*u);if(e&&_<t.length-1&&e(t[_],t[_+1])){var l=o*u%1<.5;a[_]&&(l?_>0?_-=1:_<t.length-1&&(_+=1):_<t.length-1?_+=1:_>0&&(_-=1))}return a[_]=(a[_]||0)+1,a},[]),r=h.reduce(function(a,c,u){if(u===t.length-1){var _=Z(c,E({},t[t.length-1]));return _[0].type==="M"&&_.forEach(function(l){l.type="L"}),a.concat(_)}return a.concat(ki(t[u],t[u+1],c))},[]);return r.unshift(t[0]),r}function _t(t){for(var i=(t||"").match(gi)||[],e=[],n,s,o=0;o<i.length;++o)if(n=w[i[o]],n){s={type:i[o]};for(var h=0;h<n.length;++h)s[n[h]]=+i[o+h+1];o+=n.length,e.push(s)}return e}function Si(t,i,e){var n=t==null?[]:t.slice(),s=i==null?[]:i.slice(),o=N(e)==="object"?e:{excludeSegment:e,snapEndsToInput:!0},h=o.excludeSegment,r=o.snapEndsToInput;if(!n.length&&!s.length)return function(){return[]};var a=(n.length===0||n[n.length-1].type==="Z")&&(s.length===0||s[s.length-1].type==="Z");n.length>0&&n[n.length-1].type==="Z"&&n.pop(),s.length>0&&s[s.length-1].type==="Z"&&s.pop(),n.length?s.length||s.push(n[0]):n.push(s[0]);var c=Math.abs(s.length-n.length);c!==0&&(s.length>n.length?n=ht(n,s,h):s.length<n.length&&(s=ht(s,n,h))),n=n.map(function(_,l){return mi(_,s[l])});var u=n.map(function(_){return ui({},_)});return a&&(u.push({type:"Z"}),n.push({type:"Z"})),function(l){if(l===1&&r)return i??[];if(l===0)return n;for(var y=0;y<u.length;++y){var v=n[y],m=s[y],b=u[y],x=St(w[b.type]),d;try{for(x.s();!(d=x.n()).done;){var f=d.value;b[f]=(1-l)*v[f]+l*m[f],(f==="largeArcFlag"||f==="sweepFlag")&&(b[f]=Math.round(b[f]))}}catch(g){x.e(g)}finally{x.f()}}return u}}function wi(t,i,e){var n=_t(t),s=_t(i),o=N(e)==="object"?e:{excludeSegment:e,snapEndsToInput:!0},h=o.excludeSegment,r=o.snapEndsToInput;if(!n.length&&!s.length)return function(){return""};var a=Si(n,s,{excludeSegment:h,snapEndsToInput:r});return function(u){if(u===1&&r)return i??"";var _=a(u),l="",y=St(_),v;try{for(y.s();!(v=y.n()).done;){var m=v.value;l+=bi(m)}}catch(b){y.e(b)}finally{y.f()}return l}}var p;(function(t){t.Basis="basis",t.BasisClosed="basisClosed",t.BasisOpen="basisOpen",t.Bundle="bundle",t.Cardinal="cardinal",t.CardinalClosed="cardinalClosed",t.CardinalOpen="cardinalOpen",t.CatmullRom="catmullRom",t.CatmullRomClosed="catmullRomClosed",t.CatmullRomOpen="catmullRomOpen",t.Linear="linear",t.LinearClosed="linearClosed",t.MonotoneX="monotoneX",t.MonotoneY="monotoneY",t.Natural="natural",t.Step="step",t.StepAfter="stepAfter",t.StepBefore="stepBefore"})(p||(p={}));const lt={[p.Basis]:Qt,[p.BasisClosed]:Ut,[p.BasisOpen]:$t,[p.Bundle]:Jt,[p.Cardinal]:Kt,[p.CardinalClosed]:ti,[p.CardinalOpen]:ii,[p.CatmullRom]:ei,[p.CatmullRomClosed]:ni,[p.CatmullRomOpen]:si,[p.Linear]:ut,[p.LinearClosed]:oi,[p.MonotoneX]:ri,[p.MonotoneY]:ai,[p.Natural]:hi,[p.Step]:_i,[p.StepAfter]:ci,[p.StepBefore]:li},Ti=Object.assign(Object.assign({},Rt),{curveType:p.MonotoneX,lineWidth:2,lineDashArray:void 0,fallbackValue:void 0,highlightOnHover:!1,cursor:null,interpolateMissingData:!1}),Oi=Ot`
  :root {
    --vis-line-cursor: default;
    --vis-line-stroke-dasharray: none;
    --vis-line-stroke-dashoffset: 0;

    --vis-line-gapfill-stroke-dasharray: 2 3;
    --vis-line-gapfill-stroke-opacity: 0.8;
    --vis-line-gapfill-stroke-dashoffset: 0;
  }
`,Ni=T`
  label: line-component;
`,O=T`
  label: line;
  transition: opacity 200ms;
  cursor: var(--vis-line-cursor);
`,z=T`
  label: linePath;
  fill: none;
  stroke-dasharray: var(--vis-line-stroke-dasharray);
  stroke-dashoffset: var(--vis-line-stroke-dashoffset);
`,Y=T`
  label: lineSelectionHelper;
  fill: none;
  stroke: rgba(0, 0, 0, 0);
  stroke-width: 8px;
`,G=T`
  opacity: 0.2;
`,W=T`
  label: interpolated-path;
  fill: none;
  stroke-dasharray: var(--vis-line-gapfill-stroke-dasharray);
  stroke-dashoffset: var(--vis-line-gapfill-stroke-dashoffset);
  stroke-opacity: var(--vis-line-gapfill-stroke-opacity);
`,Pi=Object.freeze(Object.defineProperty({__proto__:null,dim:G,globalStyles:Oi,interpolatedPath:W,line:O,linePath:z,lineSelectionHelper:Y,root:Ni},Symbol.toStringTag,{value:"Module"}));class P extends Bt{constructor(i){super(),this._defaultConfig=Ti,this.config=this._defaultConfig,this.curve=lt[p.MonotoneX],this.events={[P.selectors.line]:{mouseover:this._highlight.bind(this),mouseleave:this._resetHighlight.bind(this)}},i&&this.setConfig(i)}get bleed(){const{config:{lineWidth:i}}=this,e=this.yScale.domain(),s=(this.yScale.range()[0]>this.yScale.range()[1]?V.North:V.South)===V.South,o=i>3,h=i>=10;return{top:!h&&(!s&&e[1]===0||s&&e[0]===0)?0:i/2,bottom:!h&&(!s&&e[0]===0||s&&e[1]===0)?0:i/2,left:o?i/2:0,right:o?i/2:0}}_render(i){super._render(i);const{config:e,datamodel:{data:n}}=this,s=F(i)?i:e.duration;this.curve=lt[e.curveType],this.lineGen=qt().x(_=>_.x).y(_=>_.y).defined(_=>_.defined).curve(this.curve);const o=Nt(e.y)?e.y:[e.y],h=n.map((_,l)=>this.xScale(tt(_,e.x,l))),r=o.map(_=>{const l=n.map((x,d)=>{const f=tt(x,_,d),g=(F(f)||f===null)&&isFinite(f)?f:e.fallbackValue,C=e.interpolateMissingData?(F(f)||f===null)&&isFinite(f):isFinite(g);return{x:h[d],y:this.yScale(g??0),defined:C,value:g}}),y=l.reduce((x,d)=>d.defined||x,!1);let v=!1;const m=l.reduce((x,d,f)=>{!d.defined&&isFinite(e.fallbackValue)&&x.push(Object.assign(Object.assign({},d),{defined:!0})),!d.defined&&!v&&(v=!0);const g=f>0&&!l[f-1].defined||f<l.length-1&&!l[f+1].defined;return d.defined&&g&&(v||x.push(Object.assign(Object.assign({},d),{defined:!1})),x.push(d),v=!1),x},[]),b=y&&l.some(x=>x.value!==null);return{values:l,defined:y,gaps:m,visible:b}}),a=this.g.selectAll(`.${O}`).data(r),c=a.enter().append("g").attr("class",O);c.append("path").attr("class",z).attr("stroke",(_,l)=>I(n,e.color,l)).attr("stroke-opacity",0).attr("stroke-width",e.lineWidth),c.append("path").attr("class",Y).attr("d",this._emptyPath()),c.append("path").attr("class",W).attr("d",this._emptyPath()).style("opacity",0);const u=c.merge(a);u.style("cursor",(_,l)=>Pt(n,e.cursor,l)),u.each((_,l,y)=>{var v;const m=Ct(y[l]),b=m.select(`.${z}`),x=m.select(`.${Y}`),d=m.select(`.${W}`),f=_.visible,g=Mt(n,e.lineDashArray,l),C=H(b,s).attr("stroke",I(n,e.color,l)).attr("stroke-width",e.lineWidth).attr("stroke-opacity",f?1:0).style("stroke-dasharray",(v=g==null?void 0:g.join(" "))!==null&&v!==void 0?v:null),J=_.values.some(L=>!L.defined),D=this.lineGen(_.values);if(s&&!J){const L=b.attr("d")||this._emptyPath(),wt=D||this._emptyPath();C.attrTween("d",()=>wi(L,wt))}else _.visible&&C.attr("d",D);x.attr("d",D).attr("visibility",f?null:"hidden"),J&&e.interpolateMissingData?H(d,s).attr("d",this.lineGen(_.gaps)).attr("stroke",I(n,e.color,l)).attr("stroke-width",e.lineWidth-1).style("opacity",1):d.transition().duration(s).style("opacity",0)}),H(a.exit(),s).style("opacity",0).remove()}_emptyPath(){const i=this.xScale.range(),e=this.yScale.range();return`M${i[0]},${e[0]} L${i[1]},${e[0]}`}_highlight(i){const{config:e}=this;e.highlightOnHover&&this.g.selectAll(`.${O}`).classed(G,n=>n!==i)}_resetHighlight(){const{config:i}=this;i.highlightOnHover&&this.g.selectAll(`.${O}`).classed(G,!1)}}P.selectors=Pi;const Ci={"data-vis-component":""};P.selectors;const Bi=Lt({__name:"index",props:{color:{},curveType:{},lineWidth:{},lineDashArray:{},fallbackValue:{},highlightOnHover:{type:Boolean},cursor:{},interpolateMissingData:{type:Boolean},x:{},y:{},id:{type:Function},xScale:{type:[Object,Function]},yScale:{type:[Object,Function]},excludeFromDomainCalculation:{type:Boolean},duration:{},events:{},attributes:{},data:{}},setup(t,{expose:i}){const e=Ft(jt),n=t,s=It(()=>e.data.value??n.data),o=At(n),h=Ht();return Xt(()=>{Zt(()=>{var r;h.value=new P(o.value),(r=h.value)==null||r.setData(s.value),e.update(h.value)})}),zt(()=>{var r;(r=h.value)==null||r.destroy(),e.destroy()}),it(o,(r,a)=>{var c;Et(r,a)||(c=h.value)==null||c.setConfig(o.value)}),it(s,()=>{var r;(r=h.value)==null||r.setData(s.value)}),i({component:h}),(r,a)=>(Yt(),Vt("div",Ci))}});export{p as C,P as L,Bi as S,lt as a,ut as c,wi as i,qt as l,Gt as x,Wt as y};
