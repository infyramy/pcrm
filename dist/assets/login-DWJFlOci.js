import{d as T,u as A,a as G,r as g,o as q,c as u,b as t,e as y,f as n,g as s,w as a,h as l,i as E,K as d,j as D,_ as x,k as H,l as c,m as I}from"./index-DWMcEsZL.js";import{_ as K,a as L}from"./CardContent.vue_vue_type_script_setup_true_lang-OghApYBC.js";import{_,a as S}from"./Label.vue_vue_type_script_setup_true_lang-DUwXJ6qU.js";const U={class:"min-h-svh"},$={class:"container relative min-h-svh flex flex-col items-center justify-center px-4 md:grid lg:max-w-none lg:grid-cols-2 lg:px-0"},N={key:0,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"h-5 w-5"},R={key:1,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"h-5 w-5"},O={class:"w-full lg:p-8"},W={class:"mx-auto flex w-full flex-col justify-center space-y-6 px-4 sm:w-[350px]"},Z={class:"grid gap-2"},J={class:"grid gap-2"},Q={class:"flex items-center"},X={class:"relative"},Y={key:0,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"h-4 w-4"},ee={key:1,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"h-4 w-4"},te={key:0,class:"flex items-center gap-2"},oe={key:1},se={class:"grid grid-cols-2 gap-4"},le={class:"text-center text-sm text-muted-foreground"},ae={class:"text-center text-sm text-muted-foreground"},ue=T({__name:"login",setup(ie){const C=H(),v=A(),w=G(),f=g(""),m=g(""),i=g(!1),h=g(!1),k=g(!1),b=g(!1);async function F(){var o;if(!f.value||!m.value){d.error("Please fill in all fields");return}try{i.value=!0,await v.login({email:f.value,password:m.value}),C.push("/studio/home")}catch(e){console.log("error: ",e),d.error(((o=e.data)==null?void 0:o.message)||"Invalid email or password")}finally{i.value=!1}}function M(){w.value=w.value==="dark"?"light":"dark"}function P(){h.value=!h.value}function B(){return new Promise(o=>{const e=document.createElement("script");e.src="https://apis.google.com/js/api.js",e.async=!0,e.defer=!0,e.onload=()=>{window.gapi.load("auth2",()=>{window.gapi.auth2.init({client_id:void 0}).then(()=>{k.value=!0,o()})})},document.head.appendChild(e)})}async function V(){if(!k.value){d.error("Google authentication is still initializing. Please try again in a moment.");return}try{i.value=!0;const r=(await window.gapi.auth2.getAuthInstance().signIn()).getAuthResponse().id_token;await v.loginWithSSO({provider:"google",token:r})}catch(o){console.error("Google login error:",o),d.error(o.message||"Failed to login with Google")}finally{i.value=!1}}function j(){return new Promise(o=>{if(window.location.protocol!=="https:"){d.error("Facebook login requires HTTPS. Please use a secure connection."),o();return}window.fbAsyncInit=function(){FB.init({appId:void 0,cookie:!0,xfbml:!0,version:"v18.0"}),b.value=!0,o()};const e=document.createElement("script");e.src="https://connect.facebook.net/en_US/sdk.js",e.async=!0,e.defer=!0,document.head.appendChild(e)})}async function z(){if(!b.value){d.error("Facebook authentication is still initializing. Please try again in a moment.");return}if(window.location.protocol!=="https:"){d.error("Facebook login requires HTTPS. Please use a secure connection.");return}try{i.value=!0;const o=await new Promise((e,r)=>{FB.login(p=>{p.authResponse?e(p.authResponse):r(new Error("Facebook login cancelled"))},{scope:"email"})});await v.loginWithSSO({provider:"facebook",token:o.accessToken})}catch(o){console.error("Facebook login error:",o),d.error(o.message||"Failed to login with Facebook")}finally{i.value=!1}}return q(async()=>{try{await Promise.all([B(),j()])}catch(o){console.error("Failed to load authentication SDKs:",o)}}),(o,e)=>{const r=E("router-link");return c(),u("div",U,[t("div",$,[t("button",{onClick:M,class:"fixed right-4 top-4 z-50 rounded-lg p-2 hover:bg-muted","aria-label":"Toggle theme"},[n(w)==="dark"?(c(),u("svg",N,e[2]||(e[2]=[y('<circle cx="12" cy="12" r="4"></circle><path d="M12 2v2"></path><path d="M12 20v2"></path><path d="m4.93 4.93 1.41 1.41"></path><path d="m17.66 17.66 1.41 1.41"></path><path d="M2 12h2"></path><path d="M20 12h2"></path><path d="m6.34 17.66-1.41 1.41"></path><path d="m19.07 4.93-1.41 1.41"></path>',9)]))):(c(),u("svg",R,e[3]||(e[3]=[t("path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"},null,-1)])))]),e[21]||(e[21]=y('<div class="relative hidden h-full flex-col bg-background p-10 text-white lg:flex dark:border-r"><div class="absolute inset-0 bg-primary"></div><div class="relative z-20 flex items-center text-lg font-medium"><img src="'+I+'" alt="Bemobile Logo" class="mr-2 h-6 w-6"><span>Placeholder</span></div><div class="relative z-20 mt-auto"><blockquote class="space-y-2"><p class="text-lg"> “This library has saved me countless hours of work and helped me deliver stunning designs to my clients faster than ever before.” </p><footer class="text-sm">Sofia Davis</footer></blockquote></div></div>',1)),t("div",O,[t("div",W,[e[20]||(e[20]=t("div",{class:"flex flex-col space-y-2 text-center"},[t("h1",{class:"text-2xl font-semibold tracking-tight"},"Welcome back"),t("p",{class:"text-sm text-muted-foreground"}," Sign in to your account to continue ")],-1)),s(n(K),{class:"w-full"},{default:a(()=>[s(n(L),{class:"grid gap-4 pt-6"},{default:a(()=>[t("form",{onSubmit:D(F,["prevent"]),class:"grid gap-4"},[t("div",Z,[s(n(_),{"html-for":"email"},{default:a(()=>e[4]||(e[4]=[l("Email")])),_:1}),s(n(S),{id:"email",type:"email",modelValue:f.value,"onUpdate:modelValue":e[0]||(e[0]=p=>f.value=p),placeholder:"name@example.com",required:"",tabindex:"1"},null,8,["modelValue"])]),t("div",J,[t("div",Q,[s(n(_),{"html-for":"password"},{default:a(()=>e[5]||(e[5]=[l("Password")])),_:1}),s(r,{to:"/forgot-password",class:"ml-auto inline-block text-sm underline",tabindex:"3"},{default:a(()=>e[6]||(e[6]=[l(" Forgot password? ")])),_:1})]),t("div",X,[s(n(S),{id:"password",type:h.value?"text":"password",modelValue:m.value,"onUpdate:modelValue":e[1]||(e[1]=p=>m.value=p),required:"",tabindex:"2"},null,8,["type","modelValue"]),t("button",{type:"button",onClick:P,class:"absolute right-2 top-1/2 -translate-y-1/2 rounded-md p-1 hover:bg-muted","aria-label":"Toggle password visibility"},[h.value?(c(),u("svg",Y,e[7]||(e[7]=[t("path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"},null,-1),t("circle",{cx:"12",cy:"12",r:"3"},null,-1)]))):(c(),u("svg",ee,e[8]||(e[8]=[t("path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24"},null,-1),t("path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"},null,-1),t("path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"},null,-1),t("line",{x1:"2",x2:"22",y1:"2",y2:"22"},null,-1)])))])])]),s(n(x),{type:"submit",class:"w-full",disabled:i.value},{default:a(()=>[i.value?(c(),u("span",te,e[9]||(e[9]=[t("span",{class:"h-4 w-4 animate-spin rounded-full border-2 border-current border-t-transparent"},null,-1),l(" Signing in... ")]))):(c(),u("span",oe,"Sign in"))]),_:1},8,["disabled"])],32),e[12]||(e[12]=t("div",{class:"relative"},[t("div",{class:"absolute inset-0 flex items-center"},[t("span",{class:"w-full border-t"})]),t("div",{class:"relative flex justify-center text-xs uppercase"},[t("span",{class:"bg-background px-2 text-muted-foreground"}," Or continue with ")])],-1)),t("div",se,[s(n(x),{variant:"outline",type:"button",onClick:V,disabled:i.value},{default:a(()=>e[10]||(e[10]=[t("svg",{class:"mr-2 h-4 w-4",viewBox:"0 0 24 24"},[t("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),t("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),t("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),t("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})],-1),l(" Google ")])),_:1},8,["disabled"]),s(n(x),{variant:"outline",type:"button",onClick:z,disabled:i.value},{default:a(()=>e[11]||(e[11]=[t("svg",{class:"mr-2 h-4 w-4",viewBox:"0 0 24 24"},[t("path",{d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z",fill:"#1877F2"})],-1),l(" Facebook ")])),_:1},8,["disabled"])])]),_:1})]),_:1}),t("p",le,[e[14]||(e[14]=l(" Don't have an account? ")),s(r,{to:"/register",class:"underline underline-offset-4 hover:text-primary"},{default:a(()=>e[13]||(e[13]=[l(" Create an account ")])),_:1})]),t("p",ae,[e[17]||(e[17]=l(" By clicking continue, you agree to our ")),s(r,{to:"/terms-of-service",class:"underline underline-offset-4 hover:text-primary"},{default:a(()=>e[15]||(e[15]=[l(" Terms of Service ")])),_:1}),e[18]||(e[18]=l(" and ")),s(r,{to:"/privacy-policy",class:"underline underline-offset-4 hover:text-primary"},{default:a(()=>e[16]||(e[16]=[l(" Privacy Policy ")])),_:1}),e[19]||(e[19]=l(" . "))])])])])])}}});export{ue as default};
