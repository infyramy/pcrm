import{d as oe,r as _,ag as le,D as N,o as ne,c,g as s,b as t,v as ie,T as h,w as l,f as a,_ as x,h as r,bw as re,bx as de,by as ue,t as d,Q as S,U as $,W as ce,k as me,l as u}from"./index-C2UrP5hw.js";import{_ as F}from"./Input.vue_vue_type_script_setup_true_lang-CSZ-Dkyw.js";import{_ as y}from"./Label.vue_vue_type_script_setup_true_lang-DVjpD-L7.js";import{_ as ve}from"./Textarea.vue_vue_type_script_setup_true_lang--1zaO6ew.js";import{_ as fe}from"./index-BFTYKSG-.js";import{_ as k,a as V}from"./CardContent.vue_vue_type_script_setup_true_lang-eN_1_cPI.js";import{a as b,_ as w}from"./CardTitle.vue_vue_type_script_setup_true_lang-Q0gFftlI.js";import{_ as pe,a as _e,b as ge,c as he,d as T}from"./SelectValue.vue_vue_type_script_setup_true_lang-BJhQFqbJ.js";import{_ as xe}from"./PageHeader.vue_vue_type_script_setup_true_lang-B1Je6Lxx.js";import"./check-CMqAtv7z.js";import"./ohash.D__AXeF1-DHF4M4F_.js";import"./useFormControl-BTKw-cda.js";const ye={class:"space-y-6"},ke={class:"flex items-center justify-between"},be={class:"text-xl font-semibold"},we={class:"text-sm text-gray-500"},Te={class:"flex items-center gap-2 mt-1"},De={class:"grid grid-cols-12 gap-6"},Ce={class:"col-span-12 lg:col-span-8"},Se={class:"flex items-center justify-between"},$e={class:"flex items-center gap-2"},Ve={class:"text-lg font-semibold min-w-[200px] text-center"},Me={class:"grid grid-cols-7 gap-1 mb-4"},Be={class:"grid grid-cols-7 gap-1"},Ue=["onClick"],Ne={class:"font-medium"},Fe={key:0,class:"text-xs text-green-600 truncate"},Ie={key:1,class:"text-xs text-red-600"},Ee={class:"col-span-12 lg:col-span-4 space-y-6"},Le={class:"space-y-3"},Pe={class:"font-medium text-sm"},ze={class:"text-xs text-gray-500"},Je={class:"text-xs text-gray-600 mt-1"},Oe={class:"text-xs text-gray-600"},Ae={key:0,class:"text-center py-4"},Re={class:"space-y-4"},We={class:"space-y-2"},je={class:"grid grid-cols-2 gap-2"},Ye={class:"space-y-2"},Ke={class:"space-y-2"},qe={class:"space-y-2"},Qe={class:"space-y-2"},Ge={class:"space-y-2"},He={class:"flex items-center justify-between"},Xe={class:"font-medium"},Ze={class:"text-xs text-gray-600"},et={class:"text-xs text-red-600 capitalize"},tt={key:0,class:"text-center py-4"},pt=oe({__name:"schedule",setup(st){const z=me(),J=le(),m=_(null),f=_(new Date),D=_([{id:"1",title:"Wedding Photography",client:"Alice Smith",date:new Date("2024-02-15"),duration:"8 hours",location:"KLCC"},{id:"2",title:"Corporate Event",client:"Tech Corp",date:new Date("2024-02-20"),duration:"4 hours",location:"KL Convention Centre"}]),p=_([{id:"1",date:"2024-02-10",startTime:"09:00",endTime:"17:00",reason:"vacation",notes:"Family trip"}]),i=_({date:"",startTime:"",endTime:"",reason:"",notes:""}),O=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],A=_([{count:1,href:"/studio/photographers",label:"Photographers",action:!0},{count:2,label:"Schedule",href:`/studio/photographers/${J.params.id}/schedule`,action:!1}]),R=N(()=>f.value.toLocaleDateString("en-US",{month:"long",year:"numeric"})),W=N(()=>{const n=f.value.getFullYear(),e=f.value.getMonth(),o=new Date,C=new Date(n,e,1),M=new Date(C);M.setDate(M.getDate()-C.getDay());const L=[],v=new Date(M);for(let P=0;P<42;P++){const ee=v.getMonth()===e,te=v.toDateString()===o.toDateString(),B=v.toISOString().split("T")[0],se=D.value.some(g=>g.date.toISOString().split("T")[0]===B),ae=p.value.some(g=>g.date===B),U=D.value.find(g=>g.date.toISOString().split("T")[0]===B);L.push({date:v.getDate(),month:v.getMonth(),year:v.getFullYear(),isCurrentMonth:ee,isToday:te,hasEvent:se,eventTitle:U==null?void 0:U.title,isBlocked:ae}),v.setDate(v.getDate()+1)}return L}),I=N(()=>i.value.date&&i.value.startTime&&i.value.endTime&&i.value.reason);function j(n){return n.split(" ").map(e=>e.charAt(0)).join("").toUpperCase().slice(0,2)}function Y(n){switch(n){case"free":return"default";case"busy":return"destructive";case"on-leave":return"secondary";default:return"outline"}}function E(n){return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric"}).format(n)}function K(){const n=new Date(f.value);n.setMonth(n.getMonth()-1),f.value=n}function q(){const n=new Date(f.value);n.setMonth(n.getMonth()+1),f.value=n}function Q(n){console.log("Selected date:",n)}function G(){if(!I.value)return;const n={id:Date.now().toString(),date:i.value.date,startTime:i.value.startTime,endTime:i.value.endTime,reason:i.value.reason,notes:i.value.notes};p.value.push(n),i.value={date:"",startTime:"",endTime:"",reason:"",notes:""}}function H(n){const e=p.value.findIndex(o=>o.id===n);e>-1&&p.value.splice(e,1)}function X(){m.value={id:"1",name:"Sarah Chen",email:"sarah.chen@studio.com",phone:"+60123456789",profileImage:"https://images.unsplash.com/photo-1494790108755-2616b612b577?w=150",roles:["Photographer","Editor"],status:"active",availability:"free",totalJobs:45,dateJoined:new Date("2023-01-15")}}function Z(){z.push("/studio/photographers")}return ne(()=>{X()}),(n,e)=>(u(),c("div",ye,[s(xe,{breadcrumb:A.value},null,8,["breadcrumb"]),t("div",ke,[e[6]||(e[6]=t("div",null,[t("h1",{class:"text-2xl font-semibold text-gray-900"}," Schedule Management "),t("p",{class:"text-sm text-gray-600 mt-1"}," Manage availability and view upcoming assignments ")],-1)),s(a(x),{variant:"outline",onClick:Z,class:"flex items-center gap-2"},{default:l(()=>e[5]||(e[5]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),r(" Back to Photographers ")])),_:1})]),m.value?(u(),ie(a(k),{key:0},{default:l(()=>[s(a(w),null,{default:l(()=>[s(a(b),{class:"flex items-center gap-3"},{default:l(()=>[s(a(re),{class:"h-12 w-12"},{default:l(()=>[s(a(de),{src:m.value.profileImage},null,8,["src"]),s(a(ue),null,{default:l(()=>[r(d(j(m.value.name)),1)]),_:1})]),_:1}),t("div",null,[t("div",be,d(m.value.name),1),t("div",we,d(m.value.email),1),t("div",Te,[s(a(fe),{variant:Y(m.value.availability)},{default:l(()=>[r(d(m.value.availability),1)]),_:1},8,["variant"])])])]),_:1})]),_:1})]),_:1})):h("",!0),t("div",De,[t("div",Ce,[s(a(k),null,{default:l(()=>[s(a(w),null,{default:l(()=>[t("div",Se,[s(a(b),null,{default:l(()=>e[7]||(e[7]=[r("Schedule Calendar")])),_:1}),t("div",$e,[s(a(x),{variant:"outline",size:"sm",onClick:K},{default:l(()=>e[8]||(e[8]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])),_:1}),t("h3",Ve,d(R.value),1),s(a(x),{variant:"outline",size:"sm",onClick:q},{default:l(()=>e[9]||(e[9]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])),_:1})])])]),_:1}),s(a(V),null,{default:l(()=>[t("div",Me,[(u(),c(S,null,$(O,o=>t("div",{key:o,class:"p-2 text-center text-sm font-medium text-gray-500"},d(o),1)),64))]),t("div",Be,[(u(!0),c(S,null,$(W.value,o=>(u(),c("div",{key:`${o.date}-${o.month}`,class:"aspect-square p-1"},[t("div",{class:ce(["w-full h-full rounded-lg p-1 text-sm cursor-pointer transition-colors",[o.isCurrentMonth?"text-gray-900":"text-gray-400",o.isToday?"bg-blue-100 text-blue-900 font-semibold":"",o.hasEvent?"bg-green-50 border-2 border-green-200":"hover:bg-gray-50",o.isBlocked?"bg-red-50 border-2 border-red-200":""]]),onClick:C=>Q(o)},[t("div",Ne,d(o.date),1),o.hasEvent?(u(),c("div",Fe,d(o.eventTitle),1)):h("",!0),o.isBlocked?(u(),c("div",Ie," Blocked ")):h("",!0)],10,Ue)]))),128))])]),_:1})]),_:1})]),t("div",Ee,[s(a(k),null,{default:l(()=>[s(a(w),null,{default:l(()=>[s(a(b),null,{default:l(()=>e[10]||(e[10]=[r("Upcoming Jobs")])),_:1})]),_:1}),s(a(V),null,{default:l(()=>[t("div",Le,[(u(!0),c(S,null,$(D.value,o=>(u(),c("div",{key:o.id,class:"p-3 border rounded-lg"},[t("div",Pe,d(o.title),1),t("div",ze,d(o.client),1),t("div",Je,d(E(o.date))+" - "+d(o.duration),1),t("div",Oe,d(o.location),1)]))),128)),D.value.length===0?(u(),c("div",Ae,e[11]||(e[11]=[t("p",{class:"text-sm text-gray-500"},"No upcoming jobs",-1)]))):h("",!0)])]),_:1})]),_:1}),s(a(k),null,{default:l(()=>[s(a(w),null,{default:l(()=>[s(a(b),null,{default:l(()=>e[12]||(e[12]=[r("Block Time")])),_:1})]),_:1}),s(a(V),null,{default:l(()=>[t("div",Re,[t("div",We,[s(a(y),{for:"blockDate"},{default:l(()=>e[13]||(e[13]=[r("Date")])),_:1}),s(a(F),{id:"blockDate",type:"date",modelValue:i.value.date,"onUpdate:modelValue":e[0]||(e[0]=o=>i.value.date=o)},null,8,["modelValue"])]),t("div",je,[t("div",Ye,[s(a(y),{for:"startTime"},{default:l(()=>e[14]||(e[14]=[r("Start Time")])),_:1}),s(a(F),{id:"startTime",type:"time",modelValue:i.value.startTime,"onUpdate:modelValue":e[1]||(e[1]=o=>i.value.startTime=o)},null,8,["modelValue"])]),t("div",Ke,[s(a(y),{for:"endTime"},{default:l(()=>e[15]||(e[15]=[r("End Time")])),_:1}),s(a(F),{id:"endTime",type:"time",modelValue:i.value.endTime,"onUpdate:modelValue":e[2]||(e[2]=o=>i.value.endTime=o)},null,8,["modelValue"])])]),t("div",qe,[s(a(y),{for:"blockReason"},{default:l(()=>e[16]||(e[16]=[r("Reason")])),_:1}),s(a(pe),{modelValue:i.value.reason,"onUpdate:modelValue":e[3]||(e[3]=o=>i.value.reason=o)},{default:l(()=>[s(a(_e),null,{default:l(()=>[s(a(ge),{placeholder:"Select reason"})]),_:1}),s(a(he),null,{default:l(()=>[s(a(T),{value:"vacation"},{default:l(()=>e[17]||(e[17]=[r("Vacation")])),_:1}),s(a(T),{value:"sick"},{default:l(()=>e[18]||(e[18]=[r("Sick Leave")])),_:1}),s(a(T),{value:"personal"},{default:l(()=>e[19]||(e[19]=[r("Personal")])),_:1}),s(a(T),{value:"training"},{default:l(()=>e[20]||(e[20]=[r("Training")])),_:1}),s(a(T),{value:"other"},{default:l(()=>e[21]||(e[21]=[r("Other")])),_:1})]),_:1})]),_:1},8,["modelValue"])]),t("div",Qe,[s(a(y),{for:"blockNotes"},{default:l(()=>e[22]||(e[22]=[r("Notes (optional)")])),_:1}),s(a(ve),{id:"blockNotes",modelValue:i.value.notes,"onUpdate:modelValue":e[4]||(e[4]=o=>i.value.notes=o),placeholder:"Additional notes...",rows:"2"},null,8,["modelValue"])]),s(a(x),{onClick:G,class:"w-full",disabled:!I.value},{default:l(()=>e[23]||(e[23]=[r(" Block Time ")])),_:1},8,["disabled"])])]),_:1})]),_:1}),s(a(k),null,{default:l(()=>[s(a(w),null,{default:l(()=>[s(a(b),null,{default:l(()=>e[24]||(e[24]=[r("Current Blocks")])),_:1})]),_:1}),s(a(V),null,{default:l(()=>[t("div",Ge,[(u(!0),c(S,null,$(p.value,o=>(u(),c("div",{key:o.id,class:"p-2 bg-red-50 border border-red-200 rounded text-sm"},[t("div",He,[t("div",null,[t("div",Xe,d(E(new Date(o.date))),1),t("div",Ze,d(o.startTime)+" - "+d(o.endTime),1),t("div",et,d(o.reason),1)]),s(a(x),{variant:"ghost",size:"sm",onClick:C=>H(o.id)},{default:l(()=>e[25]||(e[25]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])),_:2},1032,["onClick"])])]))),128)),p.value.length===0?(u(),c("div",tt,e[26]||(e[26]=[t("p",{class:"text-sm text-gray-500"},"No blocked times",-1)]))):h("",!0)])]),_:1})]),_:1})])])]))}});export{pt as default};
