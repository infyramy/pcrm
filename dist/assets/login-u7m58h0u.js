import{d as v,c as y,n as h,u as a,a as S,r as V,o as w,b as $,e as c,f as s,_ as k,g as t,w as l,h as o,i as B,j as C,k as P,K as _}from"./index-1M69Q-Yy.js";import{_ as L,a as M,b as N,c as U}from"./CardTitle.vue_vue_type_script_setup_true_lang-Dn20qXRk.js";import{_ as g}from"./Input.vue_vue_type_script_setup_true_lang-CoUWEp88.js";import{_ as x}from"./Label.vue_vue_type_script_setup_true_lang-CeonUZCd.js";const j=v({__name:"CardDescription",props:{class:{}},setup(p){const n=p;return(r,i)=>(w(),y("p",{class:h(a(S)("text-sm text-muted-foreground",n.class))},[V(r.$slots,"default")],2))}}),q={class:"flex min-h-svh flex-col items-center justify-center gap-6 bg-muted p-6 md:p-10"},E={class:"flex w-full max-w-sm flex-col gap-6"},K={class:"flex flex-col gap-6"},T={class:"grid gap-6"},z={class:""},A={class:"grid gap-2"},D={class:"grid gap-2"},F={class:"flex items-center"},H=v({__name:"login",setup(p){const n=P(),r=$(),i=c(""),u=c(""),m=c(!1);async function b(){var f,e;if(!i.value||!u.value){_.error("Please fill in all fields");return}try{m.value=!0,await r.login({email:i.value,password:u.value}),console.log("authStore: ",r),console.log("authStore user_type: ",(f=r.user)==null?void 0:f.user_type),((e=r.user)==null?void 0:e.user_type)=="superadmin"?(console.log("Masuk superadmin"),n.push("/admin/dashboard")):(console.log("Masuk else"),n.push("/dashboard"))}catch{_.error(r.error||"Invalid email or password")}finally{m.value=!1}}return(f,e)=>(w(),y("div",q,[s("div",E,[e[9]||(e[9]=s("a",{href:"#",class:"flex items-center gap-2 self-center font-medium"},[s("img",{src:k,alt:"Bemobile Logo",class:"h-14 w-auto"})],-1)),s("div",K,[t(a(L),null,{default:l(()=>[t(a(M),{class:"text-center"},{default:l(()=>[t(a(N),{class:"text-xl"},{default:l(()=>e[2]||(e[2]=[o(" Welcome back ")])),_:1}),t(a(j),null,{default:l(()=>e[3]||(e[3]=[o(" Login with your toyyibGold account ")])),_:1})]),_:1}),t(a(U),null,{default:l(()=>[s("form",null,[s("div",T,[s("div",z,[s("form",{onSubmit:B(b,["prevent"]),class:"grid gap-6"},[s("div",A,[t(a(x),{"html-for":"email"},{default:l(()=>e[4]||(e[4]=[o("Email / Username")])),_:1}),t(a(g),{id:"email",type:"text",modelValue:i.value,"onUpdate:modelValue":e[0]||(e[0]=d=>i.value=d),placeholder:"m@example.com",required:""},null,8,["modelValue"])]),s("div",D,[s("div",F,[t(a(x),{"html-for":"password"},{default:l(()=>e[5]||(e[5]=[o("Password")])),_:1}),e[6]||(e[6]=s("a",{href:"#",tabindex:"-1",class:"ml-auto text-sm underline-offset-4 hover:underline"}," Forgot your password? ",-1))]),t(a(g),{id:"password",type:"password",modelValue:u.value,"onUpdate:modelValue":e[1]||(e[1]=d=>u.value=d),required:""},null,8,["modelValue"])]),t(a(C),{type:"submit",class:"w-full",disabled:m.value},{default:l(()=>e[7]||(e[7]=[o(" Login ")])),_:1},8,["disabled"])],32)])])])]),_:1})]),_:1}),e[8]||(e[8]=s("div",{class:"text-balance text-center text-xs text-muted-foreground [&_a]:underline [&_a]:underline-offset-4 [&_a]:hover:text-primary"},[o(" By clicking continue, you agree to our "),s("a",{href:"#"},"Terms of Service"),o(" and "),s("a",{href:"#"},"Privacy Policy"),o(". ")],-1))])])]))}});export{H as default};
