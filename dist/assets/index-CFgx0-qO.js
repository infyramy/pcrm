import{n as ye,d as fe,r as _,D as xe,o as be,c as r,b as s,g as o,w as n,f as l,K as F,T as v,h as u,t as m,_ as f,a2 as U,Q as b,U as h,W as q,v as V,ad as Q,ae as A,af as he,ag as P,C as ke,k as _e,a5 as we,l as d,a6 as Se}from"./index-DWMcEsZL.js";import{_ as Ve,a as Ce}from"./CardContent.vue_vue_type_script_setup_true_lang-OghApYBC.js";import{_ as p,a as w}from"./Label.vue_vue_type_script_setup_true_lang-DUwXJ6qU.js";import{_ as M}from"./Textarea.vue_vue_type_script_setup_true_lang-B1BXL8iq.js";import{_ as $}from"./Switch.vue_vue_type_script_setup_true_lang-BrvouGco.js";import{_ as Y}from"./index-txvlkIOj.js";import{_ as Te,a as Ue,b as Ae,c as Fe,d as S}from"./SelectValue.vue_vue_type_script_setup_true_lang-BLeHKPe-.js";import{s as Pe,P as K}from"./sessionTypes-D0LkTppI.js";import{_ as Me,a as $e}from"./AddAddonModal.vue_vue_type_script_setup_true_lang-CA9j6q2M.js";import{_ as Re}from"./AddSessionTypeModal.vue_vue_type_script_setup_true_lang-BTPw92WO.js";import{I as G}from"./info-Cra0q8Yp.js";import{C as X}from"./check-CRExx-U7.js";import"./useFormControl-GFYNTmYm.js";import"./VisuallyHiddenInput-rnuKpFV6.js";import"./ohash.D__AXeF1-DHF4M4F_.js";import"./DialogTitle.vue_vue_type_script_setup_true_lang-C_3-4gPP.js";import"./DialogFooter.vue_vue_type_script_setup_true_lang-CFXF2yCi.js";/**
 * @license lucide-vue-next v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=ye("TrashIcon",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]),je={class:"min-h-screen flex items-center justify-center p-4"},De={class:"w-full max-w-4xl"},Ie={key:0,class:"space-y-6"},ze={class:"space-y-4"},Oe={key:1,class:"space-y-6"},Ye={key:0,class:"mb-6 p-4 bg-gradient-to-r from-blue-50 to-blue-50 dark:from-blue-900/20 dark:to-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg"},Be={class:"flex items-center justify-between"},Le={class:"flex items-center gap-3"},Ee={class:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center"},He={class:"text-sm font-semibold text-blue-800 dark:text-blue-200"},We={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},qe={class:"lg:col-span-2"},Qe={class:"flex items-center justify-between mb-4"},Ke={key:0,class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Ge={key:1,class:"max-h-96 overflow-y-auto pr-2 scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100"},Xe={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Je={class:"flex items-center justify-between"},Ze=["onClick"],es={class:"font-medium text-gray-900 dark:text-gray-100"},ss={class:"text-sm font-semibold text-gray-700 dark:text-gray-300"},ts={class:"flex items-center gap-2"},ls={key:2,class:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg"},os={class:"lg:col-span-1"},is={class:"sticky top-4"},as={class:"font-medium text-gray-900 dark:text-gray-100 mb-4"},ds={key:0,class:"text-sm font-normal text-gray-500"},ns={key:0,class:"space-y-4"},rs={class:"max-h-80 overflow-y-auto pr-2 scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100"},us={class:"space-y-3"},cs={class:"flex items-start justify-between mb-4"},ms={class:"flex-1"},ps={class:"font-semibold text-gray-900 dark:text-gray-100 mb-1"},vs={class:"flex items-center gap-2"},gs={class:"space-y-2"},ys={class:"relative"},fs={key:1,class:"text-center py-8 border-2 border-dashed border-gray-200 rounded-lg"},xs={key:2,class:"space-y-6"},bs={key:0,class:"mb-6 p-4 bg-gradient-to-r from-blue-50 to-blue-50 dark:from-blue-900/20 dark:to-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg"},hs={class:"flex items-center justify-between"},ks={class:"flex items-center gap-3"},_s={class:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center"},ws={class:"text-sm font-semibold text-blue-800 dark:text-blue-200"},Ss={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},Vs={class:"lg:col-span-2"},Cs={class:"flex items-center justify-between mb-4"},Ts={key:0,class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Us={key:1,class:"max-h-96 overflow-y-auto pr-2 scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100"},As={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Fs={class:"flex items-center justify-between"},Ps=["onClick"],Ms={class:"font-medium text-gray-900 dark:text-gray-100"},$s={class:"text-sm font-semibold text-gray-700 dark:text-gray-300"},Rs={class:"flex items-center gap-2"},Ns={key:2,class:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg"},js={class:"lg:col-span-1"},Ds={class:"sticky top-4"},Is={class:"font-medium text-gray-900 dark:text-gray-100 mb-4"},zs={key:0,class:"text-sm font-normal text-gray-500"},Os={key:0,class:"space-y-4"},Ys={class:"max-h-80 overflow-y-auto pr-2 scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100"},Bs={class:"space-y-3"},Ls={class:"flex items-start justify-between mb-4"},Es={class:"flex-1"},Hs={class:"font-semibold text-gray-900 dark:text-gray-100 mb-1"},Ws={class:"flex items-center gap-2 mb-2"},qs={class:"space-y-3"},Qs={class:"relative mt-1"},Ks={class:"flex items-center space-x-2"},Gs={key:0,class:"mt-3"},Xs={class:"mt-2 space-y-2"},Js=["id","onUpdate:modelValue","value"],Zs={key:1,class:"text-center py-8 border-2 border-dashed border-gray-200 rounded-lg"},et={key:3,class:"space-y-6"},st={class:"space-y-4"},tt={class:"flex items-center justify-between"},lt={class:"flex items-center justify-between"},ot={class:"grid grid-cols-1 md:grid-cols-2 gap-3"},it={class:"flex items-center space-x-4"},at={class:"flex items-center space-x-2"},dt={class:"flex items-center space-x-2"},nt={key:0,class:"mt-3"},rt={key:0,class:"text-center py-8 text-gray-500"},ut={key:4,class:"space-y-6"},ct={class:"space-y-6"},mt={class:"space-y-4"},pt={class:"space-y-3"},vt={class:"flex items-center space-x-2"},gt={key:0,class:"ml-6 space-y-3"},yt={class:"flex items-center space-x-2"},ft={class:"flex items-center space-x-2"},xt={key:5,class:"space-y-6"},bt={class:"space-y-6"},ht={key:6,class:"space-y-6"},kt={class:"space-y-6"},_t={class:"border rounded-lg p-6 bg-gray-50 dark:bg-gray-800"},wt={class:"space-y-4 max-h-96 overflow-y-auto"},St={class:"text-lg font-semibold"},Vt={class:"text-gray-600 dark:text-gray-400"},Ct={key:0},Tt={class:"font-medium"},Ut={class:"list-disc list-inside text-sm text-gray-600 dark:text-gray-400"},At={key:1},Ft={class:"font-medium"},Pt={class:"list-disc list-inside text-sm text-gray-600 dark:text-gray-400"},Mt={key:2},$t={class:"font-medium"},Rt={class:"list-disc list-inside text-sm text-gray-600 dark:text-gray-400"},Nt={class:"space-y-4"},jt={class:"space-y-3"},Dt={class:"flex items-center space-x-2"},It={class:"flex items-center space-x-2"},zt={class:"flex justify-end gap-4 pt-6 border-t"},Ot={key:1},Yt={class:"space-x-3"},Bt=fe({__name:"index",setup(Lt){const B=_e(),g=_(1),k=_([]),R=_(!1),C=_(!1),N=_(null),x=_([]),j=_(!1),T=_(!1),D=_(null),i=_({title:"",description:"",template:"",selectedSessionTypes:[],sessionTypes:[],selectedAddons:[],addons:[],customFields:[],termsAndConditions:"",termsCheckboxText:"I agree to the terms and conditions",priceSettings:{showPriceToClient:!0,priceDisplayMode:"per-item"},whatsappMessage:"",whatsappNumber:"",fallbackRedirectUrl:"",publishStatus:"draft"}),L=xe(()=>{switch(g.value){case 1:return i.value.title.trim()!=="";case 2:return i.value.selectedSessionTypes.length>0;case 3:return!0;case 4:return!0;case 5:return!0;case 6:return i.value.whatsappNumber.trim()!=="";default:return!0}}),J=()=>{g.value<7&&L.value&&g.value++},Z=()=>{g.value>1&&g.value--},ee=async()=>{try{R.value=!0;const a=await Pe.getSessionTypes();k.value=a.sessionTypes}catch(a){console.error("Error loading session types:",a),F.error("Failed to load session types")}finally{R.value=!1}},I=a=>i.value.selectedSessionTypes.some(e=>e.id===a),E=a=>{const e=i.value.selectedSessionTypes.findIndex(t=>t.id===a);if(e>-1)i.value.selectedSessionTypes.splice(e,1);else{const t=k.value.find(c=>c.id===a);i.value.selectedSessionTypes.push({id:a,customPrice:(t==null?void 0:t.price)||0})}},z=a=>{const e=k.value.find(t=>t.id===a);return(e==null?void 0:e.name)||"Unknown Session"},se=a=>{const e=i.value.selectedSessionTypes.find(c=>c.id===a);if((e==null?void 0:e.customPrice)!==void 0)return e.customPrice.toFixed(2);const t=k.value.find(c=>c.id===a);return(t==null?void 0:t.price.toFixed(2))||"0.00"},te=a=>{const e=k.value.find(t=>t.id===a);return(e==null?void 0:e.price.toFixed(2))||"0.00"},le=a=>{N.value=a,C.value=!0},oe=a=>{k.value.push(a),i.value.selectedSessionTypes.push({id:a.id,customPrice:a.price})},ie=a=>{const e=k.value.findIndex(t=>t.id===a.id);if(e>-1){k.value[e]=a;const t=i.value.selectedSessionTypes.findIndex(c=>c.id===a.id);t>-1&&(i.value.selectedSessionTypes[t].customPrice=a.price)}},ae=async()=>{try{j.value=!0;const a=await $e.getAddons();x.value=a.addons}catch(a){console.error("Error loading addons:",a),F.error("Failed to load add-ons")}finally{j.value=!1}},O=a=>i.value.selectedAddons.some(e=>e.id===a),H=a=>{const e=i.value.selectedAddons.findIndex(t=>t.id===a);if(e>-1)i.value.selectedAddons.splice(e,1);else{const t=x.value.find(c=>c.id===a);i.value.selectedAddons.push({id:a,customPrice:(t==null?void 0:t.price)||0,hasSessionRestriction:!1,availableForSessions:[]})}},W=a=>{const e=x.value.find(t=>t.id===a);return(e==null?void 0:e.name)||"Unknown Add-on"},de=a=>{const e=i.value.selectedAddons.find(c=>c.id===a);if((e==null?void 0:e.customPrice)!==void 0)return e.customPrice.toFixed(2);const t=x.value.find(c=>c.id===a);return(t==null?void 0:t.price.toFixed(2))||"0.00"},ne=a=>{const e=x.value.find(t=>t.id===a);return(e==null?void 0:e.price.toFixed(2))||"0.00"},re=a=>{const e=x.value.find(t=>t.id===a);return(e==null?void 0:e.maxQuantity)||1},ue=a=>{D.value=a,T.value=!0},ce=a=>{x.value.push(a),i.value.selectedAddons.push({id:a.id,customPrice:a.price,hasSessionRestriction:!1,availableForSessions:[]})},me=a=>{const e=x.value.findIndex(t=>t.id===a.id);if(e>-1){x.value[e]=a;const t=i.value.selectedAddons.findIndex(c=>c.id===a.id);t>-1&&(i.value.selectedAddons[t].customPrice=a.price)}},pe=()=>{i.value.customFields.push({label:"",type:"text",placeholder:"",required:!1,hasConditionalLogic:!1})},ve=a=>{i.value.customFields.splice(a,1)},ge=async()=>{try{console.log("Saving form:",i.value);const a=i.value.publishStatus==="published"?"published":"saved as draft";F.success(`Form ${a} successfully!`),B.push("/studio/forms")}catch(a){F.error("Failed to save form. Please try again."),console.error("Error saving form:",a)}};return be(()=>{ee(),ae()}),(a,e)=>(d(),r("div",je,[s("div",De,[o(l(Ve),{class:"my-8"},{default:n(()=>[o(l(Ce),{class:"p-6"},{default:n(()=>[g.value===1?(d(),r("div",Ie,[s("div",null,[e[21]||(e[21]=s("h2",{class:"text-xl font-semibold"},"Basic Information",-1)),e[22]||(e[22]=s("p",{class:"text-xs mb-4"}," Add the basic information for your form ",-1)),s("div",ze,[s("div",null,[o(l(p),{for:"title"},{default:n(()=>e[19]||(e[19]=[u("Form Title *")])),_:1}),o(l(w),{id:"title",modelValue:i.value.title,"onUpdate:modelValue":e[0]||(e[0]=t=>i.value.title=t),placeholder:"e.g., Wedding Photography Booking Form",class:"mt-1"},null,8,["modelValue"])]),s("div",null,[o(l(p),{for:"description"},{default:n(()=>e[20]||(e[20]=[u("Description / Intro Text")])),_:1}),o(l(M),{id:"description",modelValue:i.value.description,"onUpdate:modelValue":e[1]||(e[1]=t=>i.value.description=t),placeholder:"Welcome message or instructions for your clients...",class:"mt-1",rows:"3"},null,8,["modelValue"])])])])])):v("",!0),g.value===2?(d(),r("div",Oe,[s("div",null,[e[37]||(e[37]=s("h2",{class:"text-xl font-semibold mb-2"},"Session Types",-1)),e[38]||(e[38]=s("p",{class:"text-gray-600 dark:text-gray-400 mb-6"}," Choose the photography sessions your clients can book. You can customize the price for each session in your form. ",-1)),i.value.selectedSessionTypes.length>0?(d(),r("div",Ye,[s("div",Be,[s("div",Le,[s("div",Ee,[o(l(G),{class:"w-4 h-4 text-white"})]),s("div",null,[s("span",He,m(i.value.selectedSessionTypes.length)+" session"+m(i.value.selectedSessionTypes.length>1?"s":"")+" selected ",1),e[23]||(e[23]=s("p",{class:"text-xs text-blue-600 dark:text-blue-300"}," Ready to proceed to next step ",-1))])])])])):v("",!0),s("div",We,[s("div",qe,[s("div",Qe,[e[25]||(e[25]=s("h3",{class:"font-medium text-gray-900 dark:text-gray-100"}," Available Sessions ",-1)),o(l(f),{onClick:e[2]||(e[2]=t=>C.value=!0),variant:"outline",size:"sm"},{default:n(()=>[o(l(U),{class:"w-4 h-4 mr-2"}),e[24]||(e[24]=u(" Add New Session "))]),_:1})]),R.value?(d(),r("div",Ke,[(d(),r(b,null,h(4,t=>s("div",{key:t,class:"border rounded-lg p-4 animate-pulse"},e[26]||(e[26]=[s("div",{class:"h-4 bg-gray-200 rounded mb-2"},null,-1),s("div",{class:"h-3 bg-gray-200 rounded mb-3"},null,-1),s("div",{class:"h-6 bg-gray-200 rounded"},null,-1)]))),64))])):k.value.length>0?(d(),r("div",Ge,[s("div",Xe,[(d(!0),r(b,null,h(k.value,t=>(d(),r("div",{key:t.id,class:q(["border rounded-lg p-3 transition-colors group",{"border-blue-500 bg-blue-50 dark:bg-blue-900/20":I(t.id),"border-gray-200 hover:border-gray-300":!I(t.id)}])},[s("div",Je,[s("div",{onClick:c=>E(t.id),class:"flex-1 cursor-pointer"},[s("h4",es,m(t.name),1),s("div",ss," MYR "+m(t.price.toFixed(2)),1)],8,Ze),s("div",ts,[o(l(f),{onClick:c=>le(t),variant:"ghost",size:"sm",class:"opacity-0 group-hover:opacity-100 transition-opacity"},{default:n(()=>[o(l(K),{class:"w-4 h-4"})]),_:2},1032,["onClick"]),I(t.id)?(d(),V(l(X),{key:0,class:"w-5 h-5 text-blue-500"})):v("",!0)])])],2))),128))])])):(d(),r("div",ls,[e[28]||(e[28]=s("div",{class:"mb-4"},[s("svg",{class:"w-12 h-12 mx-auto text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})])],-1)),e[29]||(e[29]=s("h3",{class:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2"}," No session types available ",-1)),e[30]||(e[30]=s("p",{class:"text-gray-500 mb-4"}," Create your first session type to get started ",-1)),o(l(f),{onClick:e[3]||(e[3]=t=>C.value=!0),variant:"outline"},{default:n(()=>[o(l(U),{class:"w-4 h-4 mr-2"}),e[27]||(e[27]=u(" Add Session Type "))]),_:1})]))]),s("div",os,[s("div",is,[s("h3",as,[e[31]||(e[31]=u(" Selected Sessions ")),i.value.selectedSessionTypes.length>0?(d(),r("span",ds," ("+m(i.value.selectedSessionTypes.length)+") ",1)):v("",!0)]),i.value.selectedSessionTypes.length>0?(d(),r("div",ns,[s("div",rs,[s("div",us,[(d(!0),r(b,null,h(i.value.selectedSessionTypes,t=>(d(),r("div",{key:t.id,class:"p-4 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-sm hover:shadow-md transition-shadow"},[s("div",cs,[s("div",ms,[s("h5",ps,m(z(t.id)),1),s("div",vs,[e[32]||(e[32]=s("span",{class:"text-xs text-gray-500"},"Default:",-1)),o(l(Y),{variant:"outline",class:"text-xs px-2 py-0.5"},{default:n(()=>[u(" MYR "+m(te(t.id)),1)]),_:2},1024)])]),o(l(f),{onClick:c=>E(t.id),variant:"ghost",size:"sm",class:"text-gray-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 -mt-1 -mr-1"},{default:n(()=>[o(l(Q),{class:"w-4 h-4"})]),_:2},1032,["onClick"])]),s("div",gs,[o(l(p),{class:"text-sm font-medium text-gray-700 dark:text-gray-300"},{default:n(()=>e[33]||(e[33]=[u(" Form Price (MYR) ")])),_:1}),s("div",ys,[o(l(w),{modelValue:t.customPrice,"onUpdate:modelValue":c=>t.customPrice=c,modelModifiers:{number:!0},type:"number",step:"0.01",min:"0",placeholder:"0.00",class:"w-full pl-12"},null,8,["modelValue","onUpdate:modelValue"]),e[34]||(e[34]=s("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[s("span",{class:"text-gray-500 text-sm"},"MYR")],-1))]),e[35]||(e[35]=s("p",{class:"text-xs text-gray-500"}," This price will be shown to clients for this session ",-1))])]))),128))])])])):(d(),r("div",fs,e[36]||(e[36]=[s("div",{class:"mb-3"},[s("svg",{class:"w-8 h-8 mx-auto text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})])],-1),s("p",{class:"text-sm text-gray-500"}," Select sessions from the left to customize pricing ",-1)])))])])])])])):v("",!0),g.value===3?(d(),r("div",xs,[s("div",null,[e[56]||(e[56]=s("h2",{class:"text-xl font-semibold mb-2"},"Add-ons",-1)),e[57]||(e[57]=s("p",{class:"text-gray-600 dark:text-gray-400 mb-6"}," Optional items clients can add to their booking. You can customize the price for each add-on in your form. ",-1)),i.value.selectedAddons.length>0?(d(),r("div",bs,[s("div",hs,[s("div",ks,[s("div",_s,[o(l(G),{class:"w-4 h-4 text-white"})]),s("div",null,[s("span",ws,m(i.value.selectedAddons.length)+" add-on"+m(i.value.selectedAddons.length>1?"s":"")+" selected ",1),e[39]||(e[39]=s("p",{class:"text-xs text-blue-600 dark:text-blue-300"}," Optional add-ons configured ",-1))])])])])):v("",!0),s("div",Ss,[s("div",Vs,[s("div",Cs,[e[41]||(e[41]=s("h3",{class:"font-medium text-gray-900 dark:text-gray-100"}," Available Add-ons ",-1)),o(l(f),{onClick:e[4]||(e[4]=t=>T.value=!0),variant:"outline",size:"sm"},{default:n(()=>[o(l(U),{class:"w-4 h-4 mr-2"}),e[40]||(e[40]=u(" Add New Add-on "))]),_:1})]),j.value?(d(),r("div",Ts,[(d(),r(b,null,h(4,t=>s("div",{key:t,class:"border rounded-lg p-4 animate-pulse"},e[42]||(e[42]=[s("div",{class:"h-4 bg-gray-200 rounded mb-2"},null,-1),s("div",{class:"h-3 bg-gray-200 rounded mb-3"},null,-1),s("div",{class:"h-6 bg-gray-200 rounded"},null,-1)]))),64))])):x.value.length>0?(d(),r("div",Us,[s("div",As,[(d(!0),r(b,null,h(x.value,t=>(d(),r("div",{key:t.id,class:q(["border rounded-lg p-3 transition-colors group",{"border-blue-500 bg-blue-50 dark:bg-blue-900/20":O(t.id),"border-gray-200 hover:border-gray-300":!O(t.id)}])},[s("div",Fs,[s("div",{onClick:c=>H(t.id),class:"flex-1 cursor-pointer"},[s("h4",Ms,m(t.name),1),s("div",$s," MYR "+m(t.price.toFixed(2)),1)],8,Ps),s("div",Rs,[o(l(f),{onClick:c=>ue(t),variant:"ghost",size:"sm",class:"opacity-0 group-hover:opacity-100 transition-opacity"},{default:n(()=>[o(l(K),{class:"w-4 h-4"})]),_:2},1032,["onClick"]),O(t.id)?(d(),V(l(X),{key:0,class:"w-5 h-5 text-blue-500"})):v("",!0)])])],2))),128))])])):(d(),r("div",Ns,[e[44]||(e[44]=s("div",{class:"mb-4"},[s("svg",{class:"w-12 h-12 mx-auto text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})])],-1)),e[45]||(e[45]=s("h3",{class:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2"}," No add-ons available ",-1)),e[46]||(e[46]=s("p",{class:"text-gray-500 mb-4"}," Create your first add-on to get started ",-1)),o(l(f),{onClick:e[5]||(e[5]=t=>T.value=!0),variant:"outline"},{default:n(()=>[o(l(U),{class:"w-4 h-4 mr-2"}),e[43]||(e[43]=u(" Add Add-on "))]),_:1})]))]),s("div",js,[s("div",Ds,[s("h3",Is,[e[47]||(e[47]=u(" Selected Add-ons ")),i.value.selectedAddons.length>0?(d(),r("span",zs," ("+m(i.value.selectedAddons.length)+") ",1)):v("",!0)]),i.value.selectedAddons.length>0?(d(),r("div",Os,[s("div",Ys,[s("div",Bs,[(d(!0),r(b,null,h(i.value.selectedAddons,t=>(d(),r("div",{key:t.id,class:"p-4 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-sm hover:shadow-md transition-shadow"},[s("div",Ls,[s("div",Es,[s("h5",Hs,m(W(t.id)),1),s("div",Ws,[e[48]||(e[48]=s("span",{class:"text-xs text-gray-500"},"Default:",-1)),o(l(Y),{variant:"outline",class:"text-xs px-2 py-0.5"},{default:n(()=>[u(" MYR "+m(ne(t.id)),1)]),_:2},1024),e[49]||(e[49]=s("span",{class:"text-xs text-gray-500"},"Max:",-1)),o(l(Y),{variant:"outline",class:"text-xs px-2 py-0.5"},{default:n(()=>[u(m(re(t.id)),1)]),_:2},1024)])]),o(l(f),{onClick:c=>H(t.id),variant:"ghost",size:"sm",class:"text-gray-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 -mt-1 -mr-1"},{default:n(()=>[o(l(Q),{class:"w-4 h-4"})]),_:2},1032,["onClick"])]),s("div",qs,[s("div",null,[o(l(p),{class:"text-sm font-medium text-gray-700 dark:text-gray-300"},{default:n(()=>e[50]||(e[50]=[u(" Form Price (MYR) ")])),_:1}),s("div",Qs,[o(l(w),{modelValue:t.customPrice,"onUpdate:modelValue":c=>t.customPrice=c,modelModifiers:{number:!0},type:"number",step:"0.01",min:"0",placeholder:"0.00",class:"w-full pl-12"},null,8,["modelValue","onUpdate:modelValue"]),e[51]||(e[51]=s("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[s("span",{class:"text-gray-500 text-sm"},"MYR")],-1))]),e[52]||(e[52]=s("p",{class:"text-xs text-gray-500 mt-1"}," This price will be shown to clients for this add-on ",-1))]),s("div",Ks,[o(l($),{modelValue:t.hasSessionRestriction,"onUpdate:modelValue":c=>t.hasSessionRestriction=c},null,8,["modelValue","onUpdate:modelValue"]),o(l(p),{class:"text-sm"},{default:n(()=>e[53]||(e[53]=[u("Session specific")])),_:1})]),t.hasSessionRestriction?(d(),r("div",Gs,[o(l(p),{class:"text-sm"},{default:n(()=>e[54]||(e[54]=[u("Available for sessions:")])),_:1}),s("div",Xs,[(d(!0),r(b,null,h(i.value.selectedSessionTypes,c=>(d(),r("div",{key:c.id,class:"flex items-center space-x-2"},[A(s("input",{type:"checkbox",id:`addon-${t.id}-session-${c.id}`,"onUpdate:modelValue":y=>t.availableForSessions=y,value:c.id,class:"rounded"},null,8,Js),[[he,t.availableForSessions]]),o(l(p),{for:`addon-${t.id}-session-${c.id}`,class:"text-sm"},{default:n(()=>[u(m(z(c.id)),1)]),_:2},1032,["for"])]))),128))])])):v("",!0)])]))),128))])])])):(d(),r("div",Zs,e[55]||(e[55]=[s("div",{class:"mb-3"},[s("svg",{class:"w-8 h-8 mx-auto text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})])],-1),s("p",{class:"text-sm text-gray-500"}," Select add-ons from the left to customize pricing ",-1)])))])])])])])):v("",!0),g.value===4?(d(),r("div",et,[s("div",null,[e[72]||(e[72]=s("h2",{class:"text-xl font-semibold mb-4"},"Custom Fields",-1)),e[73]||(e[73]=s("p",{class:"text-gray-600 dark:text-gray-400 mb-4"}," Add fields to collect client information ",-1)),s("div",st,[s("div",tt,[e[59]||(e[59]=s("h3",{class:"font-medium"},"Form Fields",-1)),o(l(f),{onClick:pe,variant:"outline",size:"sm"},{default:n(()=>[o(l(U),{class:"w-4 h-4 mr-2"}),e[58]||(e[58]=u(" Add Field "))]),_:1})]),(d(!0),r(b,null,h(i.value.customFields,(t,c)=>(d(),r("div",{key:c,class:"border rounded-lg p-4 space-y-3"},[s("div",lt,[o(l(w),{modelValue:t.label,"onUpdate:modelValue":y=>t.label=y,placeholder:"Field label (e.g., Full Name, Email)",class:"flex-1 mr-3"},null,8,["modelValue","onUpdate:modelValue"]),o(l(f),{onClick:y=>ve(c),variant:"ghost",size:"sm"},{default:n(()=>[o(l(Ne),{class:"w-4 h-4"})]),_:2},1032,["onClick"])]),s("div",ot,[s("div",null,[o(l(p),null,{default:n(()=>e[60]||(e[60]=[u("Field Type")])),_:1}),o(l(Te),{modelValue:t.type,"onUpdate:modelValue":y=>t.type=y},{default:n(()=>[o(l(Ue),{class:"mt-1"},{default:n(()=>[o(l(Ae),{placeholder:"Select field type"})]),_:1}),o(l(Fe),null,{default:n(()=>[o(l(S),{value:"text"},{default:n(()=>e[61]||(e[61]=[u("Text")])),_:1}),o(l(S),{value:"email"},{default:n(()=>e[62]||(e[62]=[u("Email")])),_:1}),o(l(S),{value:"phone"},{default:n(()=>e[63]||(e[63]=[u("Phone")])),_:1}),o(l(S),{value:"date"},{default:n(()=>e[64]||(e[64]=[u("Date")])),_:1}),o(l(S),{value:"textarea"},{default:n(()=>e[65]||(e[65]=[u("Long Text")])),_:1}),o(l(S),{value:"file"},{default:n(()=>e[66]||(e[66]=[u("File Upload")])),_:1}),o(l(S),{value:"select"},{default:n(()=>e[67]||(e[67]=[u("Dropdown")])),_:1})]),_:1})]),_:2},1032,["modelValue","onUpdate:modelValue"])]),s("div",null,[o(l(p),null,{default:n(()=>e[68]||(e[68]=[u("Placeholder Text")])),_:1}),o(l(w),{modelValue:t.placeholder,"onUpdate:modelValue":y=>t.placeholder=y,placeholder:"Placeholder text...",class:"mt-1"},null,8,["modelValue","onUpdate:modelValue"])])]),s("div",it,[s("div",at,[o(l($),{modelValue:t.required,"onUpdate:modelValue":y=>t.required=y},null,8,["modelValue","onUpdate:modelValue"]),o(l(p),{class:"text-sm"},{default:n(()=>e[69]||(e[69]=[u("Required")])),_:1})]),s("div",dt,[o(l($),{modelValue:t.hasConditionalLogic,"onUpdate:modelValue":y=>t.hasConditionalLogic=y},null,8,["modelValue","onUpdate:modelValue"]),o(l(p),{class:"text-sm"},{default:n(()=>e[70]||(e[70]=[u("Conditional logic")])),_:1})])]),t.type==="select"?(d(),r("div",nt,[o(l(p),{class:"text-sm"},{default:n(()=>e[71]||(e[71]=[u("Options (one per line):")])),_:1}),o(l(M),{modelValue:t.options,"onUpdate:modelValue":y=>t.options=y,placeholder:`Option 1
Option 2
Option 3`,class:"mt-1",rows:"3"},null,8,["modelValue","onUpdate:modelValue"])])):v("",!0)]))),128)),i.value.customFields.length===0?(d(),r("div",rt,' No custom fields added yet. Click "Add Field" to get started. ')):v("",!0)])])])):v("",!0),g.value===5?(d(),r("div",ut,[s("div",null,[e[80]||(e[80]=s("h2",{class:"text-xl font-semibold mb-4"}," Terms & Conditions and Price Settings ",-1)),s("div",ct,[s("div",null,[o(l(p),{for:"terms"},{default:n(()=>e[74]||(e[74]=[u("Terms & Conditions")])),_:1}),o(l(M),{id:"terms",modelValue:i.value.termsAndConditions,"onUpdate:modelValue":e[6]||(e[6]=t=>i.value.termsAndConditions=t),placeholder:"Enter your terms and conditions...",class:"mt-1",rows:"6"},null,8,["modelValue"])]),s("div",null,[o(l(p),{for:"termsCheckboxText"},{default:n(()=>e[75]||(e[75]=[u("T&C Checkbox Text")])),_:1}),o(l(w),{id:"termsCheckboxText",modelValue:i.value.termsCheckboxText,"onUpdate:modelValue":e[7]||(e[7]=t=>i.value.termsCheckboxText=t),placeholder:"I agree to the terms and conditions",class:"mt-1"},null,8,["modelValue"])]),s("div",mt,[e[79]||(e[79]=s("h3",{class:"font-medium"},"Price Display Settings",-1)),s("div",pt,[s("div",vt,[o(l($),{modelValue:i.value.priceSettings.showPriceToClient,"onUpdate:modelValue":e[8]||(e[8]=t=>i.value.priceSettings.showPriceToClient=t)},null,8,["modelValue"]),o(l(p),null,{default:n(()=>e[76]||(e[76]=[u("Show price to client")])),_:1})]),i.value.priceSettings.showPriceToClient?(d(),r("div",gt,[s("div",yt,[A(s("input",{type:"radio",id:"showPerItem","onUpdate:modelValue":e[9]||(e[9]=t=>i.value.priceSettings.priceDisplayMode=t),value:"per-item",class:"rounded"},null,512),[[P,i.value.priceSettings.priceDisplayMode]]),o(l(p),{for:"showPerItem"},{default:n(()=>e[77]||(e[77]=[u("Show per-item prices")])),_:1})]),s("div",ft,[A(s("input",{type:"radio",id:"showTotalOnly","onUpdate:modelValue":e[10]||(e[10]=t=>i.value.priceSettings.priceDisplayMode=t),value:"total-only",class:"rounded"},null,512),[[P,i.value.priceSettings.priceDisplayMode]]),o(l(p),{for:"showTotalOnly"},{default:n(()=>e[78]||(e[78]=[u("Show total price only")])),_:1})])])):v("",!0)])])])])])):v("",!0),g.value===6?(d(),r("div",xt,[s("div",null,[e[86]||(e[86]=s("h2",{class:"text-xl font-semibold mb-4"}," WhatsApp Message & Redirect ",-1)),s("div",bt,[s("div",null,[o(l(p),{for:"whatsappMessage"},{default:n(()=>e[81]||(e[81]=[u("WhatsApp Pre-filled Message")])),_:1}),o(l(M),{id:"whatsappMessage",modelValue:i.value.whatsappMessage,"onUpdate:modelValue":e[11]||(e[11]=t=>i.value.whatsappMessage=t),placeholder:`Hi! I'm interested in booking a photography session. Here are my details:

Name: {name}
Session: {session_type}
Total Price: {total_price}

Please let me know the next steps!`,class:"mt-1",rows:"6"},null,8,["modelValue"]),e[82]||(e[82]=s("p",{class:"text-sm text-gray-500 mt-2"}," Available placeholders: {name}, {email}, {phone}, {session_type}, {total_price}, {date}, {location} ",-1))]),s("div",null,[o(l(p),{for:"whatsappNumber"},{default:n(()=>e[83]||(e[83]=[u("WhatsApp Number")])),_:1}),o(l(w),{id:"whatsappNumber",modelValue:i.value.whatsappNumber,"onUpdate:modelValue":e[12]||(e[12]=t=>i.value.whatsappNumber=t),placeholder:"+60123456789",class:"mt-1"},null,8,["modelValue"])]),s("div",null,[o(l(p),{for:"fallbackUrl"},{default:n(()=>e[84]||(e[84]=[u("Fallback Redirect URL (Optional)")])),_:1}),o(l(w),{id:"fallbackUrl",modelValue:i.value.fallbackRedirectUrl,"onUpdate:modelValue":e[13]||(e[13]=t=>i.value.fallbackRedirectUrl=t),placeholder:"https://your-website.com/thank-you",class:"mt-1"},null,8,["modelValue"]),e[85]||(e[85]=s("p",{class:"text-sm text-gray-500 mt-1"}," Used if WhatsApp redirect fails or on desktop devices ",-1))])])])])):v("",!0),g.value===7?(d(),r("div",ht,[s("div",null,[e[91]||(e[91]=s("h2",{class:"text-xl font-semibold mb-4"},"Review & Publish",-1)),s("div",kt,[s("div",_t,[e[87]||(e[87]=s("h3",{class:"font-medium mb-4"},"Form Preview",-1)),s("div",wt,[s("div",null,[s("h4",St,m(i.value.title||"Untitled Form"),1),s("p",Vt,m(i.value.description||"No description provided"),1)]),i.value.selectedSessionTypes.length>0?(d(),r("div",Ct,[s("h5",Tt," Session Types ("+m(i.value.selectedSessionTypes.length)+") ",1),s("ul",Ut,[(d(!0),r(b,null,h(i.value.selectedSessionTypes,t=>(d(),r("li",{key:t.id},m(z(t.id))+" - MYR "+m(se(t.id)),1))),128))])])):v("",!0),i.value.selectedAddons.length>0?(d(),r("div",At,[s("h5",Ft," Add-ons ("+m(i.value.selectedAddons.length)+") ",1),s("ul",Pt,[(d(!0),r(b,null,h(i.value.selectedAddons,t=>(d(),r("li",{key:t.id},m(W(t.id))+" - MYR "+m(de(t.id)),1))),128))])])):v("",!0),i.value.customFields.length>0?(d(),r("div",Mt,[s("h5",$t," Custom Fields ("+m(i.value.customFields.length)+") ",1),s("ul",Rt,[(d(!0),r(b,null,h(i.value.customFields,t=>(d(),r("li",{key:t.label},m(t.label)+" ("+m(t.type)+")"+m(t.required?" *":""),1))),128))])])):v("",!0)])]),s("div",Nt,[e[90]||(e[90]=s("h3",{class:"font-medium"},"Publish Options",-1)),s("div",jt,[s("div",Dt,[A(s("input",{type:"radio",id:"saveDraft","onUpdate:modelValue":e[14]||(e[14]=t=>i.value.publishStatus=t),value:"draft",class:"rounded"},null,512),[[P,i.value.publishStatus]]),o(l(p),{for:"saveDraft"},{default:n(()=>e[88]||(e[88]=[u("Save as Draft")])),_:1})]),s("div",It,[A(s("input",{type:"radio",id:"publish","onUpdate:modelValue":e[15]||(e[15]=t=>i.value.publishStatus=t),value:"published",class:"rounded"},null,512),[[P,i.value.publishStatus]]),o(l(p),{for:"publish"},{default:n(()=>e[89]||(e[89]=[u("Publish (Generate active link)")])),_:1})])])])])])])):v("",!0),s("div",zt,[g.value>1?(d(),V(l(f),{key:0,onClick:Z,variant:"outline"},{default:n(()=>[o(l(ke),{class:"w-4 h-4"}),e[92]||(e[92]=u(" Previous "))]),_:1})):(d(),r("div",Ot)),s("div",Yt,[g.value===1?(d(),V(l(f),{key:0,onClick:e[16]||(e[16]=t=>l(B).push("/studio/forms/create")),variant:"outline"},{default:n(()=>e[93]||(e[93]=[u(" Cancel ")])),_:1})):v("",!0),g.value<7?(d(),V(l(f),{key:1,onClick:J,disabled:!L.value},{default:n(()=>[u(m(g.value===1?"Continue":"Next")+" ",1),o(l(we),{class:"w-4 h-4"})]),_:1},8,["disabled"])):(d(),V(l(f),{key:2,onClick:ge,disabled:!i.value.title,class:"bg-green-600 hover:bg-green-700"},{default:n(()=>[u(m(i.value.publishStatus==="published"?"Publish Form":"Save Draft"),1)]),_:1},8,["disabled"]))])])]),_:1})]),_:1})]),o(Re,{"is-open":C.value,"editing-session":N.value,"onUpdate:open":e[17]||(e[17]=t=>{C.value=t,t||(N.value=null)}),onSessionAdded:oe,onSessionUpdated:ie},null,8,["is-open","editing-session"]),o(Me,{"is-open":T.value,"editing-addon":D.value,"onUpdate:open":e[18]||(e[18]=t=>{T.value=t,t||(D.value=null)}),onAddonAdded:ce,onAddonUpdated:me},null,8,["is-open","editing-addon"])]))}}),dl=Se(Bt,[["__scopeId","data-v-489bd520"]]);export{dl as default};
