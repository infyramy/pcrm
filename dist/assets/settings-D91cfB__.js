import{d as Y,r as V,o as X,c as _,v as G,T as D,g as t,b as s,f as l,w as a,_ as f,h as i,t as m,k as K,l as c}from"./index-C2UrP5hw.js";import{_ as Z}from"./PageHeader.vue_vue_type_script_setup_true_lang-B1Je6Lxx.js";import{_ as w}from"./index-BFTYKSG-.js";import{_ as p,a as y}from"./CardContent.vue_vue_type_script_setup_true_lang-eN_1_cPI.js";import{_ as C}from"./CardDescription.vue_vue_type_script_setup_true_lang-CMmCBcWv.js";import{_ as v,a as g}from"./CardTitle.vue_vue_type_script_setup_true_lang-Q0gFftlI.js";import{_ as R,a as S,b as A,c as M,d}from"./SelectValue.vue_vue_type_script_setup_true_lang-BJhQFqbJ.js";import{_ as b}from"./Input.vue_vue_type_script_setup_true_lang-CSZ-Dkyw.js";import{_ as u}from"./Label.vue_vue_type_script_setup_true_lang-DVjpD-L7.js";import{_ as U}from"./Textarea.vue_vue_type_script_setup_true_lang--1zaO6ew.js";import{_ as E}from"./Switch.vue_vue_type_script_setup_true_lang-Dig9Qbto.js";import{L as h}from"./LoadingPage-DgCemYQp.js";import"./check-CMqAtv7z.js";import"./ohash.D__AXeF1-DHF4M4F_.js";import"./useFormControl-BTKw-cda.js";import"./VisuallyHiddenInput-CveaDp_Q.js";const ee={class:"space-y-6"},te={class:"flex items-center justify-between"},le={class:"flex items-center gap-4"},ae={class:"flex items-center gap-2"},se={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},oe={class:"lg:col-span-2 space-y-6"},ie={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},ne={class:"space-y-4"},re={class:"text-sm text-gray-500 mt-1"},ue={class:"space-y-4"},me={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},de={class:"space-y-4"},fe={class:"space-y-4"},pe={class:"flex items-center space-x-2"},ye={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},ve={class:"space-y-4"},ge={class:"flex items-center space-x-2"},xe={class:"flex items-center space-x-2"},be={class:"space-y-4"},ce={key:0},we={class:"space-y-6"},Ce={class:"flex justify-between items-center"},ke={class:"flex justify-between items-center"},Ve={class:"flex justify-between items-center"},_e={class:"flex justify-between items-center"},Re={class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Se=["d"],Ae={class:"text-sm"},Me={class:"text-gray-600"},Ee={class:"text-sm"},Pe={class:"text-gray-600"},Te={class:"text-sm"},je={class:"text-gray-600"},Ge=Y({__name:"settings",setup(Be){const F=K(),k=V(!0),$=[{count:1,label:"Affiliates",href:"/studio/affiliates",action:!1},{count:2,label:"Settings",href:"/studio/affiliates/settings",action:!1}],o=V({defaultCommissionRate:10,defaultCommissionType:"percentage",autoPayoutEnabled:!1,minimumPayoutAmount:100,paymentTerms:"Commissions are paid monthly on the 1st of each month. Minimum payout amount is RM100.",minimumCommissionRate:5,maximumCommissionRate:25,payoutSchedule:"monthly",payoutDay:1,requireApproval:!0,allowSelfRegistration:!1,referralCodeFormat:"name-number",customReferralFormat:"{name}-{number}",affiliateAgreement:`By becoming an affiliate, you agree to:
1. Promote our services ethically and professionally
2. Comply with all applicable laws and regulations
3. Maintain confidentiality of business information
4. Report accurate referral information

Commission payments are subject to verification of bookings and completion of services.`,systemEnabled:!0}),P=V({totalAffiliates:8,activeAffiliates:6}),L=r=>new Intl.DateTimeFormat("en-MY",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(r),q=()=>{F.push("/studio/affiliates")},N=async()=>{try{console.log("Saving settings:",o.value),await new Promise(r=>setTimeout(r,1e3)),alert("Settings saved successfully!")}catch(r){console.error("Error saving settings:",r),alert("Error saving settings. Please try again.")}},H=()=>{confirm("Are you sure you want to reset all settings to defaults? This action cannot be undone.")&&(o.value={defaultCommissionRate:10,defaultCommissionType:"percentage",autoPayoutEnabled:!1,minimumPayoutAmount:100,paymentTerms:"Commissions are paid monthly on the 1st of each month. Minimum payout amount is RM100.",minimumCommissionRate:5,maximumCommissionRate:25,payoutSchedule:"monthly",payoutDay:1,requireApproval:!0,allowSelfRegistration:!1,referralCodeFormat:"name-number",customReferralFormat:"{name}-{number}",affiliateAgreement:`By becoming an affiliate, you agree to:
1. Promote our services ethically and professionally
2. Comply with all applicable laws and regulations
3. Maintain confidentiality of business information
4. Report accurate referral information

Commission payments are subject to verification of bookings and completion of services.`,systemEnabled:!0})},O=()=>{o.value.systemEnabled?confirm("Are you sure you want to disable the affiliate system? This will prevent new referrals and commissions.")&&(o.value.systemEnabled=!1):o.value.systemEnabled=!0},z=()=>{const r=JSON.stringify(o.value,null,2),e=new Blob([r],{type:"application/json"}),n=URL.createObjectURL(e),x=document.createElement("a");x.href=n,x.download="affiliate-settings.json",x.click(),URL.revokeObjectURL(n)},I=()=>{const r=document.createElement("input");r.type="file",r.accept=".json",r.onchange=e=>{var x;const n=(x=e.target.files)==null?void 0:x[0];if(n){const T=new FileReader;T.onload=W=>{var j;try{const B=JSON.parse((j=W.target)==null?void 0:j.result);o.value={...o.value,...B},alert("Settings imported successfully!")}catch{alert("Error importing settings. Please check the file format.")}},T.readAsText(n)}},r.click()},J=()=>{console.log("View system logs")},Q=async()=>{try{k.value=!0,await new Promise(r=>setTimeout(r,1e3))}catch(r){console.error("Error fetching settings:",r)}finally{k.value=!1}};return X(()=>{Q()}),(r,e)=>(c(),_("div",ee,[k.value?(c(),G(l(h),{key:0,title:"Loading settings",description:"We're fetching the affiliate system settings."})):D("",!0),t(Z,{breadcrumb:$}),s("div",te,[s("div",le,[t(l(f),{onClick:q,variant:"ghost",size:"sm",class:"flex items-center gap-2"},{default:a(()=>e[14]||(e[14]=[s("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1),i(" Back ")])),_:1}),e[15]||(e[15]=s("div",null,[s("h1",{class:"text-2xl font-semibold text-gray-900"}," Affiliate Settings "),s("p",{class:"text-sm text-gray-600 mt-1"}," Configure global affiliate system settings and policies ")],-1))]),s("div",ae,[t(l(f),{onClick:H,variant:"outline",class:"flex items-center gap-2"},{default:a(()=>e[16]||(e[16]=[s("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1),i(" Reset to Defaults ")])),_:1}),t(l(f),{onClick:N,class:"flex items-center gap-2"},{default:a(()=>e[17]||(e[17]=[s("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1),i(" Save Settings ")])),_:1})])]),s("div",se,[s("div",oe,[t(l(p),null,{default:a(()=>[t(l(v),null,{default:a(()=>[t(l(g),null,{default:a(()=>e[18]||(e[18]=[i("Default Commission Settings")])),_:1}),t(l(C),null,{default:a(()=>e[19]||(e[19]=[i(" Configure default commission rates for new affiliates ")])),_:1})]),_:1}),t(l(y),{class:"space-y-6"},{default:a(()=>[s("div",ie,[s("div",ne,[s("div",null,[t(l(u),{for:"defaultCommissionType"},{default:a(()=>e[20]||(e[20]=[i("Default Commission Type")])),_:1}),t(l(R),{modelValue:o.value.defaultCommissionType,"onUpdate:modelValue":e[0]||(e[0]=n=>o.value.defaultCommissionType=n)},{default:a(()=>[t(l(S),null,{default:a(()=>[t(l(A),{placeholder:"Select commission type"})]),_:1}),t(l(M),null,{default:a(()=>[t(l(d),{value:"percentage"},{default:a(()=>e[21]||(e[21]=[i("Percentage (%)")])),_:1}),t(l(d),{value:"fixed"},{default:a(()=>e[22]||(e[22]=[i("Fixed Amount (RM)")])),_:1})]),_:1})]),_:1},8,["modelValue"]),e[23]||(e[23]=s("p",{class:"text-sm text-gray-500 mt-1"}," Commission type applied to new affiliates by default ",-1))]),s("div",null,[t(l(u),{for:"defaultCommissionRate"},{default:a(()=>e[24]||(e[24]=[i("Default Commission Rate")])),_:1}),t(l(b),{modelValue:o.value.defaultCommissionRate,"onUpdate:modelValue":e[1]||(e[1]=n=>o.value.defaultCommissionRate=n),modelModifiers:{number:!0},type:"number",placeholder:o.value.defaultCommissionType==="percentage"?"10":"50"},null,8,["modelValue","placeholder"]),s("p",re,m(o.value.defaultCommissionType==="percentage"?"Percentage of booking value":"Fixed amount in RM"),1)])]),s("div",ue,[s("div",null,[t(l(u),{for:"minimumCommissionRate"},{default:a(()=>e[25]||(e[25]=[i("Minimum Commission Rate")])),_:1}),t(l(b),{modelValue:o.value.minimumCommissionRate,"onUpdate:modelValue":e[2]||(e[2]=n=>o.value.minimumCommissionRate=n),modelModifiers:{number:!0},type:"number",placeholder:"5"},null,8,["modelValue"]),e[26]||(e[26]=s("p",{class:"text-sm text-gray-500 mt-1"}," Minimum allowed commission rate for affiliates ",-1))]),s("div",null,[t(l(u),{for:"maximumCommissionRate"},{default:a(()=>e[27]||(e[27]=[i("Maximum Commission Rate")])),_:1}),t(l(b),{modelValue:o.value.maximumCommissionRate,"onUpdate:modelValue":e[3]||(e[3]=n=>o.value.maximumCommissionRate=n),modelModifiers:{number:!0},type:"number",placeholder:"25"},null,8,["modelValue"]),e[28]||(e[28]=s("p",{class:"text-sm text-gray-500 mt-1"}," Maximum allowed commission rate for affiliates ",-1))])])])]),_:1})]),_:1}),t(l(p),null,{default:a(()=>[t(l(v),null,{default:a(()=>[t(l(g),null,{default:a(()=>e[29]||(e[29]=[i("Payment Settings")])),_:1}),t(l(C),null,{default:a(()=>e[30]||(e[30]=[i(" Configure payout schedules and payment policies ")])),_:1})]),_:1}),t(l(y),{class:"space-y-6"},{default:a(()=>[s("div",me,[s("div",de,[s("div",null,[t(l(u),{for:"minimumPayout"},{default:a(()=>e[31]||(e[31]=[i("Minimum Payout Amount (RM)")])),_:1}),t(l(b),{modelValue:o.value.minimumPayoutAmount,"onUpdate:modelValue":e[4]||(e[4]=n=>o.value.minimumPayoutAmount=n),modelModifiers:{number:!0},type:"number",placeholder:"100"},null,8,["modelValue"]),e[32]||(e[32]=s("p",{class:"text-sm text-gray-500 mt-1"}," Minimum amount before payout is processed ",-1))]),s("div",null,[t(l(u),{for:"payoutSchedule"},{default:a(()=>e[33]||(e[33]=[i("Payout Schedule")])),_:1}),t(l(R),{modelValue:o.value.payoutSchedule,"onUpdate:modelValue":e[5]||(e[5]=n=>o.value.payoutSchedule=n)},{default:a(()=>[t(l(S),null,{default:a(()=>[t(l(A),{placeholder:"Select payout schedule"})]),_:1}),t(l(M),null,{default:a(()=>[t(l(d),{value:"weekly"},{default:a(()=>e[34]||(e[34]=[i("Weekly")])),_:1}),t(l(d),{value:"bi-weekly"},{default:a(()=>e[35]||(e[35]=[i("Bi-weekly")])),_:1}),t(l(d),{value:"monthly"},{default:a(()=>e[36]||(e[36]=[i("Monthly")])),_:1}),t(l(d),{value:"quarterly"},{default:a(()=>e[37]||(e[37]=[i("Quarterly")])),_:1})]),_:1})]),_:1},8,["modelValue"])])]),s("div",fe,[s("div",null,[t(l(u),{for:"payoutDay"},{default:a(()=>e[38]||(e[38]=[i("Payout Day")])),_:1}),t(l(b),{modelValue:o.value.payoutDay,"onUpdate:modelValue":e[6]||(e[6]=n=>o.value.payoutDay=n),modelModifiers:{number:!0},type:"number",min:"1",max:"31",placeholder:"1"},null,8,["modelValue"]),e[39]||(e[39]=s("p",{class:"text-sm text-gray-500 mt-1"}," Day of the month for automatic payouts ",-1))]),s("div",pe,[t(l(E),{modelValue:o.value.autoPayoutEnabled,"onUpdate:modelValue":e[7]||(e[7]=n=>o.value.autoPayoutEnabled=n),id:"auto-payout"},null,8,["modelValue"]),t(l(u),{for:"auto-payout"},{default:a(()=>e[40]||(e[40]=[i("Enable Automatic Payouts")])),_:1})])])])]),_:1})]),_:1}),t(l(p),null,{default:a(()=>[t(l(v),null,{default:a(()=>[t(l(g),null,{default:a(()=>e[41]||(e[41]=[i("Affiliate Management")])),_:1}),t(l(C),null,{default:a(()=>e[42]||(e[42]=[i(" Configure affiliate onboarding and approval settings ")])),_:1})]),_:1}),t(l(y),{class:"space-y-6"},{default:a(()=>[s("div",ye,[s("div",ve,[s("div",ge,[t(l(E),{modelValue:o.value.requireApproval,"onUpdate:modelValue":e[8]||(e[8]=n=>o.value.requireApproval=n),id:"require-approval"},null,8,["modelValue"]),t(l(u),{for:"require-approval"},{default:a(()=>e[43]||(e[43]=[i("Require Manual Approval")])),_:1})]),e[45]||(e[45]=s("p",{class:"text-sm text-gray-500"}," New affiliates require manual approval before activation ",-1)),s("div",xe,[t(l(E),{modelValue:o.value.allowSelfRegistration,"onUpdate:modelValue":e[9]||(e[9]=n=>o.value.allowSelfRegistration=n),id:"self-registration"},null,8,["modelValue"]),t(l(u),{for:"self-registration"},{default:a(()=>e[44]||(e[44]=[i("Allow Self Registration")])),_:1})]),e[46]||(e[46]=s("p",{class:"text-sm text-gray-500"}," Allow new affiliates to register themselves ",-1))]),s("div",be,[s("div",null,[t(l(u),{for:"referralCodeFormat"},{default:a(()=>e[47]||(e[47]=[i("Referral Code Format")])),_:1}),t(l(R),{modelValue:o.value.referralCodeFormat,"onUpdate:modelValue":e[10]||(e[10]=n=>o.value.referralCodeFormat=n)},{default:a(()=>[t(l(S),null,{default:a(()=>[t(l(A),{placeholder:"Select format"})]),_:1}),t(l(M),null,{default:a(()=>[t(l(d),{value:"name-number"},{default:a(()=>e[48]||(e[48]=[i("Name + Number (ABC001)")])),_:1}),t(l(d),{value:"random"},{default:a(()=>e[49]||(e[49]=[i("Random (XY7B2M)")])),_:1}),t(l(d),{value:"custom"},{default:a(()=>e[50]||(e[50]=[i("Custom Format")])),_:1})]),_:1})]),_:1},8,["modelValue"])]),o.value.referralCodeFormat==="custom"?(c(),_("div",ce,[t(l(u),{for:"customFormat"},{default:a(()=>e[51]||(e[51]=[i("Custom Format")])),_:1}),t(l(b),{modelValue:o.value.customReferralFormat,"onUpdate:modelValue":e[11]||(e[11]=n=>o.value.customReferralFormat=n),placeholder:"{name}-{number}"},null,8,["modelValue"]),e[52]||(e[52]=s("p",{class:"text-sm text-gray-500 mt-1"}," Use {name} and {number} as placeholders ",-1))])):D("",!0)])])]),_:1})]),_:1}),t(l(p),null,{default:a(()=>[t(l(v),null,{default:a(()=>[t(l(g),null,{default:a(()=>e[53]||(e[53]=[i("Terms and Conditions")])),_:1}),t(l(C),null,{default:a(()=>e[54]||(e[54]=[i(" Configure payment terms and affiliate agreements ")])),_:1})]),_:1}),t(l(y),{class:"space-y-4"},{default:a(()=>[s("div",null,[t(l(u),{for:"paymentTerms"},{default:a(()=>e[55]||(e[55]=[i("Payment Terms")])),_:1}),t(l(U),{modelValue:o.value.paymentTerms,"onUpdate:modelValue":e[12]||(e[12]=n=>o.value.paymentTerms=n),placeholder:"Enter payment terms and conditions...",rows:"6"},null,8,["modelValue"])]),s("div",null,[t(l(u),{for:"affiliateAgreement"},{default:a(()=>e[56]||(e[56]=[i("Affiliate Agreement")])),_:1}),t(l(U),{modelValue:o.value.affiliateAgreement,"onUpdate:modelValue":e[13]||(e[13]=n=>o.value.affiliateAgreement=n),placeholder:"Enter affiliate agreement terms...",rows:"6"},null,8,["modelValue"])])]),_:1})]),_:1})]),s("div",we,[t(l(p),null,{default:a(()=>[t(l(v),null,{default:a(()=>[t(l(g),null,{default:a(()=>e[57]||(e[57]=[i("System Status")])),_:1})]),_:1}),t(l(y),{class:"space-y-4"},{default:a(()=>[s("div",Ce,[e[58]||(e[58]=s("span",{class:"text-sm text-gray-600"},"Affiliate System",-1)),t(l(w),{variant:o.value.systemEnabled?"default":"secondary"},{default:a(()=>[i(m(o.value.systemEnabled?"Enabled":"Disabled"),1)]),_:1},8,["variant"])]),s("div",ke,[e[59]||(e[59]=s("span",{class:"text-sm text-gray-600"},"Auto Payouts",-1)),t(l(w),{variant:o.value.autoPayoutEnabled?"default":"secondary"},{default:a(()=>[i(m(o.value.autoPayoutEnabled?"Enabled":"Disabled"),1)]),_:1},8,["variant"])]),s("div",Ve,[e[60]||(e[60]=s("span",{class:"text-sm text-gray-600"},"Self Registration",-1)),t(l(w),{variant:o.value.allowSelfRegistration?"default":"secondary"},{default:a(()=>[i(m(o.value.allowSelfRegistration?"Enabled":"Disabled"),1)]),_:1},8,["variant"])]),s("div",_e,[e[61]||(e[61]=s("span",{class:"text-sm text-gray-600"},"Manual Approval",-1)),t(l(w),{variant:o.value.requireApproval?"default":"secondary"},{default:a(()=>[i(m(o.value.requireApproval?"Required":"Not Required"),1)]),_:1},8,["variant"])])]),_:1})]),_:1}),t(l(p),null,{default:a(()=>[t(l(v),null,{default:a(()=>[t(l(g),null,{default:a(()=>e[62]||(e[62]=[i("Quick Actions")])),_:1})]),_:1}),t(l(y),{class:"space-y-3"},{default:a(()=>[t(l(f),{onClick:O,variant:o.value.systemEnabled?"destructive":"default",class:"w-full justify-start"},{default:a(()=>[(c(),_("svg",Re,[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:o.value.systemEnabled?"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728L5.636 5.636m12.728 12.728L18.364 5.636M5.636 18.364l12.728-12.728":"M12 4v16m8-8H4"},null,8,Se)])),i(" "+m(o.value.systemEnabled?"Disable System":"Enable System"),1)]),_:1},8,["variant"]),t(l(f),{onClick:z,variant:"outline",class:"w-full justify-start"},{default:a(()=>e[63]||(e[63]=[s("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),i(" Export Settings ")])),_:1}),t(l(f),{onClick:I,variant:"outline",class:"w-full justify-start"},{default:a(()=>e[64]||(e[64]=[s("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10"})],-1),i(" Import Settings ")])),_:1}),t(l(f),{onClick:J,variant:"outline",class:"w-full justify-start"},{default:a(()=>e[65]||(e[65]=[s("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),i(" View System Logs ")])),_:1})]),_:1})]),_:1}),t(l(p),null,{default:a(()=>[t(l(v),null,{default:a(()=>[t(l(g),null,{default:a(()=>e[66]||(e[66]=[i("System Information")])),_:1})]),_:1}),t(l(y),{class:"space-y-3"},{default:a(()=>[s("div",Ae,[e[67]||(e[67]=s("div",{class:"font-medium text-gray-900"},"Last Updated",-1)),s("div",Me,m(L(new Date)),1)]),e[70]||(e[70]=s("div",{class:"text-sm"},[s("div",{class:"font-medium text-gray-900"},"Configuration Version"),s("div",{class:"text-gray-600"},"v1.0.0")],-1)),s("div",Ee,[e[68]||(e[68]=s("div",{class:"font-medium text-gray-900"},"Total Affiliates",-1)),s("div",Pe,m(P.value.totalAffiliates),1)]),s("div",Te,[e[69]||(e[69]=s("div",{class:"font-medium text-gray-900"},"Active Affiliates",-1)),s("div",je,m(P.value.activeAffiliates),1)])]),_:1})]),_:1})])])]))}});export{Ge as default};
