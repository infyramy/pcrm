import{d as U,D as S,ag as M,r as g,H as R,o as q,c as i,e as F,T as x,g as o,b as t,f as s,w as r,K as w,$ as J,h as n,ac as E,t as L,_,k as j,l,ab as H}from"./index-C2UrP5hw.js";import{_ as P,a as V}from"./CardContent.vue_vue_type_script_setup_true_lang-eN_1_cPI.js";import{_ as K,S as X,L as Y}from"./CardFooter.vue_vue_type_script_setup_true_lang-CJCkOrCH.js";import{_ as D,a as $}from"./CardTitle.vue_vue_type_script_setup_true_lang-Q0gFftlI.js";import{_ as z}from"./Input.vue_vue_type_script_setup_true_lang-CSZ-Dkyw.js";import{_ as u}from"./Label.vue_vue_type_script_setup_true_lang-DVjpD-L7.js";import{_ as G}from"./Textarea.vue_vue_type_script_setup_true_lang--1zaO6ew.js";import{_ as h}from"./Switch.vue_vue_type_script_setup_true_lang-Dig9Qbto.js";import{a as Q,_ as A}from"./RadioGroupItem.vue_vue_type_script_setup_true_lang-DOekR19Z.js";import{C as p}from"./check-CMqAtv7z.js";import{I as W}from"./info-fY2g-SHG.js";import{A as Z}from"./arrow-right-eDIw2xme.js";import"./useFormControl-BTKw-cda.js";import"./VisuallyHiddenInput-CveaDp_Q.js";import"./RovingFocusItem-CwJVmJ5Q.js";import"./ohash.D__AXeF1-DHF4M4F_.js";const ee={class:"space-y-6"},te={key:0,class:"p-4 bg-gradient-to-r from-green-50 to-green-50 dark:from-green-900/20 dark:to-green-900/20 border border-green-200 dark:border-green-800 rounded-lg"},se={class:"flex items-center gap-3"},oe={class:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center"},ae={class:"flex items-center gap-3"},re={class:"p-2 bg-blue-100 dark:bg-blue-900/20 rounded-lg"},ie={class:"space-y-6"},le={class:"space-y-4"},ne={class:"space-y-4 pt-6 border-t border-gray-200 dark:border-gray-700"},de={class:"space-y-4"},ue={class:"flex items-center space-x-3"},me={key:0,class:"ml-6 space-y-4 p-4 bg-gray-50 dark:bg-gray-800 rounded-lg border"},pe={class:"flex items-start space-x-3"},ce={class:"flex-1"},fe={class:"flex items-start space-x-3"},ge={class:"flex-1"},xe={key:1,class:"ml-6 p-4 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg"},ve={class:"flex items-start gap-3"},ye={class:"space-y-4 pt-6 border-t border-gray-200 dark:border-gray-700"},be={class:"space-y-4"},ke={class:"flex items-center space-x-3"},we={class:"flex items-center space-x-3"},_e={class:"pt-6 border-t border-gray-200 dark:border-gray-700"},he={class:"p-6 bg-gray-50 dark:bg-gray-800 rounded-lg border"},Ce={class:"space-y-4"},Te={key:0,class:"space-y-2"},Se={class:"text-sm text-muted-foreground"},Pe={key:0,class:"flex items-center gap-2"},Ve={key:1,class:"flex items-center gap-2"},De={key:1,class:"space-y-2"},$e={class:"text-sm text-muted-foreground flex items-center gap-2"},Ae={key:2,class:"space-y-2"},Ne={class:"flex items-center space-x-2"},Ie={class:"text-sm text-muted-foreground"},Oe={class:"flex items-center gap-2 text-sm text-muted-foreground"},Be={class:"flex items-center gap-1"},Ue={key:0,class:"w-2 h-2 bg-green-500 rounded-full"},Me={key:1,class:"w-2 h-2 bg-orange-500 rounded-full"},Re={key:2,class:"w-2 h-2 bg-muted-foreground rounded-full"},qe={key:0},Fe={key:1},Je={key:2},Ee={class:"flex items-center gap-3"},Le={key:0,class:"flex items-center gap-2"},je={key:1,class:"flex items-center gap-2"},He={key:0,class:"flex items-center gap-2"},Ke={key:1,class:"flex items-center gap-2"},Xe={class:"flex items-center gap-3"},Ye={class:"p-2 bg-amber-100 dark:bg-amber-900/20 rounded-lg"},ze={class:"space-y-2 text-sm text-muted-foreground"},Ge={class:"flex items-start gap-2"},Qe={class:"flex items-start gap-2"},We={class:"flex items-start gap-2"},Ze={class:"flex items-start gap-2"},et=U({__name:"index",setup(tt){const C=j(),N=M(),T=S(()=>N.params.id),a=g({termsAndConditions:"",termsCheckboxText:"I agree to the terms and conditions",requireTermsAcceptance:!0,showPriceBreakdown:!0,priceSettings:{showPriceToClient:!0,priceDisplayMode:"per-item"}}),v=g({termsAndConditions:"",termsCheckboxText:"I agree to the terms and conditions",requireTermsAcceptance:!0,showPriceBreakdown:!0,priceSettings:{showPriceToClient:!0,priceDisplayMode:"per-item"}}),m=g(!1),c=g(!1),y=S(()=>JSON.stringify(a.value)!==JSON.stringify(v.value));let b=null;const I=()=>{b&&clearTimeout(b),b=setTimeout(()=>{y.value&&k(!0)},3e3)};R(()=>a.value,()=>{c.value=!1,I()},{deep:!0});const O=async()=>{try{console.log("Loading form data for ID:",T.value),v.value=JSON.parse(JSON.stringify(a.value)),c.value=!0}catch(f){console.error("Error loading form data:",f),w.error("Failed to load form data")}},k=async(f=!1)=>{try{m.value=!0,console.log("Saving terms and price settings:",a.value),await new Promise(e=>setTimeout(e,1e3)),v.value=JSON.parse(JSON.stringify(a.value)),c.value=!0,f||w.success("Settings saved successfully!")}catch(e){console.error("Error saving settings:",e),f||w.error("Failed to save settings. Please try again.")}finally{m.value=!1}},B=async()=>{await k(),c.value&&C.push(`/studio/forms/${T.value}/preview`)};return q(()=>{O()}),(f,e)=>(l(),i("div",ee,[e[46]||(e[46]=F('<div class="space-y-2" data-v-abf80aa5><h1 class="text-2xl font-bold text-foreground" data-v-abf80aa5>Terms &amp; Conditions</h1><p class="text-muted-foreground" data-v-abf80aa5> Configure your terms and conditions and pricing display settings for your booking form. </p></div><div class="flex items-center gap-2 text-sm text-muted-foreground" data-v-abf80aa5><div class="flex items-center gap-1" data-v-abf80aa5><div class="w-2 h-2 bg-primary rounded-full" data-v-abf80aa5></div><span data-v-abf80aa5>Step 5 of 6</span></div><span data-v-abf80aa5>â€¢</span><span data-v-abf80aa5>Terms &amp; Pricing Settings</span></div>',2)),a.value.termsAndConditions||a.value.termsCheckboxText?(l(),i("div",te,[t("div",se,[t("div",oe,[o(s(p),{class:"w-4 h-4 text-white"})]),e[7]||(e[7]=t("div",null,[t("span",{class:"text-sm font-semibold text-green-800 dark:text-green-200"}," Terms configured "),t("p",{class:"text-xs text-green-600 dark:text-green-300"}," Ready to proceed to next step ")],-1))])])):x("",!0),o(s(P),null,{default:r(()=>[o(s(D),null,{default:r(()=>[t("div",ae,[t("div",re,[o(s(J),{class:"w-5 h-5 text-blue-600 dark:text-blue-400"})]),t("div",null,[o(s($),null,{default:r(()=>e[8]||(e[8]=[n("Terms & Conditions Settings")])),_:1}),e[9]||(e[9]=t("p",{class:"text-sm text-muted-foreground mt-1"}," Define your terms and configure how pricing is displayed to clients ",-1))])])]),_:1}),o(s(V),null,{default:r(()=>[t("div",ie,[t("div",le,[t("div",null,[o(s(u),{for:"terms",class:"text-base font-medium"},{default:r(()=>e[10]||(e[10]=[n("Terms & Conditions")])),_:1}),e[11]||(e[11]=t("p",{class:"text-sm text-muted-foreground mt-1 mb-3"}," Define the terms and conditions that clients must agree to when booking your services. ",-1)),o(s(G),{id:"terms",modelValue:a.value.termsAndConditions,"onUpdate:modelValue":e[0]||(e[0]=d=>a.value.termsAndConditions=d),placeholder:"Enter your terms and conditions...",class:"min-h-[120px]",rows:"6"},null,8,["modelValue"])]),t("div",null,[o(s(u),{for:"termsCheckboxText",class:"text-base font-medium"},{default:r(()=>e[12]||(e[12]=[n("T&C Checkbox Text")])),_:1}),e[13]||(e[13]=t("p",{class:"text-sm text-muted-foreground mt-1 mb-3"}," This text will appear next to the checkbox that clients must check. ",-1)),o(s(z),{id:"termsCheckboxText",modelValue:a.value.termsCheckboxText,"onUpdate:modelValue":e[1]||(e[1]=d=>a.value.termsCheckboxText=d),placeholder:"I agree to the terms and conditions"},null,8,["modelValue"])])]),t("div",ne,[e[22]||(e[22]=t("div",null,[t("h3",{class:"text-lg font-semibold text-gray-900 dark:text-gray-100"},"Price Display Settings"),t("p",{class:"text-sm text-muted-foreground mt-1"}," Configure how pricing information is displayed to your clients. ")],-1)),t("div",de,[t("div",ue,[o(s(h),{modelValue:a.value.priceSettings.showPriceToClient,"onUpdate:modelValue":e[2]||(e[2]=d=>a.value.priceSettings.showPriceToClient=d)},null,8,["modelValue"]),t("div",null,[o(s(u),{class:"text-base font-medium"},{default:r(()=>e[14]||(e[14]=[n("Show price to client")])),_:1}),e[15]||(e[15]=t("p",{class:"text-sm text-muted-foreground"}," Display pricing information in the booking form ",-1))])]),a.value.priceSettings.showPriceToClient?(l(),i("div",me,[t("div",null,[o(s(u),{class:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3 block"},{default:r(()=>e[16]||(e[16]=[n(" Price Display Mode ")])),_:1}),o(s(Q),{modelValue:a.value.priceSettings.priceDisplayMode,"onUpdate:modelValue":e[3]||(e[3]=d=>a.value.priceSettings.priceDisplayMode=d),class:"space-y-3"},{default:r(()=>[t("div",pe,[o(s(A),{id:"showPerItem",value:"per-item",class:"mt-1"}),t("div",ce,[o(s(u),{for:"showPerItem",class:"font-medium cursor-pointer"},{default:r(()=>e[17]||(e[17]=[n("Show per-item prices")])),_:1}),e[18]||(e[18]=t("p",{class:"text-xs text-muted-foreground mt-1"}," Display individual prices for each session type and add-on ",-1))])]),t("div",fe,[o(s(A),{id:"showTotalOnly",value:"total-only",class:"mt-1"}),t("div",ge,[o(s(u),{for:"showTotalOnly",class:"font-medium cursor-pointer"},{default:r(()=>e[19]||(e[19]=[n("Show total price only")])),_:1}),e[20]||(e[20]=t("p",{class:"text-xs text-muted-foreground mt-1"}," Display only the final total price to clients ",-1))])])]),_:1},8,["modelValue"])])])):x("",!0),a.value.priceSettings.showPriceToClient?x("",!0):(l(),i("div",xe,[t("div",ve,[o(s(W),{class:"w-5 h-5 text-yellow-600 dark:text-yellow-400 mt-0.5 flex-shrink-0"}),e[21]||(e[21]=t("div",null,[t("p",{class:"text-sm font-medium text-yellow-800 dark:text-yellow-200"}," Prices Hidden "),t("p",{class:"text-sm text-yellow-700 dark:text-yellow-300 mt-1"}," Clients won't see any pricing information. You can discuss pricing privately after they submit the form. ")],-1))])]))])]),t("div",ye,[e[27]||(e[27]=t("div",null,[t("h3",{class:"text-lg font-semibold text-gray-900 dark:text-gray-100"},"Additional Settings"),t("p",{class:"text-sm text-muted-foreground mt-1"}," Configure additional form behavior and display options. ")],-1)),t("div",be,[t("div",ke,[o(s(h),{modelValue:a.value.requireTermsAcceptance,"onUpdate:modelValue":e[4]||(e[4]=d=>a.value.requireTermsAcceptance=d)},null,8,["modelValue"]),t("div",null,[o(s(u),{class:"text-base font-medium"},{default:r(()=>e[23]||(e[23]=[n("Require terms acceptance")])),_:1}),e[24]||(e[24]=t("p",{class:"text-sm text-muted-foreground"}," Force clients to accept terms and conditions before submitting the form ",-1))])]),t("div",we,[o(s(h),{modelValue:a.value.showPriceBreakdown,"onUpdate:modelValue":e[5]||(e[5]=d=>a.value.showPriceBreakdown=d)},null,8,["modelValue"]),t("div",null,[o(s(u),{class:"text-base font-medium"},{default:r(()=>e[25]||(e[25]=[n("Show price breakdown")])),_:1}),e[26]||(e[26]=t("p",{class:"text-sm text-muted-foreground"}," Display detailed breakdown of session types and add-ons in the summary ",-1))])])])]),t("div",_e,[t("div",he,[e[35]||(e[35]=t("h3",{class:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4"},"Preview",-1)),t("div",Ce,[a.value.priceSettings.showPriceToClient?(l(),i("div",Te,[e[30]||(e[30]=t("h4",{class:"text-sm font-medium text-gray-900 dark:text-gray-100"},"Price Display:",-1)),t("div",Se,[a.value.priceSettings.priceDisplayMode==="per-item"?(l(),i("span",Pe,[o(s(p),{class:"w-4 h-4 text-green-500"}),e[28]||(e[28]=n(" Individual prices will be shown for each item "))])):(l(),i("span",Ve,[o(s(p),{class:"w-4 h-4 text-green-500"}),e[29]||(e[29]=n(" Only total price will be displayed "))]))])])):(l(),i("div",De,[e[32]||(e[32]=t("h4",{class:"text-sm font-medium text-gray-900 dark:text-gray-100"},"Price Display:",-1)),t("div",$e,[o(s(E),{class:"w-4 h-4 text-red-500"}),e[31]||(e[31]=n(" No pricing information will be shown "))])])),a.value.termsCheckboxText?(l(),i("div",Ae,[e[34]||(e[34]=t("h4",{class:"text-sm font-medium text-gray-900 dark:text-gray-100"},"Terms Checkbox:",-1)),t("div",Ne,[e[33]||(e[33]=t("input",{type:"checkbox",disabled:"",class:"rounded"},null,-1)),t("span",Ie,L(a.value.termsCheckboxText),1)])])):x("",!0)])])])])]),_:1}),o(s(K),{class:"flex items-center justify-between bg-muted/30"},{default:r(()=>[t("div",Oe,[t("div",Be,[c.value?(l(),i("div",Ue)):y.value?(l(),i("div",Me)):(l(),i("div",Re))]),c.value?(l(),i("span",qe,"Saved")):y.value?(l(),i("span",Fe,"Unsaved changes")):(l(),i("span",Je,"Ready to save"))]),t("div",Ee,[o(s(_),{onClick:e[6]||(e[6]=d=>s(C).back()),variant:"outline",disabled:m.value},{default:r(()=>e[36]||(e[36]=[n(" Back ")])),_:1},8,["disabled"]),o(s(_),{onClick:k,variant:"outline",disabled:m.value,class:"min-w-[100px]"},{default:r(()=>[m.value?(l(),i("div",Le,e[37]||(e[37]=[t("div",{class:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"},null,-1),n(" Saving... ")]))):(l(),i("div",je,[o(s(X),{class:"w-4 h-4"}),e[38]||(e[38]=n(" Save Changes "))]))]),_:1},8,["disabled"]),o(s(_),{onClick:B,disabled:m.value,class:"min-w-[120px]"},{default:r(()=>[m.value?(l(),i("div",He,e[39]||(e[39]=[t("div",{class:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"},null,-1),n(" Saving... ")]))):(l(),i("div",Ke,[o(s(Z),{class:"w-4 h-4"}),e[40]||(e[40]=n(" Continue to Preview "))]))]),_:1},8,["disabled"])])]),_:1})]),_:1}),o(s(P),null,{default:r(()=>[o(s(D),null,{default:r(()=>[t("div",Xe,[t("div",Ye,[o(s(Y),{class:"w-5 h-5 text-amber-600 dark:text-amber-400"})]),o(s($),{class:"text-base"},{default:r(()=>e[41]||(e[41]=[n("Terms & Pricing Tips")])),_:1})])]),_:1}),o(s(V),null,{default:r(()=>[t("ul",ze,[t("li",Ge,[o(s(p),{class:"w-4 h-4 text-green-500 mt-0.5 flex-shrink-0"}),e[42]||(e[42]=t("span",null," Clear terms and conditions protect both you and your clients ",-1))]),t("li",Qe,[o(s(p),{class:"w-4 h-4 text-green-500 mt-0.5 flex-shrink-0"}),e[43]||(e[43]=t("span",null," Consider hiding prices if you prefer to discuss pricing personally ",-1))]),t("li",We,[o(s(p),{class:"w-4 h-4 text-green-500 mt-0.5 flex-shrink-0"}),e[44]||(e[44]=t("span",null," Price breakdowns help clients understand what they're paying for ",-1))]),t("li",Ze,[o(s(p),{class:"w-4 h-4 text-green-500 mt-0.5 flex-shrink-0"}),e[45]||(e[45]=t("span",null," Requiring terms acceptance ensures clients acknowledge your policies ",-1))])])]),_:1})]),_:1})]))}}),yt=H(et,[["__scopeId","data-v-abf80aa5"]]);export{yt as default};
